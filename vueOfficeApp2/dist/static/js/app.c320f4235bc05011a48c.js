webpackJsonp([1],Array(244).concat([function(t,e){},,function(t,e){},function(t,e){},,,function(t,e,i){i(659),i(660);var a=i(4)(i(320),i(746),null,null);t.exports=a.exports},function(t,e,i){i(674),i(675);var a=i(4)(i(321),i(763),null,null);t.exports=a.exports},function(t,e,i){i(642);var a=i(4)(i(322),i(726),null,null);t.exports=a.exports},function(t,e,i){i(662);var a=i(4)(i(323),i(748),null,null);t.exports=a.exports},function(t,e,i){i(654);var a=i(4)(i(324),i(739),null,null);t.exports=a.exports},function(t,e,i){i(655);var a=i(4)(i(325),i(740),null,null);t.exports=a.exports},function(t,e,i){i(644);var a=i(4)(i(326),i(728),null,null);t.exports=a.exports},function(t,e,i){var a=i(4)(i(327),i(765),null,null);t.exports=a.exports},function(t,e,i){i(676);var a=i(4)(i(328),i(764),null,null);t.exports=a.exports},function(t,e,i){var a=i(4)(i(329),i(722),null,null);t.exports=a.exports},function(t,e,i){i(648);var a=i(4)(i(330),i(733),null,null);t.exports=a.exports},function(t,e,i){i(650);var a=i(4)(i(331),i(735),null,null);t.exports=a.exports},function(t,e,i){i(667);var a=i(4)(i(332),i(754),null,null);t.exports=a.exports},function(t,e,i){var a=i(4)(i(333),i(743),null,null);t.exports=a.exports},function(t,e,i){i(664);var a=i(4)(i(334),i(750),null,null);t.exports=a.exports},function(t,e,i){i(668);var a=i(4)(i(335),i(755),null,null);t.exports=a.exports},function(t,e,i){i(653);var a=i(4)(i(336),i(738),null,null);t.exports=a.exports},function(t,e,i){i(649);var a=i(4)(i(337),i(734),null,null);t.exports=a.exports},function(t,e,i){i(671);var a=i(4)(i(338),i(758),null,null);t.exports=a.exports},function(t,e,i){i(670);var a=i(4)(i(339),i(757),null,null);t.exports=a.exports},function(t,e,i){i(652);var a=i(4)(i(340),i(737),null,null);t.exports=a.exports},function(t,e,i){var a=i(4)(i(341),i(760),null,null);t.exports=a.exports},function(t,e,i){i(673);var a=i(4)(i(342),i(761),null,null);t.exports=a.exports},function(t,e,i){i(640);var a=i(4)(i(343),i(723),null,null);t.exports=a.exports},function(t,e,i){var a=i(4)(i(344),i(753),null,null);t.exports=a.exports},function(t,e,i){i(639);var a=i(4)(null,i(721),null,null);t.exports=a.exports},function(t,e,i){i(646);var a=i(4)(i(345),i(730),null,null);t.exports=a.exports},function(t,e,i){i(658);var a=i(4)(i(346),i(744),null,null);t.exports=a.exports},function(t,e,i){i(647);var a=i(4)(i(347),i(731),null,null);t.exports=a.exports},function(t,e,i){i(672);var a=i(4)(i(348),i(759),null,null);t.exports=a.exports},function(t,e,i){i(661);var a=i(4)(i(349),i(747),null,null);t.exports=a.exports},function(t,e,i){i(645);var a=i(4)(i(350),i(729),null,null);t.exports=a.exports},function(t,e,i){i(665);var a=i(4)(i(351),i(751),null,null);t.exports=a.exports},function(t,e,i){var a=i(4)(i(352),i(724),null,null);t.exports=a.exports},function(t,e,i){i(656);var a=i(4)(i(353),i(741),null,null);t.exports=a.exports},function(t,e,i){i(657);var a=i(4)(i(354),i(742),null,null);t.exports=a.exports},function(t,e,i){i(669);var a=i(4)(i(355),i(756),null,null);t.exports=a.exports},function(t,e,i){i(643);var a=i(4)(i(356),i(727),null,null);t.exports=a.exports},function(t,e,i){i(666);var a=i(4)(i(357),i(752),null,null);t.exports=a.exports},function(t,e,i){i(638);var a=i(4)(i(358),i(720),null,null);t.exports=a.exports},function(t,e,i){i(641);var a=i(4)(i(359),i(725),null,null);t.exports=a.exports},function(t,e,i){i(663);var a=i(4)(i(360),i(749),null,null);t.exports=a.exports},function(t,e,i){var a=i(4)(null,i(762),null,null);t.exports=a.exports},function(t,e,i){i(651);var a=i(4)(i(361),i(736),null,null);t.exports=a.exports},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"swiper-slide",data:function(){return{slideClass:"swiper-slide"}},ready:function(){this.update()},mounted:function(){this.update(),this.$parent.options.slideClass&&(this.slideClass=this.$parent.options.slideClass)},updated:function(){this.update()},attached:function(){this.update()},methods:{update:function(){this.$parent&&this.$parent.swiper&&this.$parent.swiper.update&&(this.$parent.swiper.update(!0),this.$parent.options.loop&&this.$parent.swiper.reLoop())}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a="undefined"!=typeof window;a&&(window.Swiper=i(224),i(637)),e.default={name:"swiper",props:{options:{type:Object,default:function(){return{autoplay:3500}}}},data:function(){return{defaultSwiperClasses:{wrapperClass:"swiper-wrapper"}}},ready:function(){!this.swiper&&a&&(this.swiper=new Swiper(this.$el,this.options))},mounted:function(){var t=this,e=function(){if(!t.swiper&&a){delete t.options.notNextTick;var e=!1;for(var i in t.defaultSwiperClasses)t.defaultSwiperClasses.hasOwnProperty(i)&&t.options[i]&&(e=!0,t.defaultSwiperClasses[i]=t.options[i]);var s=function(){t.swiper=new Swiper(t.$el,t.options)};e?t.$nextTick(s):s()}};this.options.notNextTick?e():this.$nextTick(e)},updated:function(){this.swiper&&this.swiper.update()},beforeDestroy:function(){this.swiper&&(this.swiper.destroy(),delete this.swiper)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(364),s=i.n(a);e.default={data:function(){var t;return t={ID:"2",workshopId:"一车间",machineId:"",machineName:"机器1-6",hasPermission:"",alertId:"",machineCount:"",workshopName:"",maintenanceId:""},s()(t,"hasPermission",""),s()(t,"modify_machine_picture",!1),t},mounted:function(){$("#backTitle").height($("#image").height()),$("#historyBack").click(function(){layer.open({type:2})})}}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);__webpack_exports__.default={data:function(){return{content:""}},mounted:function mounted(){function showModules(t){for(var e,i='<div class="content-padded grid-demo"><div class="row">',a=0;a<t.length;a++)e=t[a],i+=getMenuHtml(e.icon,e.name,e.url);i+="</div></div>",$("#content").html(i),addClickAndTouchOperation(),showOrHideTakeSample(),getWorkshops(),setInterval(function(){getWorkshops()},1e4)}function showOrHideTakeSample(){var t=getRole();1==t||2==t?(console.log("show take sample"),$("#take-sample").show()):($("#take-sample").hide(),console.log("hide take sample"))}function addClickAndTouchOperation(){$("div.cell").click(function(){var detailUrl=$(this).find("span").text(),title=$(this).find("p").text(),a=detailUrl.split("/"),b=a[a.length-1].split("."),c=b[0];if(!isEmpty(detailUrl))if(0==detailUrl.indexOf("http"))"records"==c?(location.href=projectBaseUrl+"records.html",$("#historyBack").css("display","inline-block")):(location.href="#/"+c,$("#historyBack").css("display","inline-block"),layer.open({type:2}));else if(0==detailUrl.indexOf("window.js_interface"))if(window.js_interface)try{eval(detailUrl)}catch(t){console.log(t.toString()),layer.open({content:"请在工厂宝APP上使用本功能,或者升级工厂宝APP到最新版本。"})}else layer.open({content:"请在工厂宝APP上使用本功能,或者升级工厂宝APP到最新版本。"});else vueThis.$message("出错啦");return!1}),$(".cell").on("touchstart",function(){$(this).css("background-color","#dcdcdc")}),$(".cell").bind("touchend",function(){$(this).css("background-color","")})}function getMenuHtml(t,e,i){var a="";return"人脸采样"==e?a='<div class="col-33 cell" id="take-sample">':"设备管理"==e?(a='<div class="col-33 cell" id="machine">',a+='<img id="machine_alert_image" src="static/images/ic_light_red.png">'):a='<div class="col-33 cell">',a+='<a href="#" id="menu-machine">',a+="<span hidden>"+i+"</span>",a+='<img src="'+t+'">',a+="<p>"+e+"</p>",a+="</a>",a+="</div>"}function getWorkshops(){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/workshops",headers:{Authorization:"Bearer "+getToken()},success:function(t){console.log("车间信息："+__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(t)),10001==t.status?t.data.total>0?getWorkshopStatus(t.data.list):vueThis.$message("没有车间信息"):vueThis.$message("获取车间信息失败"+t.status)},error:function(t,e,i){vueThis.$message("加载车间列表出错"+e)}})}function getWorkshopStatus(t){void 0!=t&&null!=t&&0!=t.length&&$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/status",data:{workshop_id:0},headers:{Authorization:"Bearer "+getToken()},success:function(e){console.log("车间状态信息："+__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(e));var i=!1;if(10001==e.status){var a=e.data;if(null!=a&&void 0!=a)for(var s=0;s<t.length;s++){var n=t[s].id,l=a[""+n];if(void 0!=l){var r=l.status;-1==r&&(i=!0)}}}if(1==i){$("#machine_alert_image").show();try{void 0!=window.js_interface&&isAlertTurnOn()&&(Terminal.platform.android?playAlarmMusic():window.js_interface.playAlarmMusic())}catch(t){playAlarmMusic()}}else $("#machine_alert_image").hide(),console.error("无报警")},error:function(t,e,i){console.log("get status error, "+e)}})}function isAlertTurnOn(){if(void 0!=window.js_interface)try{return 1==window.js_interface.turnOnMachineAlert()||"YES"===window.js_interface.turnOnMachineAlert()}catch(t){return!0}return!0}function playAlarmMusic(){try{document.getElementById("alarm-audio").play()}catch(t){console.log(t)}}$("#historyBack").css("display","none"),$("#titleName").text("办公");var vueThis=this,moduleUrl=requestBaseUrl+"companies/app/h5/modules";console.log(moduleUrl,getToken()),$.ajax({url:moduleUrl,type:"GET",async:!1,headers:{Authorization:"Bearer "+getToken()},success:function(t){layer.closeAll(),console.log("获取到模块：\n"+formatJSON(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(t))),10001==t.status?showModules(t.data):vueThis.$message("获取模块出错"+t.status)},error:function(t,e,i){vueThis.$message("获取模块出错")}});var Terminal={platform:function(){var t=navigator.userAgent;navigator.appVersion;return{iPhone:t.indexOf("iPhone")>-1,iPad:t.indexOf("iPad")>-1,weixin:t.toLowerCase().indexOf("micromessenger")>-1,android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,wp:t.indexOf("Windows Phone")>-1}}()}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{content:"content",list:"",list2:"",restaurants:[],state:"",pickerOptions0:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},switchValue:!1,value1:"",value2:"",dialogVisible:!1,dialog:!1,dialog2:!1,isAgree:"",isAgree2:"",event:"",pickerVisible:"",pickerVisible2:"",startTime1:"",endTime1:""}},methods:{changeBoolean:function(t){t?$("#changePaid").html("带薪"):$("#changePaid").html("不带薪")},handleConfirm:function(t){this.startTime1=t.getFullYear()+"/"+(t.getMonth()+1>=10?t.getMonth()+1:"0"+(t.getMonth()+1))+"/"+(t.getDate()>=10?t.getDate():"0"+t.getDate())+" "+(t.getHours()>=10?t.getHours():"0"+t.getHours())+":"+(t.getMinutes()>=10?t.getMinutes():"0"+t.getMinutes()),console.log(this.startTime1)},handleConfirm2:function(t){this.endTime1=t.getFullYear()+"/"+(t.getMonth()+1>=10?t.getMonth()+1:"0"+(t.getMonth()+1))+"/"+(t.getDate()>=10?t.getDate():"0"+t.getDate())+" "+(t.getHours()>=10?t.getHours():"0"+t.getHours())+":"+(t.getMinutes()>=10?t.getMinutes():"0"+t.getMinutes()),console.log(this.thisTime1)},openPicker:function(){this.$refs.picker.open()},openPicker2:function(){this.$refs.picker2.open()},agree:function(t){this.dialog=!0,this.event},disagree:function(t){this.dialog2=!0,this.event},sureAgree:function(){this.isAgree(event)},sureDisagree:function(){this.isAgree2(event)},listItem:function(t){var e=$(".list-item").eq(t).find("#type").text(),i=$(".list-item").eq(t).find("#reason").text(),a=$(".list-item").eq(t).find("#time").text(),s=$(".list-item").eq(t).find("#result").text(),n=e+"<br/>"+i+"<br/>"+a+"<br/>"+s;layer.open({title:"请假详情",content:n,btn:["确定"]}),$(".layui-m-layerchild>h3").css({"font-size":"20px",margin:0}),$(".layui-m-layercont").css({"text-align":"left","padding-top":0,"padding-bottom":"10px","font-size":"18px"}),$(".layui-m-layerbtn>span").css("font-size","18px")},querySearch:function(t,e){var i=this.restaurants;e(t?i.filter(this.createFilter(t)):i)},createFilter:function(t){return function(e){return 0===e.value.indexOf(t.toLowerCase())}},clearForm:function(){this.switch=!1,this.state="",this.startTime1="",this.endTime1="",$("#leave-reason").val(""),$("#hours").val(""),this.dialogVisible=!1},alertstate:function(){return{state:this.state,start:this.value1,end:this.value2}}},mounted:function(){function t(t){o.isAgree=function(i){e(i.target.id,!0,t)},o.isAgree2=function(i){e(i.target.id,!1,t)}}function e(t,e,i){var s=requestBaseUrl+"companies/users/leave/"+t,n="PUT";e||(n="DELETE"),$.ajax({url:s,type:n,headers:{Authorization:"Bearer "+getToken()},success:function(e){10001==e.status?(o.$message("操作成功"),$("div#card-id-"+t).remove(),1==i.length&&a()):o.$message("操作失败，错误码："+e.status)},error:function(t,e,i){o.$message("操作失败")}})}function i(t,e,i,a,n,l,r){layer.open({type:2}),$.ajax({url:requestBaseUrl+"companies/users/leave",type:"POST",headers:{Authorization:"Bearer "+getToken()},data:{leave_type:t,reason:e,start_time:strToUnixTimestamp(i+":00"),end_time:strToUnixTimestamp(a+":00"),times:n,have_salary:l},success:function(t){if(layer.open({content:"提交成功"}),setTimeout(function(){layer.closeAll()},1e3),o.clearForm(),window.js_interface&&!isEmpty(myLeaderEaseMobUsername)){var e=projectBaseUrl+"leave.html?check=true",i={msg:r,myLeaderEaseMobUsername:myLeaderEaseMobUsername,url:e};try{window.js_interface.sendApplyMessage(s()(i))}catch(t){console.log(t)}}},error:function(t,e,i){o.$message("提交失败"),o.$message.closeAll()}})}function a(){$("#tab-page-check-content").html('<div class="hint">暂无待审核的请假申请</div>')}function n(t){for(var e,i=0;i<c.length;i++)if(e=c[i],e.name==t)return e.id;return 1}$("#titleName").text("请假申请");var l="",r="",o=this;getUrlParam("check")&&($(".tab-link").removeClass("active"),$(".tab").removeClass("active"),$("#tab3").addClass("active"),$("#tab-check-leaves").addClass("active")),isBoss?($("#tab-check-leaves").css("display",""),$("#tab3").css("display","")):($("#tab-check-leaves").css("display","none"),$("#tab3").css("display","none")),$("#salary-checkbox").change(function(){var t=$(this).attr("checked"),e=$(".label_checkbox-hint");t?e.text("带薪"):e.text("不带薪")}),$("#item-deliver").click(function(){window.js_interface&&window.js_interface.selectDeliver()});var c=[],d=[];$("#btn-submit").click(function(){var t,e=o.alertstate().state,a=$("#leave-reason").val(),s=o.startTime1,l=o.endTime1,r=$("#hours").val(),c=$("#salary-checkbox").attr("checked");if(t=c?1:2,""==e)return void o.$message("请选择请假类型");if(isEmpty(a))return void o.$message("请填写请假原因");if(isEmpty(s)||isEmpty(l))return void o.$message("请选择请假时间");if(-1!=compareDateStr(s+":00",l+":00"))return void o.$message("开始时间必须在结束时间之前");if(isEmpty(r))return void o.$message("请填写请假小时");if(!isNumber(r)||r<=0)return void o.$message("请假小时数填写有误");var d="请假申请单\n类型："+e+"\n原因："+a+"\n开始时间："+s+"\n结束时间："+l;i(n(e),a,s,l,r,t,d)}),function(){$.ajax({type:"GET",url:requestBaseUrl+"companies/users/leave",async:!1,headers:{Authorization:"Bearer "+getToken()},success:function(t){if(layer.closeAll(),10001==t.status){if(l=t.data.list,console.log(l),null==l||0==l.length)return void $("#tab-page-list").html('<div class="hint">暂无历史请假记录</div>')}else o.$message("错误"+t.status)},error:function(t,e,i){o.$message("加载请假记录出错")}})}();for(var u=0;u<l.length;u++)l[u].start_time=getTimeStr(l[u].start_time),l[u].end_time=getTimeStr(l[u].end_time);this.list=l,function(){$.ajax({type:"GET",url:requestBaseUrl+"companies/leave/types",async:!1,headers:{Authorization:"Bearer "+getToken()},success:function(t){if(10001==t.status){var e=t.data.list;c=e;for(var i=0;i<e.length;i++)d.push(e[i].name)}}})}();for(var u=0;u<d.length;u++)d[u]={value:d[u]};this.restaurants=d,console.log(d),function(){$.ajax({type:"GET",url:requestBaseUrl+"companies/users/leave/check",async:!1,headers:{Authorization:"Bearer "+getToken()},success:function(e){10001==e.status&&(console.log(e.data.list),r=e.data.list,r.length>0?t(l):a())},error:function(){a()}})}();for(var u=0;u<r.length;u++)r[u].start_time=getTimeStr(r[u].start_time),r[u].end_time=getTimeStr(r[u].end_time);this.list2=r,$('[class="link agree"]').click(function(){showAgreeOrNotDialog($(this).attr("id"),!0,l),o.$message("agree id = "+$(this).attr("id"))}),$('[class="link disagree"]').click(function(){showAgreeOrNotDialog($(this).attr("id"),!1,l),o.$message("disagree id = "+$(this).attr("id"))}),getMyLeader()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{content:""}},mounted:function(){$("#titleName").text("机床列表"),layer.closeAll(),$(".card").bind("touchstart",function(){$(this).css("opacity","0.6")}),$(".card").bind("touchend",function(){$(this).css("opacity","")}),$(".card").click(function(){window.location="#/machine_detail"})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(35);e.default={data:function(){return{}},mounted:function(){function t(t,i){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/workshops/"+t+"/machines",headers:{Authorization:"Bearer "+getToken()},success:function(t){if(layer.closeAll(),r++,void 0!=t&&null!=t&&""!=t)if(10001==t.status){var i=t.data.list;if(null!=i&&void 0!=i&&""!=i)for(var a=0;a<i.length;a++){var s=i[a],o={machineName:s.name,machineId:s.id};l.push(o)}}else console.log("获取车间机床信息出错code = "+t.status);if(r==n)for(var a=0;a<l.length;a++)e(l[a])},error:function(t,e,i){console.log("加载机床列表出错")}})}function e(t){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/"+t.machineId+"/datas",headers:{Authorization:"Bearer "+getToken()},data:{day:getTodayStartUnixTimestamp(),is_today:1},success:function(e){if(o++,null!=e&&void 0!=e&&""!=e)if(10001==e.status){var a=e.data;t.greenTime=i(a.green),t.yellowTime=i(a.yellow),t.redTime=i(a.red)}else console.log("获取机床统计数据出错"+e.status);o==l.length&&s()},error:function(t,e,i){console.log("get machine running data error! "+e)}})}function i(t){var e=0;if(null!=t&&void 0!=t)for(var i=0;i<t.length;i++){var a=t[i];e+=a.end-a.start}return parseInt(e/60,10)}function s(){for(var t=a.init(document.getElementById("main")),e=[],i=[],s=[],n=[],r=[],o=0;o<l.length;o++){var c=l[o];r.push(c.machineName),e.push(c.redTime),s.push(c.yellowTime),i.push(c.greenTime),n.push(Math.round((new Date).getTime()/1e3/60)-c.redTime-c.greenTime-c.yellowTime-Math.round(getTodayStartUnixTimestamp()/60))}var d=getTimeNow(),u="（"+d.yearStr+"年"+d.monthStr+"月"+d.dayStr+"日）",v="机床整体当天数据统计图"+u,m=null;l.length>4&&(m=[{style:"slider",end:100,start:60,zoomLock:!1,handleSize:50}]);var p={title:{text:v,subtext:"单位：分钟",x:"center",textStyle:{fontSize:16}},dataZoom:m,grid:{top:"20%"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},color:["#66CC99","#CCCC33","#CC0033","#888888"],legend:{data:["工作时间","待机时间","故障时间","其他时间"],top:60},xAxis:[{data:r,type:"category"}],yAxis:[{type:"value"}],series:[{name:"工作时间",type:"bar",data:i,label:{normal:{show:!0,position:"top"}}},{name:"待机时间",type:"bar",data:s,label:{normal:{show:!0,position:"top"}}},{name:"故障时间",type:"bar",data:e,label:{normal:{show:!0,position:"top"}}},{name:"其他时间",type:"bar",data:n,label:{normal:{show:!0,position:"top"}}}]};t.setOption(p)}var n=0,l=[],r=0,o=0;!function(){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/workshops",headers:{Authorization:"Bearer "+getToken()},success:function(e){if(10001==e.status)if(e.data.total>0){var i=e.data.list;n=i.length;for(var a=0;a<i.length;a++)t(i[a].id,i[a].name)}else console.log("没有车间信息");else console.log("获取车间信息失败"+e.status)},error:function(t,e,i){console.log("加载车间列表出错")}})}()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{value1:"",value2:"",value3:"",startTime1:"",endTime1:"",perTime1:"",pickerValue1:"",pickerValue2:"",pickerValue3:""}},methods:{openPicker1:function(){this.$refs.picker1.open()},openPicker2:function(){this.$refs.picker2.open()},openPicker3:function(){this.$refs.picker3.open()},handleConfirm1:function(t){this.startTime1=t.getFullYear()+"/"+(t.getMonth()+1>=10?t.getMonth()+1:"0"+(t.getMonth()+1))+"/"+(t.getDate()>=10?t.getDate():"0"+t.getDate())+" "+(t.getHours()>=10?t.getHours():"0"+t.getHours())+":"+(t.getMinutes()>=10?t.getMinutes():"0"+t.getMinutes())},handleConfirm2:function(t){this.endTime1=t.getFullYear()+"/"+(t.getMonth()+1>=10?t.getMonth()+1:"0"+(t.getMonth()+1))+"/"+(t.getDate()>=10?t.getDate():"0"+t.getDate())+" "+(t.getHours()>=10?t.getHours():"0"+t.getHours())+":"+(t.getMinutes()>=10?t.getMinutes():"0"+t.getMinutes())},handleConfirm3:function(t){this.perTime1=t}},mounted:function(){function t(){$("#input-piece-name").val(""),a.value1="",a.value2="",a.value3="",$(".result").hide()}function e(t){var e=t.replace(/-/g,"/");return new Date(e)}function i(t){return e(t).getTime()/1e3}$("titleName").text("加工计算器"),layer.closeAll();var a=this,n=getUrlParam("id"),l=getUrlParam("machineName");isEmpty(l)||$("title").html("加工计算器-"+l);for(var r,o,c,d=getTimeNow(),u=(d.yearStr,d.monthStr,d.dayStr,d.hourStr,d.minuteStr,[]),v=[],m=[],p=0;p<24;p++)u.push(p+"小时");for(var p=0;p<60;p++)v.push(p+"分钟"),m.push(p+"秒");$("#btn-clear").click(function(){t()}),t(),$("#btn-submit").click(function(){if(r=a.startTime1,o=a.endTime1,c=a.perTime1,isEmpty(c))return void a.$message("加工单个工件时间填写有误");if(isEmpty(r)||isEmpty(o)||isEmpty(c))return void a.$message("请将数据填写完整");var t=0;if(console.log("pertime: "+c),0==(t=60*c.split(":")[0]*60+60*c.split(":")[1]+59))return void a.$message("请选择加工时间");console.log("加工一个工件所需时间："+t+"秒"),a.$message({message:"正在计算...",duration:0}),$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/"+n+"/time_datas",headers:{Authorization:"Bearer "+getToken()},data:{start_time:i(r+":00"),end_time:i(o+":00")},success:function(e){if(a.$message.closeAll(),console.log("calculate result: "+s()(e)),isEmpty(e)||10001!=e.status)a.$message("计算出错");else{var i=e.data.green,n=(i/60).toFixed(1),l=i/t;console.log("amount = "+l),$("#operate-count").html(l.toFixed(1)+"个"),$("#total-time").html(n+"分钟"),$(".result").show()}},error:function(t){a.$message.closeAll(),a.$message("计算出错"),console.log("计算出错："+t.status)}})})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{}},mounted:function(){function t(t){var i=getTimeStr(t.time);if($("#card-time").html("报警时间："+i),0==t.pic.length)$("#card-image").html("暂无报警图片");else{var a="https://img.listome.com"+t.pic,s='<img class="card-alert-img" src="'+a+'">';$("#card-image").html(s)}e(t.manager_ids)}function e(t){$.ajax({type:"GET",url:requestBaseUrl+"companies/users/names",data:{user_ids:s()(t)},headers:{Authorization:"Bearer "+getToken()},success:function(t){if(10001==t.status){var e=t.data.names,i="";if(e.length>0){for(var a=0;a<e.length;a++)i+=e[a]+", ";$("#card-manager").html("机床负责人："+i.substring(0,i.length-2))}}},error:function(t,e,i){console.log(i)}})}var i=this,a=getUrlParam("machineId"),n=getUrlParam("alertId");!function(e,i){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/"+e+"/alert/records/"+i,headers:{Authorization:"Bearer "+getToken()},success:function(e){layer.closeAll(),console.log("get alert detail: "+formatJSON(s()(e))),10001==e.status&&t(e.data)},error:function(t,e,i){console.log(i)}})}(a,n),$("#take-picture").bind("touchstart",function(){$(this).css("background-color","#dcdcdc")}),$("#take-picture").bind("touchend",function(){$(this).css("background-color","")}),$("#take-picture").click(function(){Terminal.platform.android||(window.location.href=window.location.href+"#modify_machine_picture");try{var t=requestBaseUrl+"iot/companies/machines/"+a+"/alert/records/"+n+"/pic";window.js_interface.modifyMachinePic(t)}catch(t){Terminal.platform.android&&i.$message("请在工厂宝APP上使用本功能，或者升级工厂宝APP到最新版本。")}})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{list:"",fn:""}},methods:{machineAlertDetail:function(t){this.fn(t)}},mounted:function(){function t(t){for(var a=0;a<t.length;a++)t[a].time=getTimeStr(t[a].time);e.list=t,e.fn=function(t){window.location.href="#/machine_alert_detail?machineId="+i+"&alertId="+$("#list>li").eq(t).attr("id")}}$("#titleName").text("机床报警记录");var e=this,i=getUrlParam("id");!function(e){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/"+e+"/alert/records",headers:{Authorization:"Bearer "+getToken()},success:function(e){if(layer.closeAll(),console.log("get machine alert records: "+formatJSON(s()(e))),10001==e.status)if(e.data.total>0){var i=e.data.list;$("div.content-block-title").html("机床报警列表（"+e.data.total+"条）"),t(i)}else $("div.content-block-title").html("机床报警列表（0条）")},error:function(t,e,i){console.log(i)}})}(i)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{data:""}},mounted:function(){function t(t){t.buy_date>0&&(t.buy_date=getTimeStr(t.buy_date)),t.last_maintenance_date>0&&(t.last_maintenance_date=getTimeStr(t.last_maintenance_date)),n.data=t,console.log(t),e(),i(l,r)}function e(){$("#menu-single-machine-statistics-day").click(function(){window.location="#/single_machine_statistics?workshopId="+l+"&machineId="+r+"&machineName="+encodeURIComponent(o)}),$("#menu-single-machine-statistics-month").click(function(){window.location="#/single_machine_statistics_month?workshopId="+l+"&machineId="+r+"&machineName="+encodeURIComponent(o)}),$("#menu-machine-alert").click(function(){window.location="#/machine_alert_records?id="+r}),$("#menu-maintenance-detail").click(function(){window.location.href="#/single_machine_maintenance_detail?machineId="+r+"&machineName="+encodeURIComponent(o)+"&hasPermission="+c}),$("#menu-machine-calculate").click(function(){window.location="#/calculate?id="+r+"&machineName="+encodeURIComponent(o)}),$("#menu-single-machine-timeline-statistics-day").click(function(){window.location="#/single_machine_timeline_statistics?workshopId="+l+"&machineId="+r+"&machineName="+encodeURIComponent(o)})}function i(t,e){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/workshops/"+t+"/machines/"+e+"/manager/access",async:!1,headers:{Authorization:"Bearer "+getToken()},success:function(i){console.log("get permission: "+s()(i)),10001==i.status&&(c=1,$("span.image-text").show(),$("div.no-permission").hide(),$("div.has-permission").show(),$("#btn-submit-remark").click(function(){var i=$("#remark-input").val();""==i||""==i.trim()?n.$message("请填写备注再提交"):a(i,t,e)}),$("img.machine-img").click(function(){Terminal.platform.android||(window.location.href="#/machine_detail#modify_machine_picture");try{var i=requestBaseUrl+"iot/companies/workshops/"+t+"/machines/"+e+"/info";window.js_interface.modifyMachinePic(i)}catch(t){Terminal.platform.android&&n.$message("请在工厂宝APP上使用本功能，或者升级工厂宝APP到最新版本。")}}))},error:function(t,e,i){console.log("get permission error: "+e)}})}function a(t,e,i){n.$message({message:"正在提交备注信息",duration:0}),$.ajax({type:"POST",url:requestBaseUrl+"iot/companies/workshops/"+e+"/machines/"+i+"/info",data:{remark:t},ecntype:"multipart/form-data",headers:{Authorization:"Bearer "+getToken()},success:function(t){$.hidePreloader(),10001==t.status?n.$message("修改备注信息成功"):n.$message("修改备注信息失败")},error:function(t){n.$message.closeAll(),n.$message("修改备注信息失败")}})}$("#titleName").text("机床详情");var n=this,l=getUrlParam("workshopId"),r=getUrlParam("machineId"),o=getUrlParam("machineName"),c=0;null!=o&&void 0!=o&&""!=o&&$("title").text(o+"机床详情"),function(e,i){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/workshops/"+e+"/machines/"+i,headers:{Authorization:"Bearer "+getToken()},success:function(e){layer.closeAll(),console.log("machine detail: "+s()(e)),10001==e.status?t(e.data):n.$message("获取机床详情出错"+e.status)},error:function(t,e,i){n.$message("获取机床详情出错")}})}(l,r)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{dialogVisible1:!1,dialogVisible2:!1}},mounted:function(){layer.closeAll();var t=this;$("#menu-get-current-time").click(function(){var t=getTimeStr((new Date).getTime()/1e3);$("#current-time-label").text(t)}),$("#btn-start-task").click(function(){t.dialogVisible1=!0}),$("#btn-stop-task").click(function(){t.dialogVisible2=!0}),function(){for(var t=(new Date).getTime()/1e3,e="",i=0;i<10;i++)e+='<li class="item-content">',e+='<div class="item-inner">',e+='<div class="item-title">'+getTimeStr(t-1e3*i)+"</div>",e+='<div class="item-after">加工模具'+(i+1)+"</div>",e+="</div>",e+="</li>";$("#history-task-list").html(e)}()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a),n=i(35);e.default={data:function(){return{value1:""}},mounted:function(){function t(t,e){var i=0;if(null!=e)for(var a=0;a<e.length;a++){var s=e[a];i+=s.end-s.start}i=Math.round(i/60),"green"==t?u=i:"red"==t?d=i:"yellow"==t&&(v=i)}function e(){var t=n.init(document.getElementById("main")),e=["工作时间","待机时间","故障时间","其他时间"],i=[{value:u,name:"工作时间"},{value:v,name:"待机时间"},{value:d,name:"故障时间"},{value:m,name:"其他时间"}],a={title:{text:c+"机床数据统计图",subtext:"单位：分钟",x:"center"},tooltip:{trigger:"item"},color:["#66CC99","#CCCC33","#CC0033","#888888"],legend:{orient:"horizontal",top:60,data:e},series:[{name:"时间",type:"pie",radius:"55%",data:i}]};t.setOption(a)}function i(t){var e=n.init(document.getElementById("main")),i={title:{text:c+"机床数据统计图",subtext:"单位：分钟",x:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},color:["#66CC99","#CCCC33","#CC0033","#888888"],xAxis:{data:["工作时间","待机时间","故障时间","其他时间"]},yAxis:{},series:[{name:"时间",type:"bar",data:[{value:u,itemStyle:{normal:{color:"#66CC99"}}},{value:v,itemStyle:{normal:{color:"#CCCC33"}}},{value:d,itemStyle:{normal:{color:"#CC0033"}}},{value:m,itemStyle:{normal:{color:"#888888"}}}]}]};e.setOption(i)}function a(t){return isNaN(t)||0==t?"暂无数据":getTimeStr(t)}$("#titleName").text("机床今日统计数据");var l=this,r=getUrlParam("workshopId"),o=getUrlParam("machineId"),c=getUrlParam("machineName");console.log(r+","+o+","+c),null!=c&&void 0!=c&&""!=c&&$("title").text(c+"今日统计数据");var d,u,v,m,p;!function(){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/"+o+"/datas",data:{day:getTodayStartUnixTimestamp(),is_today:1},async:!1,headers:{Authorization:"Bearer "+getToken()},success:function(i){if(layer.closeAll(),console.log("get single machine statistics data: "+formatJSON(s()(i))),10001==i.status){var a=i.data;p=0,null!=a.green&&(p=a.green[0].start),t("green",a.green),t("red",a.red),t("yellow",a.yellow),m=Math.round((new Date).getTime()/1e3/60)-d-u-v-Math.round(getTodayStartUnixTimestamp()/60),e()}},error:function(t,e,i){l.$message("获取机床统计数据出错")}})}(),function(){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/"+o+"/led/latest",headers:{Authorization:"Bearer "+getToken()},success:function(t){if(null!=t&&10001==t.status){console.error("last time: "+s()(t));var e=t.data.red,i=t.data.yellow,n=t.data.green,l=t.data.green_off,r="";r+='<font color="#CC0033">上次故障时间：'+a(e)+"</font><br/>",r+='<font color="#CCCC33">上次待机时间：'+a(i)+"</font><br/>",r+='<font color="#66CC99">上次开始工作时间：'+a(n)+"</font><br/>",r+='<font color="#003333">上次停止工作时间：'+a(l)+"</font><br/>",r+='<font color="#339999">今日首次工作时间：'+a(p)+"</font><br/>",$("#last-time").html(r)}},error:function(t){console.log("获取最后一次亮灯时间失败："+t.status)}})}(),$("#tab-menu1").click(function(){$(this).addClass("active"),$("#tab-menu2").removeClass("active"),e()}),$("#tab-menu2").click(function(){$(this).addClass("active"),$("#tab-menu1").removeClass("active"),i()})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a),n=i(35);e.default={data:function(){return{}},mounted:function(){function t(t,i){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/datas",data:{machine_id:a,start_time:t,end_time:i},headers:{Authorization:"Bearer "+getToken()},success:function(t){layer.closeAll(),console.log("获取到机器统计数据："+formatJSON(s()(t))),10001==t.status&&e(t.data)},error:function(t,e,i){console.log("获取机器统计数据失败：")}})}function e(t){for(var e,i,a,s,c=n.init(document.getElementById("main")),d=t.keys,u=[],v=[],m=[],p=[],h=[],f=getTimeNow(),_=f.month==r&&f.year==o?dayNow:getDaysOfMonth(o,r),g=yearNow+"-"+numberProcess(monthNow)+"-"+numberProcess(dayNow),b=1;b<=_;b++){var C=o+"-"+numberProcess(r)+"-"+numberProcess(b);C!=g&&(u.push(C),null==d||-1==d.indexOf(C)?(v.push(0),m.push(0),p.push(0),h.push(0)):(e=parseInt(t.datas[C].red/60),e<0&&(e*=-1),v.push(e),i=parseInt(t.datas[C].green/60),i<0&&(i*=-1),m.push(i),a=parseInt(t.datas[C].yellow/60),a<0&&(a*=-1),p.push(a),s=parseInt(t.datas[C].purple/60),s<0&&(s*=-1),h.push(s)))}var k=null;u.length>4&&(k=[{type:"slider",end:100,start:60,zoomLock:!1,handleSize:20},{start:0,end:10,handleIcon:"M0,0 v10h6v-10h2 Z",handleSize:"80%",handleStyle:{color:"#CCeeee",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}]);var f=getTimeNow(),$="（"+o+"年"+r+"月）",y="机床"+l+"数据统计图"+$,w={title:{text:y,subtext:"单位：分钟",x:"center"},grid:{top:"20%"},dataZoom:k,tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},color:["#CC0033","#CCCC33","#66CC99"],legend:{data:["故障时间","待机时间","工作时间"],top:60},xAxis:[{data:u,type:"category"}],yAxis:[{type:"value"}],series:[{name:"故障时间",type:"line",data:v,label:{normal:{show:!0,position:"top"}}},{name:"待机时间",type:"line",data:p,label:{normal:{show:!0,position:"top"}}},{name:"工作时间",type:"line",data:m,label:{normal:{show:!0,position:"top"}},markLine:{data:[{type:"average",name:"平均值"}]}}]};c.setOption(w)}$("#titleName").text("机床月统计数据");var i=this,a=(getUrlParam("workshopId"),getUrlParam("machineId")),l=getUrlParam("machineName"),r=monthNow,o=yearNow;null!=l&&void 0!=l&&""!=l&&$("title").text(l+"月统计数据");var c=getStartEndTime(yearNow,monthNow).start_time,d=parseInt((new Date).getTime()/1e3,10);t(c,d),$("a#btn-pre-month").click(function(){1==r?(r=12,o--):r--,c=getStartEndTime(o,r).start_time,d=getStartEndTime(o,r).end_time,t(c,d)}),$("a#btn-next-month").click(function(){if(r>=monthNow&&o>=yearNow)return void i.$message("还没到下个月");12==r?(r=1,o++):r++,c=getStartEndTime(o,r).start_time,d=getStartEndTime(o,r).end_time,t(c,d)})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{value1:"",value2:"",value3:"",value4:"",value5:""}},methods:{openPicker1:function(){this.$refs.picker1.open()},handleConfirm1:function(t){console.log(t)},openPicker2:function(){this.$refs.picker2.open()},handleConfirm2:function(t){console.log(t)},openPicker3:function(){this.$refs.picker3.open()},handleConfirm3:function(t){console.log(t)},openPicker4:function(){this.$refs.picker4.open()},handleConfirm4:function(t){console.log(t)}},mounted:function(){function t(t,e){this.val=t,this.next=e}function e(){this.head=null,this.length=0,this.createList=function(e){if(null!=e&&e.length>0){this.length=e.length,this.head=new t(e[0],null);for(var i=this.head,a=1;a<e.length;a++){var s=new t(e[a],null);i.next=s,i=s}}},this.showList=function(){for(var t=this.head,e="";null!=t;)e+=t.val+" ",t=t.next;console.log(e)},this.insert=function(e,i){if(null==this.head)this.head=new t(i,null);else if(e>this.length-1){for(var a=new t(i,null),s=this.head;null!=s.next;)s=s.next;s.next=a}else if(0==e){var a=new t(i,null);a.next=this.head,this.head=a}else{for(var s=this.head,n=0;n<e-1;n++)s=s.next;var l=s.next,a=new t(i,null);s.next=a,a.next=l}++this.length},this.toArray=function(){for(var t=[],e=this.head;null!=e;)t.push(e.val),e=e.next;return t}}function i(t,e){$("#lookBtn2").click(function(){var i=t+86399,a=i,s=(t-getTodayStartUnixTimestamp()+86400*e)/3600;if(""!=c.value4&&""!=c.value5)var l=c.value4.split(":")[0],r=c.value4.split(":")[1],o=c.value5.split(":")[0],d=c.value5.split(":")[1];var u=t+3600*l+60*r-28800,v=t+3600*o+60*d-28800;if(l<s&&(u=+u+86400,l=+l+24),o<s&&(v=+v+86400,o=+o+24),""==c.value4||""==c.value5)c.$message("时间不能为空");else if(v>a||u>a)c.$message("时间还没到，请选择正确时间");else if(u<v){var m=3600*l+60*r+t-28800+59,p=3600*o+60*d+t-28800+59,h=(m-t)/86399*100,f=(p-t)/86399*100;j.noUiSlider.set([h,f]),n(h,f)}else v==u?c.$message("开始时间不能等于结束时间"):c.$message("请填写正确时间")})}function a(t){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/"+d+"/datas",data:{day:t},async:!1,headers:{Authorization:"Bearer "+getToken()},success:function(t){if(10001==t.status){var e=t.data;_=e.red,g=e.green,b=e.yellow,s()}},error:function(t,e,i){c.$message("获取机床统计数据出错")}})}function s(){var t=[];if(null!=g)for(var e=0;e<g.length;e++)t.push({name:"工作时间",start:g[e].start,end:g[e].end,data:g[e].end-g[e].start});if(null!=b)for(var e=0;e<b.length;e++)t.push({name:"待机时间",start:b[e].start,end:b[e].end,data:b[e].end-b[e].start});if(null!=_)for(var e=0;e<_.length;e++)t.push({name:"故障时间",start:_[e].start,end:_[e].end,data:_[e].end-_[e].start});var i=v,a=i+86399;0==t.length?(T.fillStyle="#888888",T.fillRect(E,B,h-2*f,S),t.push({name:"其他时间",start:i,end:a,data:86399})):t.sort(function(t,e){return t.start>e.start?1:t.start<e.start?-1:0}),M.createList(t);var s;s=i==m?parseInt((new Date).getTime()/1e3,10):a;var n=M.head,r=1;for(n.val.start>i&&(M.insert(0,{name:"其他时间",start:i,end:n.val.start,data:n.val.start-i}),++r);null!=n.next;){var o=n.next;n.val.end<o.val.start&&M.insert(r,{name:"其他时间",start:n.val.end,end:o.val.start,data:o.val.start-n.val.end,insert:!0}),r++,n=n.next}null!=n&&n.val.end<s&&M.insert(r,{name:"其他时间",start:n.val.end,end:s,data:s-n.val.end,insert:!0});var c=(h-2*f)/(s-i),d=0;for(T.clearRect(0,0,h,I),n=M.head;n;){var u=n.val;"待机时间"==u.name?T.fillStyle="#CCCC33":"故障时间"==u.name?T.fillStyle="#CC0033":"工作时间"==u.name?T.fillStyle="#66CC99":T.fillStyle="#888888",T.fillRect(E+d,B,c*u.data,S),d+=c*u.data,d>h-2*f&&(d=h-2*f),n=n.next}l(i,s),C=i,k=s}function n(t,e){var i,a=v,s=a+86399;i=a==m?parseInt((new Date).getTime()/1e3,10):s,t=a+t*(i-a)/100,(e=a+e*(i-a)/100)>i&&(e=i);var n=0,r=(h-2*f)/(e-t);T.clearRect(0,0,h,I);for(var o=M.head;null!=o;){var c=o.val;"待机时间"==c.name?T.fillStyle="#CCCC33":"故障时间"==c.name?T.fillStyle="#CC0033":"工作时间"==c.name?T.fillStyle="#66CC99":T.fillStyle="#888888";var d=0;A>=c.start&&A<=c.end&&(d=10,y=c),c.start>=t&&c.end<=e?(T.fillRect(E+n,B-d,r*c.data,S+2*d),n+=r*c.data):c.start<t&&c.end>t?(T.fillRect(E+n,B-d,r*(c.end-t),S+2*d),n+=r*(c.end-t)):c.end>e&&c.start<e&&(T.fillRect(E+n,B-d,r*(e-c.start),S+2*d),n+=r*(e-c.start)),n>h-2*f&&(n=h-2*f),o=o.next}l(t,e),C=t,k=e}function l(t,e){T.fillStyle="#000000";var i=T.font;T.font="16px Arial";var a=T.measureText("00:00").width;null==t?T.fillText("00:00",f-a/2,210):T.fillText(r(t),f-a/2,210),T.fillText(r(e),h-f-a/2,210),T.font=i}function r(t){var e=new Date(1e3*t),i=e.getHours(),a=e.getMinutes();return i<10&&(i="0"+i),a<10&&(a="0"+a),i+":"+a}function o(){if(null!=y){var t=T.font,e=y.name+": "+r(y.start)+"--"+r(y.end);e+="("+secondToFormattedTime(y.end-y.start)+")",T.fillStyle="#000000",T.font="18px Arial";var i=T.measureText(e).width;T.fillText(e,(h-i)/2,250),T.font=t}}$("#titleName").text("机床时间轴统计图");var c=this,d=(getUrlParam("workshopId"),getUrlParam("machineId")),u=getUrlParam("machineName"),v=getTodayStartUnixTimestamp()+28800,m=getTodayStartUnixTimestamp()+28800,p=0;$(".lookTime").focus(function(){return!1}),$("#lookBtn").click(function(){var t=new Date,e=3600*t.getHours(),i=60*t.getMinutes(),a=3600*e+60*i+getTodayStartUnixTimestamp(),s=(v-getTodayStartUnixTimestamp())/3600,l=c.value2.split(":")[0],r=c.value2.split(":")[1],o=c.value3.split(":")[0],d=c.value3.split(":")[1],u=getTodayStartUnixTimestamp()+3600*l+60*r,m=getTodayStartUnixTimestamp()+3600*o+60*d;if(l<s&&(u+=86400,l+=24),o<s&&(m+=86400,o+=24),m>a||u>a)c.$message("时间还没到，请选择正确时间");else if(u<m){var p=3600*l+60*r+getTodayStartUnixTimestamp()+59,h=3600*o+60*d+getTodayStartUnixTimestamp()+59,f=parseInt((new Date).getTime()/1e3,10)-v,_=(p-v)/f*100,g=(h-v)/f*100;j.noUiSlider.set([_,g]),n(_,g)}else c.$message("请填写正确时间")}),null!=u&&void 0!=u&&""!=u&&($("title").text(u+"    "+getDateStr(v)+"时间轴统计图"),$("#title").text(u+"    "+getDateStr(v)+"时间轴统计图"));var h=$(window).width(),f=h/20;$("#canvas").attr("width",h),$("#canvas").attr("height",300),$("#slider").css("width",h-2*f),$("#slider").css("margin-left",f),$("#slider").css("margin-right",f),$("#subtitle").text(getDateStr(v)),$("a#btn-pre-day").click(function(){p+=1,p>0?($(".look").css("display","none"),$(".look2").css("display","block")):($(".look").css("display","block"),$(".look2").css("display","none")),v-=86400,i(v,p),$("title").text(u+"    "+getDateStr(v)+"时间轴统计图"),$("#title").text(u+"    "+getDateStr(v)+"时间轴统计图"),$("#subtitle").text(getDateStr(v)),void 0!=j&&j.noUiSlider.set([0,100]),a(v)}),$("a#btn-next-day").click(function(){if(p-=1,p<0&&(p=0),p>0?($(".look").css("display","none"),$(".look2").css("display","block")):($(".look").css("display","block"),$(".look2").css("display","none")),v==m)return void c.$message("没有更多数据了");v+=86400,i(v,p),$("title").text(u+"    "+getDateStr(v)+"时间轴统计图"),$("#title").text(u+"    "+getDateStr(v)+"时间轴统计图"),$("#subtitle").text(getDateStr(v)),void 0!=j&&j.noUiSlider.set([0,100]),a(v)});var _,g,b,C,k,y,w=document.getElementById("canvas"),x=w.getBoundingClientRect(),T=w.getContext("2d"),E=f,B=80,S=100,I=300,A=-1,j=document.getElementById("slider"),P=0,U=100,M=new e;noUiSlider.create(j,{start:[0,100],handles:2,margin:1,connect:!0,range:{min:0,max:100}}),j.noUiSlider.on("set",function(t,e){var i=t[0],a=t[1];i===P&&a===U||(n(i,a),U=a,P=i)}),a(m),$("#canvas").click(function(t){var e=t.clientX-x.left-f,i=t.clientY-x.top-100;e>=0&&e<=h-2*f&&i>0&&i<S&&(A=C+e/(h-2*f)*(k-C),n(P,U),o())})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},mounted:function(){function t(){var t=$("#input-phone").val(),i=$("#input-pwd").val();if(isEmpty(t)||isEmpty(i))return void e.$message("手机号或密码不能为空");e.$message({message:"登录中",duration:0}),$.ajax({url:requestBaseUrl+"users/authorization",type:"POST",data:{mobile:t,password:i},success:function(t){if(e.$message.closeAll(),null!=t)if(10001==t.status){if(e.$message("登陆成功"),void 0!=window.js_interface)try{window.js_interface.saveAccessToken(t.data.access_token)}catch(t){}window.location="#/main2"}else e.$message("登录失败"+t.status)},error:function(t,i,a){e.$message.closeAll()}})}var e=this;$("#login-btn").click(function(){t()})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{list:"",list2:"",newMaintenance:"",options:[{value:"选项1",label:"内部保养"},{value:"选项2",label:"外包保养"}],value:"",value2:"",submitMaint:"",submitLis:""}},methods:{back:function(){this.$router.back(-1)},type:function(){return this.value},timer:function(){return this.value2},submitMaintenance:function(){this.submitMaint()},newMaintenanceListItem:function(){this.newMaintenance()},submitList:function(){this.submitLis()}},mounted:function(){function t(t){$("#maintenance-list").append('<li class="item-content">                            <div class="item-inner">                                <div class="label">'+(t+1)+'、</div>                                <div class="item-input">                                    <input type="text" placeholder="输入保养内容">                                </div>                                <div class="item-after">                                    <div class="item-media remove-item-btn"><i class="icon icon-remove"></i></div>                                </div>                            </div>                        </li>'),$(".remove-item-btn").click(function(){$(this).parents("li.item-content").remove(),e()})}function e(){var t=$("#maintenance-list").find("div.label");if(void 0!=t&&t.length>0)for(var e=0;e<t.length;e++)t[e].innerHTML=e+1+"、"}function i(){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/workshops",headers:{Authorization:"Bearer "+getToken()},success:function(t){if(console.log("车间信息："+s()(t)),10001==t.status)if(t.data.total>0){t.data.list;a(t.data.list)}else o.$message("没有车间信息");else o.$message("获取车间信息失败"+t.status)},error:function(t,e,i){o.$message("加载车间列表出错")}})}function a(t){var e="";e+='<div class="page" id="router-select-machine"><header class="bar bar-nav"><a class="button button-link button-nav pull-left back"><span class="icon icon-left"></span> 返回</a><h1 class="title">绑定机床</h1></header><div class="content"><div class="content-block-title">车间列表</div><div class="list-block"><ul id="workshop-list">';for(var i=0;i<t.length;i++)e+='<li class="item-content item-link workshop-item" id='+t[i].id+'><div class="item-inner"><div class="item-title">'+t[i].name+'</div><div class="item-after">'+t[i].machine_count+'台机床</div></div></li><div class="row" id=\'machine-list-'+t[i].id+'\'hidden="hidden"></div>';e+="</ul></div></div></div>",$("#router-add-maintenance").append(e),$("#router-select-machine").css({position:"absolute",top:0}),$(".pull-left").click(function(){$("#router-select-machine").remove()}),$("li.workshop-item").click(function(){var t=$(this).attr("id"),e=$("#machine-list-"+t);e.hasClass("loaded")?e.attr("hidden")?(e.show(),e.removeAttr("hidden")):(e.hide(),e.attr("hidden","hidden")):n(t)})}function n(t){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/workshops/"+t+"/machines",headers:{Authorization:"Bearer "+getToken()},success:function(e){console.log("machine list: "+s()(e)),10001==e.status?e.data.total>0?l(t,e.data.list):o.$message("没有机床信息"):o.$message("获取机床列表失败"+e.status)},error:function(t,e,i){o.$message("加载机床列表出错"+e)}})}function l(t,e){for(var i="",a=0;a<e.length;a++)i+='<div class="col-50"><div class="card" id="'+e[a].workshop_id+"-"+e[a].id+'"><div class="card-content"><div class="card-content-inner"><div class="list-block"><li class="item-content"><div class="item-media"><img src="static/images/ic_operated_punch.png" class="icon-operated"></div><div class="item-inner"><div class="item-title machine-name">'+e[a].name+"</div></div></li></div></div></div></div></div>";console.log(i);var s=$("#machine-list-"+t);s.addClass("loaded"),s.removeAttr("hidden"),s.show(),s.html(i),r()}function r(){$(".card").bind("touchstart",function(){$(this).css("opacity","0.6")}),$(".card").bind("touchend",function(){$(this).css("opacity","")}),$(".card").click(function(){var t=$(this).attr("id").split("-"),e=$(this).find("div.machine-name").text(),i=(t[0],t[1]);c=parseInt(i,10),$("#selected-machine-name").html(e),$("#last-maintenace-time").show(),$("#router-select-machine").remove()})}layer.closeAll();var o=this;$(".icon-left").click(function(){o.$router.back()});var c=(getTimeNow(),-1);$("#select-machine").click(function(){$("#router-select-machine").css("display","block"),i()}),$("#add-maintenance-list").click(function(){$("#router-add-maintenance-list").css("display","block")}),$(".remove-item-btn").click(function(){$(this).parents("li.item-content").remove(),e()}),o.newMaintenance=function(){var e=$("#maintenance-list").children("li").length;""==$("#maintenance-list").find("input").last().val()?o.$message("请填写保养内容再添加新条目"):t(e)},o.submitMaint=function(){var t={},e=$("#maintenance-name").val();if(""==e)return void o.$message("请填写保养项目名称");if(t.name=e,0==d.length)return void o.$message("请添加保养清单");var i=s()(d);t.list=i;var a="";if(c>0){if(""==(a=o.timer()))return void o.$message("请选择上次保养时间");t.last_date=parseInt(new Date(a).getTime()/1e3,10),t.machine_id=c}var n=0,l=$("#input-maintenance-cycle").val();if(""!=l){if(n=parseInt(l,10),isNaN(n))return void o.$message("保养周期填写有误");t.cycle=24*n*60*60}var r=o.type();"内部保养"===r?(1,t.type=1):"外包保养"===r&&(2,t.type=2);var u=$("#remark").val();""!=u&&(t.remark=u),$.ajax({type:"POST",url:requestBaseUrl+"iot/companies/machines/maintenances",headers:{Authorization:"Bearer "+getToken()},data:t,success:function(t){console.log("添加保养项目返回："+s()(t)),null!=t&&(10001==t.status?(o.$message("添加保养项目成功"),$("#router-add-maintenance-list").css("display","none")):o.$message("添加保养项目失败"+t.status))},error:function(t){o.$message("添加保养项目失败"+t.status)}})};var d=[];o.submitLis=function(){var t=$("#maintenance-list").find("input");if(void 0!=t)for(var e=0;e<t.length;e++)""!=t[e].value&&d.push(t[e].value);0==d.length?o.$message("没有添加保养清单"):($("#maintenance-list-hint").text("已添加"+d.length+"项"),$("#router-add-maintenance-list").css("display","none"))}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{list:"",editBtn:"",submitMaint:"",dialogVisible:!1,dialog:!1,newMaint:"",submitL:"",deleteBtn:""}},methods:{editBtnClick:function(t){this.editBtn(t)},submitMaintenance:function(){this.submitMaint()},newMaintenanceListItem:function(){this.newMaint()},submitList:function(){this.submitL()},deleteBtnClick:function(t){this.deleteBtn(t)}},mounted:function(){function t(t){for(var a=0;a<t.length;a++)t[a].list=i(t[a].list),t[a].cycle=e(t[a].cycle);u.list=t}function e(t){return parseInt(t/86400,10)+"天"}function i(t){if(null==t)return"暂无保养清单";for(var e="保养清单：\n",i=0;i<t.length;i++)e+=t[i].name,i!=t.length-1&&(e+="\n");return e}function a(t){$.ajax({type:"DELETE",url:requestBaseUrl+"iot/companies/machines/maintenances/"+t,headers:{Authorization:"Bearer "+getToken()},success:function(e){null!=e&&10001==e.status?(u.$message("删除成功"),$("#card-"+t).remove()):u.$message("删除失败")},error:function(t){u.$message("删除失败"+t.status)}})}function n(t){$("#maintenance-list").append('<li class="item-content">                            <div class="item-inner">                                <div class="label">'+(t+1)+'、</div>                                <div class="item-input">                                    <input type="text" placeholder="输入保养内容">                                </div>                                <div class="item-after">                                    <div class="item-media remove-item-btn"><i class="icon icon-remove"></i></div>                                </div>                            </div>                        </li>'),$(".remove-item-btn").click(function(){$(this).parents("li.item-content").remove(),l()})}function l(){var t=$("#maintenance-list").find("div.label");if(void 0!=t&&t.length>0)for(var e=0;e<t.length;e++)t[e].innerHTML=e+1+"、"}layer.closeAll();var r,o,c,d,u=this;$("#header-add-btn").click(function(){window.location.href="#/machine_maintenance_add"}),function(){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/maintenances",headers:{Authorization:"Bearer "+getToken()},success:function(e){if(10001==e.status){console.log("maintenance list: \n"+formatJSON(s()(e)));var i=e.data.list;null!=i&&i.length>0?(r=i,t(i)):u.$message("暂无保养项目")}else u.$message("加载保养列表出错"+e.status)},error:function(t){u.$message("加载保养列表出错"+t.status)}})}(),u.editBtn=function(t){u.dialogVisible=!0;var e=$(".card").eq(t).find(".menu-btn-edit").parent().attr("id");if(void 0!=r&&null!=r&&r.length>0)for(var i=0;i<r.length;i++){var a=r[i];if(e==a.id){$("#maintenance-name").text(a.name),$("#input-maintenance-cycle").val(parseInt(a.cycle/86400,10)),$("#remark").text(a.remark);var s=a.list;if(null!=s){o=[];for(var n=0;n<s.length;n++)o.push(s[n].name);c=o,$("#maintenance-list-hint").text("已添加"+s.length+"项")}d=e;break}}},u.deleteBtn=function(t){a($(".card").eq(t).find(".menu-btn-delete").parent().attr("id"))},$("#popup-back-edit").click(function(){u.dialogVisible=!1}),$("#popup-back-manifest").click(function(){u.dialog=!1}),$("#add-maintenance-list").click(function(){if(u.dialog=!0,void 0!=o&&null!=o){for(var t="",e=0;e<o.length;e++)t+='<li class="item-content">                            <div class="item-inner">                                <div class="label">'+(e+1)+'、</div>                                <div class="item-input">                                    <input type="text" value="'+o[e]+'" placeholder="输入保养内容">                                </div>                                <div class="item-after">                                    <div class="item-media remove-item-btn"><i class="icon icon-remove"></i></div>                                </div>                            </div>                        </li>';$("ul#maintenance-list").html(t),$(".remove-item-btn").click(function(){$(this).parents("li.item-content").remove(),l()})}}),u.newMaint=function(){var t=$("#maintenance-list").children("li").length;""==$("#maintenance-list").find("input").last().val()?u.$message("请填写保养内容再添加新条目"):n(t)},u.submitL=function(){u.dialog=!1;var t=$("#maintenance-list").find("input");if(void 0!=t){c=[];for(var e=0;e<t.length;e++)""!=t[e].value&&c.push(t[e].value)}0==c.length?(u.$message("没有添加保养清单"),c=o):($("#maintenance-list-hint").text("已添加"+t.length+"项"),o=c)},u.submitMaint=function(){var t={},e=$("#maintenance-name").val();if(""==e)return void u.$message("请填写保养项目名称");if(t.name=e,0==c.length)return void u.$message("请填写保养项目名称");var i=s()(c);t.list=i;var a=0,n=$("#input-maintenance-cycle").val();if(""!=n){if(a=parseInt(n,10),isNaN(a))return void u.$message("保养周期填写有误");t.cycle=24*a*60*60}var l=$("#remark").val();""!=l&&(t.remark=l),$.ajax({type:"PUT",url:requestBaseUrl+"iot/companies/machines/maintenances/"+d,headers:{Authorization:"Bearer "+getToken()},data:t,success:function(t){null!=t&&10001==t.status?window.location.reload(!0):u.$message("修改保养项失败")},error:function(t){u.$message("修改保养项失败"+t.status)}})}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{list:"",workshop_item:""}},methods:{workshopItem:function(t){this.workshop_item(t)},hidden:function(){$("#router-select-machine").css("display","none")},back:function(){this.$router.back()}},mounted:function(){function t(){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/"+d+"/maintenances/records",headers:{Authorization:"Bearer "+getToken()},success:function(t){if(layer.closeAll(),console.log("获取机床保养记录："+s()(t)),null!=t&&10001==t.status){t.data.total<=0?(u.$message(c+"没有保养记录"),i()):e(t.data.list)}},error:function(t){u.$message(c+"没有保养记录"),i()}})}function e(t){if(null!=t){for(var e="",i=0;i<t.length;i++){var a="";if(null!=t[i].list)for(var s=0;s<t[i].list.length;s++)a+=t[i].list[s],a+="<br/>";a+='<hr style="background-color: #ececec; height: 1px; border: none;" >备注：'+t[i].remark,e+='<div class="card">                                <div class="card-header">'+t[i].name+'</div>                                <div class="card-content">                                    <div class="card-content-inner">'+a+'</div>                                </div>                                <div class="card-footer">上次保养日期：'+getDateStr(t[i].day)+"</div>                            </div>"}$("#records-content").html(e),$(".card").bind("touchstart",function(){$(this).css("opacity","0.6")}),$(".card").bind("touchend",function(){$(this).css("opacity","")})}}function i(){$("#records-content").html("")}function a(){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/workshops",headers:{Authorization:"Bearer "+getToken()},success:function(t){if(console.log("车间信息："+s()(t)),10001==t.status)if(t.data.total>0){t.data.list;n(t.data.list)}else u.$message("没有车间信息");else u.$message("获取车间信息失败"+t.status)},error:function(t,e,i){u.$message("加载车间列表出错")}})}function n(t){u.list=t,u.workshop_item=function(t){var e=$(".workshop-item").eq(t).attr("id"),i=$("#machine-list-"+e);i.hasClass("loaded")?i.attr("hidden")?(i.show(),i.removeAttr("hidden")):(i.hide(),i.attr("hidden","hidden")):l(e)}}function l(t){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/workshops/"+t+"/machines",headers:{Authorization:"Bearer "+getToken()},success:function(e){console.log("machine list: "+s()(e)),10001==e.status?e.data.total>0?r(t,e.data.list):u.$message("没有机床信息"):u.$message("获取机床列表失败"+e.status)},error:function(t,e,i){u.$message("加载机床列表出错"+e)}})}function r(t,e){for(var i="",a=0;a<e.length;a++)i+='<div class="col-50"><div class="card" id="'+e[a].workshop_id+"-"+e[a].id+'"><div class="card-content"><div class="card-content-inner"><div class="list-block"><li class="item-content"><div class="item-media"><img src="static/images/ic_operated_punch.png" class="icon-operated"></div><div class="item-inner"><div class="item-title machine-name">'+e[a].name+"</div></div></li></div></div></div></div></div>";var s=$("#machine-list-"+t);s.addClass("loaded"),s.removeAttr("hidden"),s.show(),s.html(i),o()}function o(){$(".card").bind("touchstart",function(){$(this).css("opacity","0.6")}),$(".card").bind("touchend",function(){$(this).css("opacity","")}),$(".card").click(function(){var e=$(this).attr("id").split("-"),i=$(this).find("div.machine-name").text(),a=(e[0],e[1]);d=parseInt(a,10),c=i,$("#selected-machine-name").html(i),$("#router-select-machine").css("display","none"),t()})}var c,d,u=this;$("#select-machine").click(function(){$("#router-select-machine").css("display","block"),a()})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{list:"",list2:"",dialogVisible:!1,workshop_item:""}},methods:{workshopItem:function(t){this.workshop_item(t)}},mounted:function(){function t(t){for(var a=0;a<t.length;a++)t[a].list=i(t[a].list),t[a].cycle=e(t[a].cycle);v.list=t,$(".card-maintenance-item").click(function(){})}function e(t){return parseInt(t/86400,10)+"天"}function i(t){if(null==t)return"暂无保养清单";for(var e="保养清单：\n",i=0;i<t.length;i++)e+=t[i].name,i!=t.length-1&&(e+="\n");return e}function a(){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/"+p+"/maintenances/records",headers:{Authorization:"Bearer "+getToken()},success:function(t){if(console.log("获取机床保养记录："+s()(t)),null!=t){if(10001==t.status){var e=t.data.total;e<=0?(l(),$("#records-content").html('<div style="text-align: center;">'+m+"没有保养记录</div>")):n(t.data.list)}}else v.$message("records null")},error:function(t){v.$message(m+"没有保养记录"),l()}})}function n(t){if(null!=t){for(var e="",i=0;i<t.length;i++){var a="";if(null!=t[i].list)for(var s=0;s<t[i].list.length;s++)a+=t[i].list[s],a+="<br/>";a+='<hr style="background-color: #ececec; height: 1px; border: none;" >备注：'+t[i].remark,e+='<div class="card">                                <div class="card-header">'+t[i].name+'</div>                                <div class="card-content">                                    <div class="card-content-inner">'+a+'</div>                                </div>                                <div class="card-footer">上次保养日期：'+getDateStr(t[i].day)+"</div>                            </div>"}$("#records-content").html(e)}}function l(){$("#records-content").html("")}function r(){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/workshops",headers:{Authorization:"Bearer "+getToken()},success:function(t){if(console.log("车间信息："+s()(t)),10001==t.status)if(t.data.total>0){t.data.list;o(t.data.list)}else v.$message("没有车间信息");else v.$message("获取车间信息失败"+t.status)},error:function(t,e,i){v.$message("加载车间列表出错")}})}function o(t){v.list2=t,v.workshop_item=function(t){var e=$("#workshop-list>li").eq(t).attr("id"),i=$("#machine-list-"+e);return i.hasClass("loaded")?i.attr("hidden")?(i.show(),i.removeAttr("hidden")):(i.hide(),i.attr("hidden","hidden")):c(e),!1}}function c(t){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/workshops/"+t+"/machines",headers:{Authorization:"Bearer "+getToken()},success:function(e){console.log("machine list: "+s()(e)),10001==e.status?e.data.total>0?d(t,e.data.list):v.$message("没有机床信息"):v.$message("获取机床列表失败"+e.status)},error:function(t,e,i){v.$message("加载机床列表出错"+e)}})}function d(t,e){for(var i="",a=0;a<e.length;a++)i+='<div class="col-50"><div class="card card-machine" id="'+e[a].workshop_id+"-"+e[a].id+'"><div class="card-content"><div class="card-content-inner"> <div class="list-block"><li class="item-content"><div class="item-media"><img src="static/images/ic_operated_punch.png" class="icon-operated"></div><div class="item-inner"><div class="item-title machine-name">'+e[a].name+"</div></div></li></div></div></div></div></div>";var s=$("#machine-list-"+t);s.addClass("loaded"),s.removeAttr("hidden"),s.show(),s.html(i),u()}function u(){$(".card-machine").bind("touchstart",function(){$(this).css("opacity","0.6")}),$(".card-machine").bind("touchend",function(){$(this).css("opacity","")}),$(".card-machine").click(function(){var t=$(this).attr("id").split("-"),e=$(this).find("div.machine-name").text(),i=(t[0],t[1]);p=parseInt(i,10),m=e,$("#selected-machine-name").html(e),v.dialogVisible=!1,a()})}var v=this;$(".tab-link").click(function(){var t=$(this).attr("href"),e=$("#edit-right-btn");"#tab1"===t?e.show():e.hide()}),function(){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/maintenances",headers:{Authorization:"Bearer "+getToken()},success:function(e){if(layer.closeAll(),10001==e.status){var i=e.data.list;null!=i&&i.length>0?t(i):v.$message("暂无保养项目")}else v.$message("加载保养列表出错"+e.status)},error:function(t){v.$message("加载保养列表出错"+t.status)}})}();var m,p;$("#select-machine").click(function(){v.dialogVisible=!0,r()}),$(".popup-back").click(function(){})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{list:"",dialogVisible:!1,workshop_item:""}},methods:{workshopItem:function(t){this.workshop_item(t)}},mounted:function(){function t(){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/workshops",headers:{Authorization:"Bearer "+getToken()},success:function(t){if(layer.closeAll(),console.log("车间信息："+s()(t)),10001==t.status)if(t.data.total>0){t.data.list;e(t.data.list)}else n.$message("没有车间信息");else n.$message("获取车间信息失败"+t.status)},error:function(t,e,i){n.$message("加载车间列表出错")}})}function e(t){n.list=t,n.workshop_item=function(t){var e=$("#workshop-list>li").eq(t).attr("id");console.log(e);var a=$("#machine-list-"+e);a.hasClass("loaded")?a.attr("hidden")?(a.show(),a.removeAttr("hidden")):(a.hide(),a.attr("hidden","hidden")):i(e)}}function i(t){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/workshops/"+t+"/machines",headers:{Authorization:"Bearer "+getToken()},success:function(e){var i="";if(10001==e.status)if(e.data.total>0){for(var s=e.data.list,l=0;l<s.length;l++)i+='<div class="col-50"><div class="card card-machine" id="'+s[l].workshop_id+"-"+s[l].id+'"><div class="card-content"><div class="card-content-inner"><div class="list-block"><li class="item-content"><div class="item-media"><img src="static/images/ic_operated_punch.png" class="icon-operated"></div><div class="item-inner"><div class="item-title machine-name">'+s[l].name+"</div></div></li></div></div></div></div></div>";var r=$("#machine-list-"+t);r.addClass("loaded"),r.removeAttr("hidden"),r.show(),r.html(i),a()}else n.$message("没有机床信息");else n.$message("获取机床列表失败"+e.status)},error:function(t,e,i){n.$message("加载机床列表出错"+e)}})}function a(){$(".card-machine").bind("touchstart",function(){$(this).css("opacity","0.6")}),$(".card-machine").bind("touchend",function(){$(this).css("opacity","")}),$(".card-machine").click(function(){var t=$(this).attr("id").split("-"),e=$(this).find("div.machine-name").text(),i=(t[0],t[1]);window.location.href="#/single_machine_maintenance_detail_admin?machineId="+i+"&machineName="+encodeURIComponent(e)})}var n=this;$("#menu-maintenance-list").click(function(){window.location.href="#/machine_maintenance_list"}),$("#menu-maintenance-detail").click(function(){n.dialogVisible=!0,t()}),$(".popup-back").click(function(){})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{value1:"",value2:"",value3:"",value4:"",options:[{value:"选项1",label:"内部保养"},{value:"选项2",label:"外包保养"}],fn:"",dialogVisible:!1}},methods:{upload:function(){this.dialogVisible=!1,this.fn()}},mounted:function(){function t(){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/"+p+"/maintenances",headers:{Authorization:"Bearer "+getToken()},success:function(t){if(layer.closeAll(),console.log("获取已绑定的保养项：\n"+formatJSON(s()(t))),null!=t&&10001==t.status){var e=t.data.total;if(e<=0)$("#tab-page-binded-list").html('<div style="text-align: center;">'+m+"没有绑定的保养项</div>"),u();else{b=[];for(var a=0;a<e;a++)b.push(t.data.list[a]);i(b)}}},error:function(t){v.$message("查询保养项出错"+t.status),u()}})}function e(t,e){var i=parseInt((new Date).getTime()/1e3),a=t+e;return i>=a?'<img class="light-img" src="static/images/ic_light_red.png">':604800+i>=a?'<img class="light-img" src="static/images/ic_light_yellow.png">':'<img class="light-img" src="static/images/ic_light_green.png">'}function i(t){if(null!=t){for(var i='<div class="content-padded remark"><p>备注：<img class="light-img" src="static/images/ic_light_red.png">表示已到保养日期，<img class="light-img" src="static/images/ic_light_yellow.png">表示接近保养日期（下次保养日期前7天），<img class="light-img" src="static/images/ic_light_green.png">表示还未到下次保养日期。</p></div>',a=0;a<t.length;a++){var s='<div class="list-block list-block-small-text"><ul>';if(null!=t[a].list)for(var n=0;n<t[a].list.length;n++)s+='<li class="item-content item-link">                                            <div class="item-inner manifest-item" id="'+t[a].list[n].id+"-"+t[a].list[n].maintenance_id+'">                                                <div class="item-title">'+t[a].list[n].name+'</div>                                                <div class="manifest-item-pics" style="display: none">'+t[a].list[n].pics+"</div>                                            </div>                                            </li>";s+='<li class="item-content">                                    <div class="item-inner">                                        <div class="item-title">备注：'+t[a].remark+"</div>                                    </div>                                    </li>",s+='<li class="item-content">                                    <div class="item-inner">                                        <div class="item-title">上次保养日期：'+getDateStr(t[a].last_date)+"</div>                                    </div>                                    </li>",s+='<li class="item-content">                                    <div class="item-inner">                                        <div class="item-title">下次保养日期：'+getDateStr(t[a].last_date+t[a].cycle)+"</div>                                    </div>                                    </li>",s+="</ul></div>",i+='<div class="card card-binded" id="card-'+t[a].id+'">                                <div class="card-header">                                    <span>'+t[a].name+"</span>                                    <span>"+e(t[a].last_date,t[a].cycle)+'</span>                                </div>                                <div class="card-content">                                    <div class="card-content-inner">'+s+'</div>                                </div>                                <div class="card-footer"><span>保养周期：'+parseInt(t[a].cycle/86400,10)+'天</span>                                    <span id="'+t[a].id+'"><button style="display: none;" class="ok-btn button button-fill button-success">确认保养</button></span>                                </div>                            </div>'}$("#tab-page-binded-list").html(i),1==h&&$(".ok-btn").show(),$(".manifest-item").click(function(){var t=($(this).attr("id"),$(this).children(".manifest-item-pics").text());console.log("pics = "+t);var e=[];if("null"===t)e.push("static/images/empty_img.png");else for(var i=t.split(","),a=0;a<i.length;a++)e.push("https://img.listome.com"+i[a]);v.dialogVisible=!0,v.value3=e}),$(".ok-btn").click(function(){var t=$(this).attr("id");$(this);v.dialogVisible=!0,v.value2="即将上传图片添加新的保养记录，确定"+m+"的该项已保养了吗？",v.fn=function(){Terminal.platform.android||(window.location.href="#/single_machine_maintenance_detail#maintenanceId="+t);try{var e=requestBaseUrl+"iot/companies/machines/"+p+"/maintenances/"+t+"/records";window.js_interface.addMaintenanceRecord(e)}catch(t){console.log(t.toString()),Terminal.platform.android&&v.$message("请在工厂宝APP上使用本功能，或者升级工厂宝APP到最新版本。")}}})}else $("#tab-page-binded-list").html("<div>暂无未绑定的保养项目</div>")}function a(){$.showPreloader(),$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/maintenances",headers:{Authorization:"Bearer "+getToken()},success:function(t){if($.hidePreloader(),10001==t.status){if(null!=t.data.list){k=[];for(var e=0;e<t.data.list.length;e++)k.push(t.data.list[e])}n()}else v.$message("加载保养列表出错"+t.status)},error:function(t){v.$message("加载保养列表出错"+t.status)}})}function n(){if(null==k||0==k.length)return void $("#tab-page-unbinded-list").html('<div style="text-align: center;">暂无未绑定的保养项目</div>');if(null==b)C=k;else{C=[];for(var t=0;t<k.length;t++)r(k[t])||C.push(k[t])}if(null==C||0==C.length)return void $("#tab-page-unbinded-list").html('<div style="text-align: center;">暂无未绑定的保养项目</div>');console.log("unbinded list: \n"+formatJSON(s()(C)));for(var e="",t=0;t<C.length;t++){var i="";if(null!=C[t].list)for(var a=0;a<C[t].list.length;a++)i+=C[t].list[a].name,i+="<br/>";e+='<div class="card card-unbinded" id="'+C[t].id+'">                            <div class="card-header">'+C[t].name+'</div>                            <div class="card-content">                                <div class="card-content-inner">'+i+'</div>                            </div>                            <div class="card-footer">备注：'+C[t].remark+"</div>                        </div>"}$("#tab-page-unbinded-list").html(e),$(".card-unbinded").bind("touchstart",function(){$(this).css("opacity","0.6")}),$(".card-unbinded").bind("touchend",function(){$(this).css("opacity","")}),$(".card-unbinded").click(function(){_=$(this).attr("id"),g=$(this),$("#pop-cycle").val(""),$("#pop-type").val(""),$("#pop-last-time").val(""),$(".popup").addClass("up")})}function l(t){$.ajax({type:"POST",url:requestBaseUrl+"iot/companies/machines/"+p+"/maintenances/"+_,headers:{Authorization:"Bearer "+getToken()},data:t,success:function(e){null!=e&&10001==e.status?(v.$message("绑定成功"),g.remove(),o(_,t)):40001==e.status&&v.$message("绑定失败，该保养项目已绑定")},error:function(t){v.$message("绑定保养项目到机床失败"+t.status)}})}function r(t){if(void 0==b||null==b||0==b.length)return!1;for(var e=0;e<b.length;e++)if(b[e].id==t.id)return!0;return!1}function o(t,e){for(var i,a=0;a<C.length;a++)t==C[a].id&&(i=C[a],C.splice(a,1));null!=i&&void 0!=i&&(i.last_date=e.last_date,i.cycle=e.cycle,b.push(i))}function c(){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/"+p+"/maintenances/records",headers:{Authorization:"Bearer "+getToken()},success:function(t){if(console.log("获取机床保养记录："+s()(t)),null!=t&&10001==t.status){t.data.total<=0?(u(),$("#tab-page-history-list").html('<div style="text-align: center;">'+m+"没有保养记录</div>")):(f=t.data.list,d(f))}},error:function(t){u(),$("#tab-page-history-list").html('<div stype="text-align: center;">'+m+"没有保养记录</div>")}})}function d(t){if(null!=t){for(var e="",i=0;i<t.length;i++){var a="";if(null!=t[i].list)for(var s=0;s<t[i].list.length;s++)a+=t[i].list[s],a+="<br/>";a+='<hr style="background-color: #ececec; height: 1px; border: none;" >备注：'+t[i].remark,e+='<div class="card">                                <div class="card-header">'+t[i].name+'</div>                                <div class="card-content">                                    <div class="card-content-inner">'+a+'</div>                                </div>                                <div class="card-footer">上次保养日期：'+getDateStr(t[i].day)+"</div>                            </div>"}$("#tab-page-history-list").html(e)}}function u(){$("#records-content").html("")}$("#titleName").text("机床保养详情");var v=this,m=getUrlParam("machineName");(Terminal.platform.iPhone||Terminal.platform.iPad)&&(m=decodeURIComponent(m));var p=getUrlParam("machineId"),h=getUrlParam("hasPermission");h=parseInt(h,10);var f,_,g,b=[],C=[],k=[];$("title").text(m+"保养详情"),$("h1.title").text(m+"保养详情"),$("#pop-list-title").text(m+"绑定保养项"),t(),$(".tab-link").click(function(){var e=$(this).attr("id");"tab-header1"==e?void 0!=b&&null!=b&&b.length>0?i(b):t():"tab-header2"==e?null==k||0==k.length?a():n():"tab-header3"==e&&(void 0==f||null==f?c():d(f))});getTimeNow();$("#pop-commit-btn").click(function(){var t=$("#pop-cycle").val(),e=$("#pop-type").val(),i=$("#pop-last-time").val(),a={};return""===t?void v.$message("请填写保养周期"):isNaN(t)?void v.$message("保养周期填写有误"):""===e?void v.$message("请选择保养类型"):""===i?void v.$message(请选择上次保养时间):(a.cycle=24*t*60*60,"内部保养"===e?a.type=1:"外包保养"===e&&(a.type=2),a.last_date=parseInt(new Date(i).getTime()/1e3,10),void l(a))})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{fn:"",value:"",dialog:!1,dialogVisible:!1,options:[{value:"内部保养",label:"内部保养"},{value:"外部保养",label:"外部保养"}],value2:""}},methods:{handle:function(){this.fn()},handle2:function(){}},mounted:function(){function t(){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/"+C+"/maintenances",headers:{Authorization:"Bearer "+getToken()},success:function(t){if(layer.closeAll(),console.log("获取已绑定的保养项：\n"+formatJSON(s()(t))),null!=t&&10001==t.status){var e=t.data.total;if(e<=0)$("#tab-page-binded-list").html('<div style="text-align: center;">'+b+"没有绑定的保养项</div>"),p();else{k=[];for(var a=0;a<e;a++)k.push(t.data.list[a]);i(k)}}},error:function(t){g.$message("查询保养项出错"+t.status),p()}})}function e(t,e){var i=parseInt((new Date).getTime()/1e3),a=t+e;return i>=a?'<img class="light-img" src="static/images/ic_light_red.png">':604800+i>=a?'<img class="light-img" src="static/images/ic_light_yellow.png">':'<img class="light-img" src="static/images/ic_light_green.png">'}function i(t){if(null!=t){for(var i='<div class="content-padded remark"><p>备注：<img class="light-img" src="static/images/ic_light_red.png">表示已到保养日期，<img class="light-img" src="static/images/ic_light_yellow.png">表示接近保养日期（下次保养日期前7天），<img class="light-img" src="static/images/ic_light_green.png">表示还未到下次保养日期。</p></div>',a=0;a<t.length;a++){var s='<div class="list-block list-block-small-text"><ul>';if(null!=t[a].list)for(var n=0;n<t[a].list.length;n++)s+='<li class="item-content item-link">                                            <div class="item-inner manifest-item" id="'+t[a].list[n].id+"-"+t[a].list[n].maintenance_id+'">                                                <div class="item-title">'+t[a].list[n].name+'</div>                                                <div class="manifest-item-pics" style="display: none">'+t[a].list[n].pics+"</div>                                            </div>                                            </li>";s+='<li class="item-content">                                    <div class="item-inner">                                        <div class="item-title">备注：'+t[a].remark+"</div>                                    </div>                                    </li>",s+='<li class="item-content">                                    <div class="item-inner">                                        <div class="item-title">上次保养日期：'+getDateStr(t[a].last_date)+"</div>                                    </div>                                    </li>",s+='<li class="item-content">                                    <div class="item-inner">                                        <div class="item-title">下次保养日期：'+getDateStr(t[a].last_date+t[a].cycle)+"</div>                                    </div>                                    </li>",s+="</ul></div>",i+='<div class="card card-binded" id="card-'+t[a].id+'">                                <div class="card-header">                                    <span>'+t[a].name+"</span>                                    <span>"+e(t[a].last_date,t[a].cycle)+'</span>                                </div>                                <div class="card-content">                                    <div class="card-content-inner">'+s+'</div>                                </div>                                <div class="card-footer"><span>保养周期：'+parseInt(t[a].cycle/86400,10)+'天</span>                                    <span id="'+t[a].id+'"><button  id="unbindBtn"  class="button button-fill button-danger">解除绑定</button></span>                                </div>                            </div>'}$("#tab-page-binded-list").html(i),$("#unbindBtn").click(function(){g.dialogVisible=!0;var t=$(this).parent().attr("id"),e=$("#card-"+t);g.fn=function(){g.dialogVisible=!1,r(t,e)}}),$(".manifest-item").click(function(){var t=($(this).attr("id"),$(this).children(".manifest-item-pics").text());console.log("pics = "+t);var e=[];if("null"===t)e.push("static/images/empty_img.png");else for(var i=t.split(","),a=0;a<i.length;a++)e.push("https://img.listome.com"+i[a]);g.dialog=!0,g.value=e})}else $("#tab-page-binded-list").html("<div>暂无未绑定的保养项目</div>")}function a(){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/maintenances",headers:{Authorization:"Bearer "+getToken()},success:function(t){if(10001==t.status){if(null!=t.data.list){w=[];for(var e=0;e<t.data.list.length;e++)w.push(t.data.list[e])}n()}else g.$message("加载保养列表出错"+t.status)},error:function(t){g.$message("加载保养列表出错"+t.status)}})}function n(){if(null==w||0==w.length)return void $("#tab-page-unbinded-list").html('<div style="text-align: center;">暂无未绑定的保养项目</div>');if(null==k)y=w;else{y=[];for(var t=0;t<w.length;t++)o(w[t])||y.push(w[t])}if(null==y||0==y.length)return void $("#tab-page-unbinded-list").html('<div style="text-align: center;">暂无未绑定的保养项目</div>');console.log("unbinded list: \n"+formatJSON(s()(y)));for(var e="",t=0;t<y.length;t++){var i="";if(null!=y[t].list)for(var a=0;a<y[t].list.length;a++)i+=y[t].list[a].name,i+="<br/>";e+='<div class="card card-unbinded" id="card-'+y[t].id+'">                            <div class="card-header"><span>'+y[t].name+'</span>                                <span id="'+y[t].id+'">                                    <button class="bindBtnClick"  class="button button-fill button-success">绑定</button>                                </span>                            </div>                            <div class="card-content">                                <div class="card-content-inner">'+i+'</div>                            </div>                            <div class="card-footer">备注：'+y[t].remark+"</div>                        </div>"}$("#tab-page-unbinded-list").html(e),$(".bindBtnClick").click(function(){$(".popup-about").css({top:"-100%"}),f=$(this).parent().attr("id"),_=$("#card-"+f),$("#pop-cycle").val(""),g.value="",$("#pop-last-time").val(""),g.value2=""}),$(".close-popup").click(function(){$(".popup-about").css({top:0})})}function l(t){$.ajax({type:"POST",url:requestBaseUrl+"iot/companies/machines/"+C+"/maintenances/"+f,headers:{Authorization:"Bearer "+getToken()},data:t,success:function(e){null!=e&&10001==e.status?(g.$message("绑定成功"),_.remove(),c(f,t)):40001==e.status&&g.$message("绑定失败，该保养项目已绑定")},error:function(t){g.$message("绑定保养项目到机床失败"+t.status)}})}function r(t,e){$.ajax({type:"DELETE",url:requestBaseUrl+"iot/companies/machines/"+C+"/maintenances/"+t,headers:{Authorization:"Bearer "+getToken()},success:function(i){null!=i&&10001==i.status?(g.$message("解除绑定成功"),e.remove(),d(t)):g.$message("解除绑定失败")},error:function(t){g.$message("解除绑定失败"+t.status)}})}function o(t){if(void 0==k||null==k||0==k.length)return!1;for(var e=0;e<k.length;e++)if(k[e].id==t.id)return!0;return!1}function c(t,e){for(var i,a=0;a<y.length;a++)t==y[a].id&&(i=y[a],y.splice(a,1));null!=i&&void 0!=i&&(i.last_date=e.last_date,i.cycle=e.cycle,k.push(i))}function d(t){for(var e,i=0;i<k.length;i++)t==k[i].id&&(e=k[i],k.splice(i,1));null!=e&&void 0!=e&&y.push(e)}function u(){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/"+C+"/maintenances/records",headers:{Authorization:"Bearer "+getToken()},success:function(t){if(console.log("获取机床保养记录："+s()(t)),null!=t&&10001==t.status){t.data.total<=0?(p(),$("#tab-page-history-list").html('<div style="text-align: center;">'+b+"没有保养记录</div>")):(h=t.data.list,v(h))}},error:function(t){$("#tab-page-history-list").html('<div style="text-align: center;">'+b+"没有保养记录</div>"),p()}})}function v(t){if(null!=t){for(var e="",i=0;i<t.length;i++){var a="";if(null!=t[i].list)for(var s=0;s<t[i].list.length;s++)a+=t[i].list[s],a+="<br/>";a+='<hr style="background-color: #ececec; height: 1px; border: none;" >备注：'+t[i].remark,e+='<div class="card">                                <div class="card-header">'+t[i].name+'</div>                                <div class="card-content">                                    <div class="card-content-inner">'+a+'</div>                                </div>                                <div class="card-footer">上次保养日期：'+getDateStr(t[i].day)+'</div>                                <div class="card-footer" id="maintenance-person-'+i+"-"+t[i].user_id+'">保养人：</div>                            </div>'}$("#tab-page-history-list").html(e);for(var i=0;i<t.length;i++){var n=t[i].user_id;m(n,$("#maintenance-person-"+i+"-"+n))}}}function m(t,e){var i=[];i.push(t),$.ajax({type:"GET",url:requestBaseUrl+"companies/users/names",data:{user_ids:s()(i)},headers:{Authorization:"Bearer "+getToken()},success:function(t){if(10001==t.status){var i=t.data.names;i.length>0&&e.text("保养人："+i[0])}},error:function(t,e,i){console.log(i)}})}function p(){$("#records-content").html("")}var h,f,_,g=this,b=getUrlParam("machineName"),C=getUrlParam("machineId"),k=[],y=[],w=[];$("title").text(b+"保养详情"),$("title-main").text(b+"保养详情"),$("#pop-list-title").text(b+"绑定保养项"),t(),$(".tab-link").click(function(){var e=$(this).attr("id");"tab-header1"==e?void 0!=k&&null!=k&&k.length>0?i(k):t():"tab-header2"==e?null==w||0==w.length?a():n():"tab-header3"==e&&(void 0==h||null==h?u():v(h))});var x=getTimeNow();$("#pop-last-time").click(function(){$(this).val(x.yearStr+"-"+x.monthStr+"-"+x.dayStr)}),$("#pop-commit-btn").click(function(){var t=$("#pop-cycle").val(),e=g.value2,i=$("#pop-last-time").val(),a={};return console.log(t+"+"+e+"+"+i),""===t?void layer.open({content:"请填写保养周期"}):isNaN(t)?void layer.open({content:"保养周期填写有误"}):""===e?void layer.open({content:"请选择保养类型"}):""===i?void layer.open({content:"请选择上次保养时间"}):(a.cycle=24*t*60*60,"内部保养"===e?a.type=1:"外包保养"===e&&(a.type=2),a.last_date=parseInt(new Date(i).getTime()/1e3,10),$(".popup-about").css({top:0}),void l(a))})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},mounted:function(){$("#titleName").text("公告"),layer.closeAll();var t=this.$parent.ID;$.ajax({type:"GET",url:requestBaseUrl+"companies/notices/"+t,headers:{Authorization:"Bearer "+getToken()},success:function(t){10001==t.status?($("h3").text(t.data.title),$("p").text(t.data.content)):$.toast("加载公告信息失败")},error:function(t,e,i){$.toast("加载公告信息失败")}})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},mounted:function(){$("#titleName").text("公告"),layer.closeAll()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{content:"content",list:"",list2:"",restaurants:[],state:"",pickerOptions0:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},switchValue:!1,value1:"",value2:"",dialogVisible:!1,dialog:!1,dialog2:!1,isAgree:"",isAgree2:"",event:"",pickerVisible:"",pickerVisible2:"",startTime1:"",endTime1:""}},methods:{changeBoolean:function(t){t?$("#changePaid").html("带薪"):$("#changePaid").html("不带薪")},handleConfirm:function(t){this.startTime1=t.getFullYear()+"/"+(t.getMonth()+1>=10?t.getMonth()+1:"0"+(t.getMonth()+1))+"/"+(t.getDate()>=10?t.getDate():"0"+t.getDate())+" "+(t.getHours()>=10?t.getHours():"0"+t.getHours())+":"+(t.getMinutes()>=10?t.getMinutes():"0"+t.getMinutes()),console.log(this.startTime1)},handleConfirm2:function(t){this.endTime1=t.getFullYear()+"/"+(t.getMonth()+1>=10?t.getMonth()+1:"0"+(t.getMonth()+1))+"/"+(t.getDate()>=10?t.getDate():"0"+t.getDate())+" "+(t.getHours()>=10?t.getHours():"0"+t.getHours())+":"+(t.getMinutes()>=10?t.getMinutes():"0"+t.getMinutes()),console.log(this.thisTime1)},openPicker:function(){this.$refs.picker.open()},openPicker2:function(){this.$refs.picker2.open()},agree:function(t){this.dialog=!0,this.event},disagree:function(t){this.dialog2=!0,this.event},sureAgree:function(){this.isAgree(event)},sureDisagree:function(){this.isAgree2(event)},listItem:function(t){var e=$(".list-item").eq(t).find("#type").text(),i=$(".list-item").eq(t).find("#reason").text(),a=$(".list-item").eq(t).find("#time").text(),s=$(".list-item").eq(t).find("#result").text(),n=e+"<br/>"+i+"<br/>"+a+"<br/>"+s;layer.open({title:"加班详情",content:n,btn:["确定"]}),$(".layui-m-layerchild>h3").css({"font-size":"20px",margin:0}),$(".layui-m-layercont").css({"text-align":"left","padding-top":0,"padding-bottom":"10px","font-size":"18px"}),$(".layui-m-layerbtn>span").css("font-size","18px")},querySearch:function(t,e){var i=this.restaurants;e(t?i.filter(this.createFilter(t)):i)},createFilter:function(t){return function(e){return 0===e.value.indexOf(t.toLowerCase())}},clearForm:function(){this.switch=!1,this.state="",this.startTime1="",this.endTime1="",$("#leave-reason").val(""),$("#hours").val(""),this.dialogVisible=!1},alertstate:function(){return{state:this.state,start:this.value1,end:this.value2}}},mounted:function(){function t(t){o.isAgree=function(i){e(i.target.id,!0,t)},o.isAgree2=function(i){e(i.target.id,!1,t)}}function e(t,e,a){var s=requestBaseUrl+"companies/users/overtime/"+t,n="PUT";e||(n="DELETE"),$.ajax({url:s,type:n,headers:{Authorization:"Bearer "+getToken()},success:function(e){10001==e.status?(o.$message("操作成功"),$("div#card-id-"+t).remove(),1==a.length&&i()):o.$message("操作失败，错误码："+e.status)},error:function(t,e,i){o.$message("操作失败")}})}function i(){$("#tab-page-check-content").html('<div class="hint">暂无待审核的加班申请</div>')}function a(t,e,i,a,n,l,r){layer.open({type:2}),$.ajax({url:requestBaseUrl+"companies/users/leave",type:"POST",headers:{Authorization:"Bearer "+getToken()},data:{leave_type:t,reason:e,start_time:strToUnixTimestamp(i+":00"),end_time:strToUnixTimestamp(a+":00"),times:n,have_salary:l},success:function(t){if(layer.open({content:"提交成功"}),setTimeout(function(){layer.closeAll()},1e3),o.clearForm(),window.js_interface&&!isEmpty(myLeaderEaseMobUsername)){var e=projectBaseUrl+"leave.html?check=true",i={msg:r,myLeaderEaseMobUsername:myLeaderEaseMobUsername,url:e};try{window.js_interface.sendApplyMessage(s()(i))}catch(t){console.log(t)}}},error:function(t,e,i){o.$message("提交失败"),o.$message.closeAll()}})}function n(t){for(var e,i=0;i<c.length;i++)if(e=c[i],e.name==t)return e.id;return 1}$("#titleName").text("加班申请"),layer.closeAll();var l="",r="",o=this;getUrlParam("check")&&($(".tab-link").removeClass("active"),$(".tab").removeClass("active"),$("#tab3").addClass("active"),$("#tab-check-leaves").addClass("active")),isBoss?($("#tab-check-leaves").css("display",""),$("#tab3").css("display","")):($("#tab-check-leaves").css("display","none"),$("#tab3").css("display","none")),$("#salary-checkbox").change(function(){var t=$(this).attr("checked"),e=$(".label_checkbox-hint");t?e.text("带薪"):e.text("不带薪")}),$("#item-deliver").click(function(){window.js_interface&&window.js_interface.selectDeliver()});var c=[],d=[];$("#btn-submit").click(function(){var t,e=o.alertstate().state,i=$("#leave-reason").val(),s=o.startTime1,l=o.endTime1,r=$("#hours").val(),c=$("#salary-checkbox").attr("checked");if(t=c?1:2,""==e)return void o.$message("请选择加班类型");if(isEmpty(i))return void o.$message("请填写加班原因");if(isEmpty(s)||isEmpty(l))return void o.$message("请选择加班时间");if(-1!=compareDateStr(s+":00",l+":00"))return void o.$message("开始时间必须在结束时间之前");if(isEmpty(r))return void o.$message("请填写加班小时");if(!isNumber(r)||r<=0)return void o.$message("加班小时数填写有加班误");console.log(s+","+l);var d="加班申请单\n类型："+e+"\n原因："+i+"\n开始时间："+s+"\n结束时间："+l;a(n(e),i,s,l,r,t,d),o.state="",$("#leave-reason").val(""),$("#hours").val(""),o.dialogVisible=!1,o.value1="",o.value2=""}),function(){$.ajax({type:"GET",url:requestBaseUrl+"companies/users/overtime",async:!1,headers:{Authorization:"Bearer "+getToken()},success:function(t){if(10001==t.status){if(l=t.data.list,console.log(l),null==l||0==l.length)return void $("#tab-page-list").html('<div class="hint">暂无历史加班记录</div>')}else o.$message("错误"+t.status)},error:function(t,e,i){o.$message("加载请假记录出错")}})}();for(var u=0;u<l.length;u++)l[u].start_time=getTimeStr(l[u].start_time),l[u].end_time=getTimeStr(l[u].end_time);this.list=l,function(){$.ajax({type:"GET",url:requestBaseUrl+"companies/leave/types",async:!1,headers:{Authorization:"Bearer "+getToken()},success:function(t){if(10001==t.status){var e=t.data.list;c=e;for(var i=0;i<e.length;i++)d.push(e[i].name)}}})}();for(var u=0;u<d.length;u++)d[u]={value:d[u]};this.restaurants=d,console.log(d),function(){$.ajax({type:"GET",url:requestBaseUrl+"companies/users/overtime/check",async:!1,headers:{Authorization:"Bearer "+getToken()},success:function(e){10001==e.status&&(r=e.data.list,r.length>0?t(l):i())},error:function(){i()}})}();for(var u=0;u<r.length;u++)r[u].start_time=getTimeStr(r[u].start_time),r[u].end_time=getTimeStr(r[u].end_time);this.list2=r,$('[class="link agree"]').click(function(){showAgreeOrNotDialog($(this).attr("id"),!0,l),o.$message("agree id = "+$(this).attr("id"))}),$('[class="link disagree"]').click(function(){showAgreeOrNotDialog($(this).attr("id"),!1,l),o.$message("disagree id = "+$(this).attr("id"))}),getMyLeader()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{pickerOptions0:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},value1:""}},mounted:function(){getTimeNow()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},mounted:function(){if($("#titleName").text("数据统计"),layer.closeAll(),window.js_interface)try{window.js_interface.useGoBack(!0)}catch(t){console.log(t)}$(".item-content").click(function(){var t=$(this).attr("id"),e="";switch(t){case"boss-menu-attendance":e="#/statistics_boss_attendance";break;case"boss-menu-overtime":e="#/statistics_boss_overtime";break;case"boss-menu-leave":e="#/statistics_boss_leave";break;case"boss-menu-salary":e="#/statistics_boss_salary";break;case"boss-menu-overtime-top10":e="#/statistics_boss_overtime_top";break;case"boss-menu-late-top10":e="#/statistics_boss_late_top";break;case"boss-menu-machine":e="#/statistics_boss_machine";break;case"boss-menu-machine-day":e="#/all_machines_statistics";break;case"boss-menu-workshop-statistic":e="#/statistics_workshop_list";break;case"employee-menu-attendance":e="#/statistics_employee_attendance";break;case"employee-menu-overtime":e="#/statistics_employee_overtime";break;case"employee-menu-leave":e="#/statistics_employee_leave"}window.location=e}),3==getRole()?($("#list-boss").show(),$("#list-employee").show()):($("#list-boss").hide(),$("#list-employee").show())}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a),n=i(35);e.default={data:function(){return{}},mounted:function(){function t(t){var e=n.init(document.getElementById("main"));console.log("data = "+s()(t));var i=["正常上下班","迟到","早退","请假"],a=[{value:t.nomarl_check,name:"正常上下班"},{value:t.late,name:"迟到"},{value:t.early,name:"早退"},{value:t.leave,name:"请假"}],l={title:{text:"整体考勤数据统计图",subtext:"单位：人",x:"center"},tooltip:{trigger:"item"},legend:{orient:"horizontal",top:60,data:i},series:[{name:"人数",type:"pie",radius:"55%",data:a}]};e.setOption(l)}function e(t){var e=n.init(document.getElementById("main")),i={title:{text:"整体考勤数据统计图",subtext:"单位：人",x:"center"},tooltip:{},legend:{data:["人数"],top:60},xAxis:{data:["正常","迟到","早退","请假"]},yAxis:{},series:[{name:"人数",type:"bar",data:[t.nomarl_check,t.late,t.early,t.leave]}]};e.setOption(i)}var i=this,a={};!function(){$.ajax({url:requestBaseUrl+"companies/statistic/checkin",type:"GET",async:!1,headers:{Authorization:"Bearer "+getToken()},data:getStartEndTime(yearNow,monthNow),success:function(e){console.log("response = "+s()(e)),10001==e.status?(a=e.data,t(a)):i.$message("获取数据失败")},error:function(t){console.log("request error!"),i.$message("获取数据失败")}})}(),$("#tab-menu1").click(function(){$(this).addClass("active"),$("#tab-menu2").removeClass("active"),t(a)}),$("#tab-menu2").click(function(){$(this).addClass("active"),$("#tab-menu1").removeClass("active"),e(a)})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{}},mounted:function(){function t(t){var i="<ul>";if(""==t)i+="<li style='margin-top:1rem;color:rgba(0,0,0,.4)'>该列表为空</li>";else for(var a=0;a<t.length;a++)i+=e(t[a]);i+="</ul>",$("#list-content").html(i)}function e(t){var e="";e=isEmpty(t.headpic)?"/static/images/headpic_default.png":"https://img.listome.com"+t.headpic;var i="";return i+='<li class="item-content">',i+='<div class="item-media"><i class="icon"><img id="headpic" src="'+e+'"></i></div>',i+='<div class="item-inner">',i+='<div class="item-title">'+t.name+"</div>",i+='<div class="item-after">'+t.late_count+"次</div>",i+="</div>",i+="</li>"}var i=this,a={};!function(){$.ajax({url:requestBaseUrl+"companies/statistic/checkin/later/10",type:"GET",async:!1,headers:{Authorization:"Bearer "+getToken()},data:getStartEndTime(yearNow,monthNow),success:function(e){console.log("response = "+s()(e)),10001==e.status?(a=e.data,t(a)):i.$message("获取数据失败")},error:function(t){console.log("request error!"),i.$message("获取数据失败")}})}()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{}},mounted:function(){function t(t){var i="<ul>";i+=e("总请假天数",t.times+"天"),i+=e("总请假次数",t.count+"次"),i+=e("请假人数",t.person_count+"人"),i+="</ul>",$("#list-content").html(i)}function e(t,e){var i="";return i+='<li class="item-content">',i+='<div class="item-inner">',i+='<div class="item-title">'+t+"</div>",i+='<div class="item-after">'+e+"</div>",i+="</div>",i+="</li>"}var i={};!function(){$.ajax({url:requestBaseUrl+"companies/statistic/leavies",type:"GET",async:!1,headers:{Authorization:"Bearer "+getToken()},data:getStartEndTime(yearNow,monthNow),success:function(e){console.log("response = "+s()(e)),10001==e.status?(i=e.data,t(i)):vueThis.$message("获取数据失败")},error:function(t){console.log("request error!"),vueThis.$message("获取数据失败")}})}(),console.log(yearNow)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a),n=i(35);e.default={data:function(){return{}},mounted:function(){function t(t,i){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/datas",data:{workshop_id:0,start_time:t,end_time:i},headers:{Authorization:"Bearer "+getToken()},success:function(t){console.log("获取到机器统计数据："+formatJSON(s()(t))),10001==t.status&&(c=t.data,o?e(t.data):a(t.data))},error:function(t,e,i){console.log("获取机器统计数据失败：")}})}function e(t){if(m-v<=86400)return void i(t);for(var e,a,s,l,r=n.init(document.getElementById("main")),o=t.keys,c=[],p=[],h=[],f=[],_=[],g=getTimeNow(),b=g.month==d&&g.year==u?dayNow:getDaysOfMonth(u,d),C=yearNow+"-"+numberProcess(monthNow)+"-"+numberProcess(dayNow),k=1;k<=b;k++){var $=u+"-"+numberProcess(d)+"-"+numberProcess(k);$!=C&&(c.push($),null==o||-1==o.indexOf($)?(p.push(0),h.push(0),f.push(0),_.push(0)):(e=parseInt(t.datas[$].red/60),p.push(e),a=parseInt(t.datas[$].green/60),h.push(a),s=parseInt(t.datas[$].yellow/60),f.push(s),l=parseInt(t.datas[$].purple/60),_.push(l)))}var y=null;c.length>4&&(y=[{type:"slider",end:100,start:60,zoomLock:!1,handleSize:25},{start:0,end:10,handleIcon:"M0,0 v12h8v-12h0 Z",handleSize:"80%",handleStyle:{color:"rgba(185,185,185,.8)",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}]);var g=getTimeNow(),w="（"+u+"年"+d+"月）",x="机床整体数据统计图"+w,T={title:{text:x,subtext:"单位：分钟",x:"center"},grid:{top:"20%"},dataZoom:y,tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},color:["#CC0033","#CCCC33","#66CC99"],legend:{data:["故障时间","待机时间","工作时间"],top:60},xAxis:[{data:c,type:"category"}],yAxis:[{type:"value"}],series:[{name:"故障时间",type:"line",data:p,label:{normal:{show:!0,position:"top"}}},{name:"待机时间",type:"line",data:f,label:{normal:{show:!0,position:"top"}}},{name:"工作时间",type:"line",data:h,label:{normal:{show:!0,position:"top"}},markLine:{data:[{type:"average",name:"平均值"}]}}]};r.setOption(T)}function i(t){var e=n.init(document.getElementById("main")),i=(getTimeNow(),"（"+u+"年"+d+"月）"),a="机床整体数据统计图"+i,s=0,l=0,r=0,o=0,c=t.keys;if(null!=c&&void 0!=c&&c.length>0)for(var v=0;v<c.length;v++)s+=t.datas[c[v]].red,l+=t.datas[c[v]].green,r+=t.datas[c[v]].yellow,o+=t.datas[c[v]].purple;s=parseInt(s/60,10),l=parseInt(l/60,10),r=parseInt(r/60,10),o=parseInt(o/60,10);var m=[],p=[],h=[],f=[],_=[];m.push(s),p.push(l),h.push(r),f.push(o),_.push(u+"-"+numberProcess(d)+"-01");var g={title:{text:a,subtext:"单位：分钟",x:"center"},grid:{top:"20%"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},color:["#CC0033","#CCCC33","#66CC99"],legend:{data:["故障时间","待机时间","工作时间"],top:60},xAxis:[{data:_,type:"category"}],yAxis:[{type:"value"}],series:[{name:"故障时间",type:"line",data:m,label:{normal:{show:!0,position:"top"}}},{name:"待机时间",type:"line",data:h,label:{normal:{show:!0,position:"top"}}},{name:"工作时间",type:"line",data:p,label:{normal:{show:!0,position:"top"}}}]};e.setOption(g)}function a(t){var e=n.init(document.getElementById("main")),i=(getTimeNow(),"（"+u+"年"+d+"月）"),a="机床整体数据统计图"+i,s=0,l=0,o=0,c=0,v=t.keys;if(null!=v&&void 0!=v&&v.length>0)for(var m=0;m<v.length;m++)s+=t.datas[v[m]].red,l+=t.datas[v[m]].green,o+=t.datas[v[m]].yellow,c+=t.datas[v[m]].purple;s=parseInt(s/60,10),l=parseInt(l/60,10),o=parseInt(o/60,10),c=parseInt(c/60,10);var p=s+l+o+c,h=0;0!=r&&(h=d!=(new Date).getMonth()+1?24*r*60*getDaysOfMonth(u,d)-p:24*r*60*((new Date).getDate()-1)-p);var f=["工作时间","待机时间","故障时间","其他时间"],_=[{value:l,name:"工作时间"},{value:o,name:"待机时间"},{value:s,name:"故障时间"},{value:h,name:"其他时间"}],g={title:{text:a,subtext:"单位：分钟",x:"center"},tooltip:{trigger:"item"},color:["#66CC99","#CCCC33","#CC0033","#888888"],legend:{orient:"horizontal",top:60,data:f},series:[{name:"时间",type:"pie",radius:"55%",data:_}]};e.setOption(g)}var l=this,r=0;!function(){function t(t){$.ajax({type:"GET",async:"false",url:requestBaseUrl+"iot/companies/workshops/"+t+"/machines",headers:{Authorization:"Bearer "+getToken()},success:function(t){i++,10001==t.status?r+=t.data.total:l.$message("获取机床列表失败"+t.status)},error:function(t,e,i){l.$message("加载机床列表出错"+e)}})}var e=0,i=0;!function(){$.ajax({type:"GET",async:"false",url:requestBaseUrl+"iot/companies/workshops",headers:{Authorization:"Bearer "+getToken()},success:function(i){if(console.log("车间信息："+s()(i)),10001==i.status)if(i.data.total>0){e=i.data.total;for(var a=i.data.list,n=0;n<a.length;n++)t(a[n].id)}else l.$message("没有车间信息");else l.$message("获取车间信息失败"+i.status)},error:function(t,e,i){l.$message("加载车间列表出错"+e)}})}()}();var o=!0;$("#tab-menu1").click(function(){$(this).addClass("active"),$("#tab-menu2").removeClass("active"),o=!0,e(c)}),$("#tab-menu2").click(function(){$(this).addClass("active"),$("#tab-menu1").removeClass("active"),o=!1,a(c)});var c,d=monthNow,u=yearNow,v=getStartEndTime(yearNow,monthNow).start_time,m=parseInt((new Date).getTime()/1e3,10);t(v,m),$("a#btn-pre-month").click(function(){1==d?(d=12,u--):d--,v=getStartEndTime(u,d).start_time,m=getStartEndTime(u,d).end_time,t(v,m)}),$("a#btn-next-month").click(function(){if(d>=monthNow&&u>=yearNow)return void l.$message("还没到下个月");12==d?(d=1,u++):d++,v=getStartEndTime(u,d).start_time,m=getStartEndTime(u,d).end_time,t(v,m)})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{}},mounted:function(){function t(t){var i="<ul>";i+=e("总加班时间",t.times+"小时"),i+=e("总加班次数",t.count+"次"),i+=e("加班人数",t.person_count+"人"),i+="</ul>",$("#list-content").html(i)}function e(t,e){var i="";return i+='<li class="item-content">',i+='<div class="item-inner">',i+='<div class="item-title">'+t+"</div>",i+='<div class="item-after">'+e+"</div>",i+="</div>",i+="</li>"}var i=this,a={};!function(){$.ajax({url:requestBaseUrl+"companies/statistic/overtimes",type:"GET",async:!1,headers:{Authorization:"Bearer "+getToken()},data:getStartEndTime(yearNow,monthNow),success:function(e){console.log("response = "+s()(e)),10001==e.status?(a=e.data,t(a)):i.$message("获取数据失败")},error:function(t){console.log("request error!"),i.$message("获取数据失败")}})}()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{}},mounted:function(){function t(t){var i="<ul>";if(""==t)i+='<li style="margin-top:1rem;color:rgba(0,0,0,.4)">该列表为空</li>';else for(var a=0;a<t.length;a++)i+=e(t[a]);i+="</ul>",$("#list-content").html(i)}function e(t){var e="";e=isEmpty(t.headpic)?"../images/headpic_default.png":"https://img.listome.com"+t.headpic;var i="";return i+='<li class="item-content">',i+='<div class="item-media"><i class="icon"><img id="headpic" src="'+e+'"></i></div>',i+='<div class="item-inner">',i+='<div class="item-title">'+t.name+"</div>",i+='<div class="item-after">'+t.times+"小时</div>",i+="</div>",i+="</li>"}var i=this,a={};!function(){$.ajax({url:requestBaseUrl+"companies/statistic/overtimes/10",type:"GET",async:!1,headers:{Authorization:"Bearer "+getToken()},data:getStartEndTime(yearNow,monthNow),success:function(e){console.log("response = "+s()(e)),10001==e.status?(a=e.data,t(a)):i.$message("获取数据失败")},error:function(t,e,a){console.log("request error!"),i.$message("获取数据失败")}})}()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a),n=i(35);e.default={data:function(){return{}},mounted:function(){function t(t){var e=n.init(document.getElementById("main"));console.log("data = "+s()(t));var i=["正常发放工资","加班发放工资"],a=[{value:t.salay,name:"正常发放工资"},{value:t.overtime_salay,name:"加班发放工资"}],l={title:{text:"公司整体工资统计图",subtext:"单位：元",x:"center"},tooltip:{trigger:"item"},legend:{orient:"horizontal",top:60,data:i},series:[{name:"工资",type:"pie",radius:"55%",data:a}]};e.setOption(l)}function e(t){var e=n.init(document.getElementById("main")),i={title:{text:"公司整体工资统计图",subtext:"单位：元",x:"center"},tooltip:{},legend:{data:["工资"],top:60},xAxis:{data:["正常发放工资","加班发放工资"]},yAxis:{},series:[{name:"工资",type:"bar",data:[t.salay,t.overtime_salay]}]};e.setOption(i)}var i={};!function(){$.ajax({url:requestBaseUrl+"companies/statistic/salaries",type:"GET",async:!1,headers:{Authorization:"Bearer "+getToken()},data:getStartEndTime(yearNow,monthNow),success:function(e){console.log("response = "+s()(e)),10001==e.status?(i=e.data,t(i)):vueThis.$message("获取数据失败")},error:function(t,e,i){console.log("request error!"),vueThis.$message("获取数据失败")}})}(),$("#tab-menu1").click(function(){$(this).addClass("active"),$("#tab-menu2").removeClass("active"),t(i)}),$("#tab-menu2").click(function(){$(this).addClass("active"),$("#tab-menu1").removeClass("active"),e(i)})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a),n=i(35);e.default={data:function(){return{}},mounted:function(){function t(t){var e=n.init(document.getElementById("main"));console.log("data = "+s()(t));var i=["正常上下班","迟到","早退","请假"],a=[{value:t.nomarl_check,name:"正常上下班"},{value:t.late_count,name:"迟到"},{value:t.early_count,name:"早退"},{value:t.leave_count,name:"请假"}],l={title:{text:"个人考勤数据统计图",subtext:"单位：天",x:"center"},tooltip:{trigger:"item"},legend:{orient:"horizontal",top:60,data:i},series:[{name:"天数",type:"pie",radius:"55%",data:a}]};e.setOption(l)}function e(t){var e=n.init(document.getElementById("main")),i={title:{text:"个人考勤数据统计图",subtext:"单位：天",x:"center"},tooltip:{},legend:{data:["天数"],top:60},xAxis:{data:["正常","迟到","早退","请假"]},yAxis:{},series:[{name:"天数",type:"bar",data:[t.nomarl_check,t.late_count,t.early_count,t.leave_count]}]};e.setOption(i)}var i=this,a={};!function(){$.ajax({url:requestBaseUrl+"companies/statistic/checkin/employees",type:"GET",async:!1,headers:{Authorization:"Bearer "+getToken()},data:getStartEndTime(yearNow,monthNow),success:function(e){console.log("response = "+s()(e)),10001==e.status?(a=e.data,t(a)):i.$message("获取数据失败")},error:function(t,e,a){console.log("request error!"),i.$message("获取数据失败")}})}(),$("#tab-menu1").click(function(){$(this).addClass("active"),$("#tab-menu2").removeClass("active"),t(a)}),$("#tab-menu2").click(function(){$(this).addClass("active"),$("#tab-menu1").removeClass("active"),e(a)})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{content:""}},mounted:function(){function t(t){var i="<ul>";i+=e("请假天数",t.times+"天"),i+=e("请假次数",t.count+"次"),i+="</ul>",$("#list-content").html(i)}function e(t,e){var i="";return i+='<li class="item-content">',i+='<div class="item-inner">',i+='<div class="item-title">'+t+"</div>",i+='<div class="item-after">'+e+"</div>",i+="</div>",i+="</li>"}var i=this,a={};!function(){$.ajax({url:requestBaseUrl+"companies/statistic/leavies/employees",type:"GET",async:!1,headers:{Authorization:"Bearer "+getToken()},data:getStartEndTime(yearNow,monthNow),success:function(e){console.log("response = "+s()(e)),10001==e.status?(a=e.data,t(a)):i.$message("获取数据失败")},error:function(t,e,a){console.log("request error!"),i.$message("获取数据失败")}})}()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{content:""}},mounted:function(){function t(t){var i="<ul>";i+=e("总加班时间",t.times+"小时"),i+=e("总加班次数",t.count+"次"),i+="</ul>",$("#list-content").html(i)}function e(t,e){var i="";return i+='<li class="item-content">',i+='<div class="item-inner">',i+='<div class="item-title">'+t+"</div>",i+='<div class="item-after">'+e+"</div>",i+="</div>",i+="</li>"}var i=this,a={};!function(){$.ajax({url:requestBaseUrl+"companies/statistic/overtimes/employees",type:"GET",async:!1,headers:{Authorization:"Bearer "+getToken()},data:getStartEndTime(yearNow,monthNow),success:function(e){console.log("response = "+s()(e)),10001==e.status?(a=e.data,t(a)):i.$message("获取数据失败")},error:function(t,e,a){console.log("request error!"),i.$message("获取数据失败")}})}()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a),n=i(35);e.default={data:function(){return{}},mounted:function(){function t(t,n){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/datas",headers:{Authorization:"Bearer "+getToken()},data:{workshop_id:l,start_time:t,end_time:n},success:function(t){console.log("get month statistics data: "+formatJSON(s()(t))),10001==t.status&&(c=t.data,g?e(t.data):i(t.data))},error:function(t){a.$message("获取车间月统计数据出错"+t.status)}})}function e(t){for(var e,i,a,s,l=n.init(document.getElementById("main")),o=t.keys,c=[],d=[],u=[],v=[],m=[],p=getTimeNow(),h=p.month==f&&p.year==_?dayNow:getDaysOfMonth(_,f),g=yearNow+"-"+numberProcess(monthNow)+"-"+numberProcess(dayNow),b=1;b<=h;b++){var C=_+"-"+numberProcess(f)+"-"+numberProcess(b);C!=g&&(c.push(C),null==o||-1==o.indexOf(C)?(d.push(0),u.push(0),v.push(0),m.push(0)):(e=parseInt(t.datas[C].red/60),d.push(e),i=parseInt(t.datas[C].green/60),u.push(i),a=parseInt(t.datas[C].yellow/60),v.push(a),s=parseInt(t.datas[C].purple/60),m.push(s)))}var k=null;c.length>4&&(k=[{type:"slider",end:100,start:60,zoomLock:!1,handleSize:25},{start:0,end:10,handleIcon:"M0,0 v12h8v-12h0 Z",handleSize:"80%",handleStyle:{color:"rgba(185,185,185,.8)",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}]);var p=getTimeNow(),$="（"+_+"年"+f+"月）",y=r+"月数据统计图"+$,w={title:{text:y,subtext:"单位：分钟",x:"center"},grid:{top:"20%"},dataZoom:k,tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},color:["#CC0033","#CCCC33","#66CC99"],legend:{data:["故障时间","待机时间","工作时间"],top:60},xAxis:[{data:c,type:"category"}],yAxis:[{type:"value"}],series:[{name:"故障时间",type:"line",data:d,label:{normal:{show:!0,position:"top"}}},{name:"待机时间",type:"line",data:v,label:{normal:{show:!0,position:"top"}}},{name:"工作时间",type:"line",data:u,label:{normal:{show:!0,position:"top"}},markLine:{data:[{type:"average",name:"平均值"}]}}]};l.setOption(w)}function i(t){var e=n.init(document.getElementById("main")),i=(getTimeNow(),"（"+_+"年"+f+"月）"),a=r+"月数据统计图"+i,s=0,l=0,c=0,d=0,u=t.keys;if(null!=u&&void 0!=u&&u.length>0)for(var v=0;v<u.length;v++)s+=t.datas[u[v]].red,l+=t.datas[u[v]].green,c+=t.datas[u[v]].yellow,d+=t.datas[u[v]].purple;s=parseInt(s/60,10),l=parseInt(l/60,10),c=parseInt(c/60,10),d=parseInt(d/60,10),console.log("redTime = "+s),console.log("greenTime = "+l),console.log("yellowTime = "+c);var m=s+l+c+d,p=0;0!=o&&(p=f!=(new Date).getMonth()+1?24*o*60*getDaysOfMonth(_,f)-m:24*o*60*((new Date).getDate()-1)-m),console.log("otherTime = "+p),console.log("machineCount = "+o);var h=["工作时间","待机时间","故障时间","其他时间"],g=[{value:l,name:"工作时间"},{value:c,name:"待机时间"},{value:s,name:"故障时间"},{value:p,name:"其他时间"}],b={title:{text:a,subtext:"单位：分钟",x:"center"},tooltip:{trigger:"item"},color:["#66CC99","#CCCC33","#CC0033","#888888"],legend:{orient:"horizontal",top:60,data:h},series:[{name:"时间",type:"pie",radius:"55%",data:g}]};e.setOption(b)}var a=this,l=a.$parent.workshopId,r=a.$parent.workshopName,o=a.$parent.machineCount;o=parseInt(o,10);var c,d,u,v=new Date,m=getDayStartUnixTimestamp(v.getFullYear(),v.getMonth()+1,v.getDate()),p=getStartEndTime(v.getFullYear(),v.getMonth()+1).start_time,h=parseInt(v.getTime()/1e3,10),f=monthNow,_=yearNow;console.log("todayStartTime: "+m),console.log("monthStartTime: "+p),t(p,h);var g=!0;$("#tab-menu1").click(function(){$(this).addClass("active"),$("#tab-menu2").removeClass("active"),g=!0,e(c)}),$("#tab-menu2").click(function(){$(this).addClass("active"),$("#tab-menu1").removeClass("active"),g=!1,i(c)}),$("a#btn-pre-month").click(function(){1==f?(f=12,_--):f--,d=getStartEndTime(_,f).start_time,u=getStartEndTime(_,f).end_time,t(d,u)}),$("a#btn-next-month").click(function(){if(f>=monthNow&&_>=yearNow)return void a.$message("还没到下个月");12==f?(f=1,_++):f++,d=getStartEndTime(_,f).start_time,u=getStartEndTime(_,f).end_time,t(d,u)})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{list:"",workshop:""}},methods:{workshopItem:function(t){this.workshop(t)}},mounted:function(){function t(t){e.list=t,e.workshop=function(t){var e=$("#workshop-list>li").eq(t).attr("id"),i=$("#workshop-list>li").eq(t).find(".item-title").text(),a=$("#workshop-list>li").eq(t).find(".item-after").text(),s=a.substring(0,a.indexOf("台"));s=trimStr(s),console.log("machine count: "+s),window.location.href="http://localhost:8080/#/statistics_workshop_detail?workshopId="+e+"&workshopName="+encodeURIComponent(i)+"&machineCount="+parseInt(s,10)}}var e=this;!function(){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/workshops",headers:{Authorization:"Bearer "+getToken()},success:function(i){console.log("车间信息："+formatJSON(s()(i))),10001==i.status?i.data.total>0?(i.data.list,t(i.data.list)):e.$message("没有车间信息"):e.$message("获取车间信息失败"+i.status)},error:function(t,i,a){e.$message("加载车间列表出错"+i)}})}()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},mounted:function(){function t(){location.reload()}function e(){if(C=0,k=b,$("#table-content").text(""),m(),null!=(p=_.get("workshops")))return void i(p);$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/workshops",headers:{Authorization:"Bearer "+getToken()},success:function(t){null!=t&&10001==t.status&&t.data.total>0&&(p=t.data.list,_.set("workshops",p,18e3),i(p))},error:function(t){Log.d("获取车间出错："+t.status),setTimeout(function(){e()},5e3)}})}function i(t){g.clear();for(var e=0;e<t.length;e++)g.enQueue(t[e]);h=g.deQueue(),a(!0)}function a(t){t&&(f=[]),null!=h&&s(h,C,k,n,l)}function s(t,e,i,a,s){$.ajax({type:"GET",async:!1,url:requestBaseUrl+"iot/companies/workshops/"+t.id+"/machines",headers:{Authorization:"Bearer "+getToken()},data:{offset:e,skip:i},success:function(t){if(null!=t&&10001==t.status){var i=t.data.list,n=t.data.total,l=!1;n<=0?l=!0:null!=i&&e+i.length>=n&&(l=!0),null!=a&&"function"==typeof a&&a(i,l)}else null!=s&&"function"==typeof s&&s()},error:function(t){Log.d("加载机器出错："+t.status),null!=s&&"function"==typeof s&&s()}})}function n(t,e){var i="";i=e?"当前车间机器已全部加载完":"当前车间机器未全部加载完";var s=null==t?0:t.length;if(Log.d("加载"+h.name+"的"+s+"条机器数据，"+i),null!=t)for(var n=0;n<t.length;n++){var l=t[n],o={index:1e3*h.id+l.id,id:h.id+"-"+l.id,workshopId:h.id,machineId:l.id,workshopName:h.name,machineName:l.name,machineType:l.type};f.push(o)}var c=!1;if(f.length>=b&&(c=!0),e){if(null==(h=g.deQueue()))return y=!0,r(),void Log.e("所有车间中的机器全部加载完毕，最后一页加载了"+f.length+"条数据");c?(C=0,k=b,Log.d("一页数据加载完毕，准备加载下一页。。。"),r()):(C=0,k=b-f.length,a(!1))}else c?(C+=s,k=20,Log.d("一页数据加载完毕，准备加载下一页。。。"),r()):(C+=s,k=b-f.length,a(!1))}function l(){Log.e("load machine error."),setTimeout(function(){a(!1)},1e4)}function r(){for(var t="",e=0;e<f.length;e++){var i=f[e];t+='<tr class="data">',t+='<td class="width1">'+i.workshopName+"</td>",t+='<td class="width1">'+i.machineType+"-"+i.machineName+"</td>",t+='<td class="width15" id="status-'+i.id+'">                        <img id="status-red-'+i.id+'" src="static/images/ic_light_gray.png" class="light"/>                        <img id="status-yellow-'+i.id+'" src="static/images/ic_light_gray.png" class="light"/>                        <img id="status-green-'+i.id+'" src="static/images/ic_light_gray.png" class="light"/>                        <img id="status-purple-'+i.id+'" src="static/images/ic_light_gray.png" class="light"/>                    </td>',t+='<td class="red width15" id="red-'+i.machineId+'">--</td>',t+='<td class="yellow width15" id="yellow-'+i.machineId+'">--</td>',t+='<td class="green width15" id="green-'+i.machineId+'">--</td>',t+='<td class="width15" id="purple-'+i.machineId+'">--</td>',t+='<td class="width1" id="count-'+i.machineId+'">--</td>',t+='<td class="width1" id="module-status-'+i.id+'">--</td>',t+="</tr>"}$("#table-content").append(t),$("td").css("text-align","center"),$("#refresh-hint").hide();for(var e=0;e<f.length;e++)o(f[e].machineId)}function o(t){var e=getTodayStartUnixTimestamp();if(window.localStorage){var i=window.localStorage.getItem("startTime");if(null!=i){var a=i.split(":");if(null!=a&&a.length>0){var s=a[0];e+=60*parseInt(s,10)*60}}}$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/"+t+"/datas",headers:{Authorization:"Bearer "+getToken()},data:{day:e,is_today:1},success:function(i){if(10001==i.status){var a=i.data,s=c(a.green,t,"green");try{$("#count-"+t).html(a.green.length)}catch(t){}var n=c(a.yellow,t,"yellow"),l=c(a.red,t,"red"),r=parseInt((new Date).getTime()/1e3,10)-s-n-l-e;$("td#purple-"+t).text(secondToFormattedTime(r))}d()},error:function(t,e,i){v()}})}function c(t,e,i){var a=0,s=$("td#"+i+"-"+e);if(null==t||0==t.length)s.text("--");else{for(var n=0;n<t.length;n++){var l=t[n];a+=l.end-l.start}a>0?s.text(secondToFormattedTime(a)):s.text("--")}return a}function d(){P||(P=!0,$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/status",data:{workshop_id:0},headers:{Authorization:"Bearer "+getToken()},success:function(t){if(P=!1,10001==t.status){var e=t.data;if(null!=p&&p.length>0)for(var i=0;i<p.length;i++){var a=p[i].id,s=e[""+a];if(void 0!==s){var n=s.machine;if(n.length>0)for(var l=0;l<n.length;l++){var r=n[l];u(r)}}}}},error:function(t,e,i){P=!1,u(null),Log.d("获取机器状态信息出错"+e)}}))}function u(t){if(null==t)return void v();var e=t.workshop_id+"-"+t.machine_id,i=$("#module-status-"+e);-1==t.power?(i.text("断电"),i.css("color","red")):(i.text("通电"),i.css("color","green")),2==t.red?$("img#status-red-"+e).attr("src","static/images/ic_light_red.png"):$("img#status-red-"+e).attr("src","static/images/ic_light_gray.png"),2==t.yellow?$("img#status-yellow-"+e).attr("src","static/images/ic_light_yellow.png"):$("img#status-yellow-"+e).attr("src","static/images/ic_light_gray.png"),2==t.green?$("img#status-green-"+e).attr("src","static/images/ic_light_green.png"):$("img#status-green-"+e).attr("src","static/images/ic_light_gray.png"),2==t.purple?$("img#status-purple-"+e).attr("src","static/images/ic_light_purple.png"):$("img#status-purple-"+e).attr("src","static/images/ic_light_gray.png"),v()}function v(){var t=document.getElementById("data-div"),i=document.getElementById("inner-div"),s=document.getElementById("footer-div"),n=$(window).height();null!=U&&clearInterval(U),U=setInterval(function(){s.offsetTop-t.scrollTop-n<=0?(clearInterval(U),y?(t.scrollTop=i.offsetHeight,Log.d("滚动到底，所有数据加载完毕"),e(),y=!1):(Log.d("滚动到底，加载下一页数据"),a(!0))):t.scrollTop+=1},60)}function m(){$.ajax({type:"GET",async:!1,url:requestBaseUrl+"companies/profile",headers:{Authorization:"Bearer "+getToken()},success:function(t){if(null!=t&&10001===t.status){var e=t.data.alias,i=new Date,a="（"+i.getFullYear()+"年"+(i.getMonth()+1)+"月"+i.getDate()+"日）";document.title=e+"-机床运行状态监控表"+a}},error:function(t){Log.d("get company alias error: "+t.status)}})}setInterval(t,6e4);var p,h,f,_=new LocalStorageUtils,g=new Queue,b=15,C=0,k=b,y=!1;if(void 0!=window.js_interface)try{var w=window.js_interface.getPageSize();-1!=w&&(b=w)}catch(t){Log.e(t.toString())}var x=$(window).height();if($("#data-div").height(x-50-50),window.localStorage){var T=window.localStorage.getItem("startTime");null!=T?$("#select-start-time-btn").html(T+'<span class="caret"></span>'):$("#select-start-time-btn").html('00:00<span class="caret"></span>')}for(var E="",B=(new Date).getHours(),S=0;S<4;S++){E+=S>0?'<div class="row" style="margin-top: 10px;">':'<div class="row">';for(var I=0;I<6;I++){var A=6*S+I,j=!1;A>B&&(j=!0),A<10?A="0"+A+":00":A+=":00",E+=j?'<div class="col-md-2"><button type="button" class="btn btn-default btn-start-time" disabled="disabled">'+A+"</button></div>":'<div class="col-md-2"><button type="button" class="btn btn-default btn-start-time">'+A+"</button></div>"}E+="</div>"}$("#modal-body2").html(E),$("#select-start-time-btn").click(function(){$("#myModal2").toggleClass("slider")}),$("#closeTime").click(function(){$("#myModal2").removeClass("slider")}),$("#myModal2").click(function(){$("#myModal2").removeClass("slider")}),$(".btn-start-time").click(function(){var t=$(this).text();$("#myModal2").removeClass("slider"),null!=t&&($("#select-start-time-btn").html(t+'<span class="caret"></span>'),window.localStorage&&window.localStorage.setItem("startTime",t),e())}),e();var P=!1,U=null;document.getElementById("data-div").scrollTop}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{}},mounted:function(){function t(t,i){if(null==t)$("table.table").append('<p class="listNull" style="margin-top:2rem">该机器没有历史工作记录</p>');else if(t.length>0){for(var a="",s=0;s<t.length;s++){var n=t[s];a+='<tr class="data">',a+="<td>"+(s+1)+"</td>",a+="<td>"+n.name+"</td>",a+="<td>"+n.workpiece_sm+"</td>",a+="<td>"+n.workpiece_name+"</td>",a+='<td id="operators-'+i+"-"+s+'"></td>',a+='<td class="remark-label">'+n.remark+"</td>",a+="</tr>"}$("tr.data").remove(),$(".listNull").remove(),$("table.table").append(a);for(var s=0;s<t.length;s++)e(t[s].operator_ids,i,s)}}function e(t,e,i){$.ajax({type:"GET",url:requestBaseUrl+"companies/users/names",data:{user_ids:s()(t)},headers:{Authorization:"Bearer "+getToken()},success:function(t){if(10001==t.status){var a=t.data.names,s="";if(a.length>0){for(var n=0;n<a.length;n++)s+=a[n]+", ";$("td#operators-"+e+"-"+i).html(s.substring(0,s.length-2))}}},error:function(t,e,i){console.log(i)}})}var i=this,a=i.$parent.ID;!function(e){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/task/history",headers:{Authorization:"Bearer "+getToken()},data:{machine_id:e,offset:0,skip:9},success:function(i){console.log("get work history: \n"+formatJSON(s()(i))),10001==i.status&&t(i.data.list,e)},error:function(t,e,i){console.log(i)}})}(a),$("title").append("(最近10条)")}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{}},mounted:function(){function t(t,i){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/workshops/"+t+"/machines",headers:{Authorization:"Bearer "+getToken()},success:function(a){if(10001==a.status){if(a.data.total>0)for(var s=a.data.list,n=0;n<s.length;n++){var l=s[n],r=t+"-"+l.id,c=l.name,d=1e3*t+l.id,u={index:d,id:r,workshopId:t,machineId:l.id,workshopName:i,machineName:c};y.push(u),w.push(u)}else console.log(i+"没有机床信息");_++,_==f.length&&(b?o():e())}else console.log("获取机床列表失败"+a.status)},error:function(t,e,i){console.log("加载机床列表出错"+e)}})}function e(){w.sort(function(t,e){return t.index-e.index}),C=Math.ceil(w.length/x),E=parseInt(B/C,10);for(var t='<div">',e=0;e<C;e++)t+='<div class="paging-item paging-item-normal">'+(e+1)+"</div>";t+="</div>",$("#paging").html(t),i()}function i(){var t=$("#paging").find(".paging-item");null!=t&&t.each(function(){parseInt($(this).text(),10)-1==T?($(this).removeClass("paging-item-normal"),$(this).addClass("paging-item-selected")):($(this).removeClass("paging-item-selected"),$(this).addClass("paging-item-normal"))});for(var e="",i=w.length,s=0;s<i;s++){var n=w[s];e+='<tr class="data">',e+='<td class="item-width">'+n.workshopName+"</td>",e+='<td class="item-width">'+n.machineName+"</td>",e+='<td class="item-width" id="task-name-'+n.machineId+'">--</td>',e+='<td class="item-width" id="piece-name-'+n.machineId+'">--</td>',e+='<td class="item-width" id="duration-'+n.machineId+'">--</td>',e+='<td class="item-width" id="operators-'+n.machineId+'">--</td>',e+='<td class="item-width history" id='+n.machineId+'><a href="javascript:;">点击查看</a></td>',e+="</tr>"}$("#table-content-work").html(e),$(".history").click(function(){k.$parent.ID=$(this).attr("id"),window.location="http://localhost:8080/#/machine_working_history"}),$("#refresh-hint").hide(),h();for(var s=0;s<w.length;s++)a(w[s].machineId)}function a(t){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/task/running/data",headers:{Authorization:"Bearer "+getToken()},data:{machine_id:t,day:getTodayStartUnixTimestamp()},success:function(e){console.log("get machine working data: "+formatJSON(s()(e))),10001==e.status&&n(e.data,t)},error:function(t,e,i){console.log(i)}})}function n(t,e){var i=t.machining_task.name;$("td#task-name-"+e).html(i);var a=t.machining_task.workpiece_sm;$("td#piece-name-"+e).html(a);var s=t.time_point,n=0;if(null!=s&&s.length>0){for(var o=0;o<s.length;o++)n+=s[o].end-s[o].start;$("td#duration-"+e).html(secondToFormattedTime(n))}var c=t.machining_task.operator_ids;c.length>0&&r(c,e),l()}function l(){var t=document.getElementById("data-div-work"),e=document.getElementById("inner-div-work"),i=document.getElementById("footer-div-work"),a=$(window).height();null!=I&&clearInterval(I),I=setInterval(function(){i.offsetTop-t.scrollTop-a<=0?t.scrollTop-=e.offsetHeight:t.scrollTop+=1},60)}function r(t,e){var i,a="",s=$("td#operators-"+e);s.html("");for(var n=0;n<t.length;n++)i=t[n],$.ajax({type:"GET",url:requestBaseUrl+"companies/users/face_samples",headers:{Authorization:"Bearer "+getToken()},data:{user_id:i},success:function(t){if(10001==t.status){var e=t.data.face_samples;if(e.length>0){var i="https://sample.listome.com"+e[0];a='<img src="'+i+'">',s.append(a)}}},error:function(t,e,i){console.log(i)}})}function o(){y.sort(function(t,e){return t.index-e.index}),C=Math.ceil(y.length/x),E=parseInt(B/C,10),console.error("page interval = "+E);for(var t='<div">',e=0;e<C;e++)t+='<div class="paging-item paging-item-normal">'+(e+1)+"</div>";t+="</div>",$("#paging").html(t),c()}function c(){var t=$("#paging").find(".paging-item");null!=t&&t.each(function(){parseInt($(this).text(),10)-1==T?($(this).removeClass("paging-item-normal"),$(this).addClass("paging-item-selected")):($(this).removeClass("paging-item-selected"),$(this).addClass("paging-item-normal"))});for(var e="",i=y.length,a=0;a<i;a++){var s=y[a];e+='<tr class="data">',e+='<td class="width1">'+s.workshopName+"</td>",e+='<td class="width1">'+s.machineName+"</td>",e+='<td class="width15" id="status-'+s.id+'">                       <img id="status-red-'+s.id+'" src="static/images/ic_light_gray.png" class="light"/>                       <img id="status-yellow-'+s.id+'" src="static/images/ic_light_gray.png" class="light"/>                       <img id="status-green-'+s.id+'" src="static/images/ic_light_gray.png" class="light"/>                       <img id="status-purple-'+s.id+'" src="static/images/ic_light_gray.png" class="light"/>                   </td>',e+='<td class="red width15" id="red-'+s.machineId+'">--</td>',e+='<td class="yellow width15" id="yellow-'+s.machineId+'">--</td>',e+='<td class="green width15" id="green-'+s.machineId+'">--</td>',e+='<td class="width15" id="purple-'+s.machineId+'">--</td>',e+='<td class="width1" id="count-'+s.machineId+'">--</td>',e+='<td class="width1" id="module-status-'+s.id+'">--</td>',e+="</tr>"}$("tr.data").remove(),$("#table-content").append(e),$("td").css("text-align","center"),$("#refresh-hint").hide(),h();for(var a=0;a<y.length;a++)u(y[a].machineId)}function d(){var t=document.getElementById("data-div"),e=document.getElementById("inner-div"),i=document.getElementById("footer-div"),a=$(window).height();null!=I&&clearInterval(I),I=setInterval(function(){i.offsetTop-t.scrollTop-a<=0?t.scrollTop-=e.offsetHeight:t.scrollTop+=1},60)}function u(t){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/"+t+"/datas",headers:{Authorization:"Bearer "+getToken()},data:{day:getTodayStartUnixTimestamp(),is_today:1},success:function(e){if(10001==e.status){var i=e.data,a=v(i.green,t,"green");try{$("#count-"+t).html(i.green.length)}catch(t){}var s=v(i.yellow,t,"yellow"),n=v(i.red,t,"red"),l=parseInt((new Date).getTime()/1e3,10)-a-s-n-getTodayStartUnixTimestamp();$("td#purple-"+t).text(secondToFormattedTime(l))}m()},error:function(t,e,i){console.error("get machine running data error! "+e)}})}function v(t,e,i){var a=0,s=$("td#"+i+"-"+e);if(null==t||0==t.length)s.text("--");else{for(var n=0;n<t.length;n++){var l=t[n];a+=l.end-l.start}a>0?s.text(secondToFormattedTime(a)):s.text("--")}return a}function m(){g||(g=!0,$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/status",data:{workshop_id:0},headers:{Authorization:"Bearer "+getToken()},success:function(t){if(10001==t.status){var e=t.data;if(f.length>0)for(var i=0;i<f.length;i++){var a=f[i].id,s=e[""+a];if(void 0!==s){var n=s.machine;if(n.length>0)for(var l=0;l<n.length;l++){var r=n[l];p(r)}}}}},error:function(t,e,i){console.log("获取机器状态信息出错"+e)}}))}function p(t){var e=t.workshop_id+"-"+t.machine_id,i=$("#module-status-"+e);-1==t.power?(i.text("断电"),i.css("color","red")):(i.text("通电"),i.css("color","green")),2==t.red?$("img#status-red-"+e).attr("src","static/images/ic_light_red.png"):$("img#status-red-"+e).attr("src","static/images/ic_light_gray.png"),2==t.yellow?$("img#status-yellow-"+e).attr("src","static/images/ic_light_yellow.png"):$("img#status-yellow-"+e).attr("src","static/images/ic_light_gray.png"),2==t.green?$("img#status-green-"+e).attr("src","static/images/ic_light_green.png"):$("img#status-green-"+e).attr("src","static/images/ic_light_gray.png"),2==t.purple?$("img#status-purple-"+e).attr("src","static/images/ic_light_purple.png"):$("img#status-purple-"+e).attr("src","static/images/ic_light_gray.png"),d()}function h(){var t=new Date,e="（"+t.getFullYear()+"年"+(t.getMonth()+1)+"月"+t.getDate()+"日）";b?$("title").text(j+"-机床运行状态监控表"+e):$("title").text(j+"-机床工作状态监控表"+e)}var f,_,g,b,C,k=this,y=[],w=[],x=10,T=0,E=1e4,B=6e4,S=null,I=null;if(void 0!=window.js_interface)try{var A=window.js_interface.getPageSize();-1!=A&&(x=A)}catch(t){console.error(t.toString())}var j="";try{var P=$(window).height();$("#data-div-work").height(P-50),function(){$.ajax({type:"GET",async:!1,url:requestBaseUrl+"companies/profile",headers:{Authorization:"Bearer "+getToken()},success:function(t){if(null!=t&&10001===t.status){j=t.data.alias;var e=getTimeNow(),i="（"+e.yearStr+"年"+e.monthStr+"月"+e.dayStr+"日）";document.title=j+"-机床运行状态监控表"+i}},error:function(t){console.log("get company alias error: "+t.status)}})}(),function(e){console.log("正在获取车间信息。。。"),null!=I&&clearInterval(I),console.log("isRunningStatus = "+e),b=e,$("#refresh-hint").show(),_=0,g=!1,$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/workshops",headers:{Authorization:"Bearer "+getToken()},success:function(e){if(console.log("车间信息：\n"+formatJSON(s()(e))),10001==e.status)if(e.data.total>0){f=e.data.list,y=[],w=[];for(var i=0;i<f.length;i++)t(f[i].id,f[i].name)}else console.log("没有车间信息");else console.log("获取车间信息失败"+e.status)},error:function(t,e,i){if(console.log("加载车间列表出错"),null!=S&&clearTimeout(S),401===t.status)try{console.log("通知app token过期..."),void 0!=window.js_interface&&window.js_interface.onTokenExpired()}catch(t){}}})}(!1),setInterval("getWorkshops(false)",B)}catch(t){console.log(t.toString())}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(6),s=i.n(a);e.default={data:function(){return{content:"",list:"",list2:"",list3:"",list4:"",fn:"",fn2:"",dialogVisible:!1}},methods:{alertWorkshopItem:function(t){this.fn(t)},workshopItem:function(t){this.fn2(t)}},created:function(){},mounted:function(){function t(){this.set=function(t,e,i){if(window.localStorage){var a={name:e,expires:(new Date).getTime()+1e3*i};window.localStorage.setItem(t,s()(a))}},this.get=function(t){if(window.localStorage){var e=window.localStorage.getItem(t);if(null!=e){var i=JSON.parse(e);return(new Date).getTime()>i.expires?(window.localStorage.removeItem(t),null):i.name}}return null},this.remove=function(t){window.localStorage&&window.localStorage.removeItem(t)}}function e(){this.keys=[],this.values=[],this.put=function(t,e){if(this.containKey(t))for(var i=0;i<this.keys.length;i++)this.keys[i]==t&&(this.values[i]=e);else this.keys.push(t),this.values.push(e)},this.remove=function(t){for(var e=0;e<this.keys.length;e++)this.keys[e]==t&&(this.keys.splice(e,1),this.values.splice(e,1))},this.containKey=function(t){for(var e=0;e<this.keys.length;e++)if(this.keys[e]==t)return!0;return!1},this.get=function(t){for(var e=0;e<this.keys.length;e++)if(this.keys[e]==t)return this.values[e];return null},this.size=function(){return this.keys.length}}function i(t){10001==t.status?t.data.total>0?(U=t.data.list,A.list=U,A.list2=U,a(U),w(U),G.recoverPageState(),f()):A.$message("没有车间信息"):A.$message("获取车间信息失败")}function a(t){layer.closeAll(),null!=t&&t.length>0?A.fn2=function(t){$("#dialog.el-dialog__wrapper").css("visibility","visible"),q=!0;var e=$("li.workshop-item").eq(t).attr("id");j=e,G.addOrRemoveId(e,"id"),n(e),19!=e&&$("#dialog").css("display","block")}:A.$message("没有车间信息")}function t(){this.set=function(t,e,i){if(window.localStorage){var a={name:e,expires:(new Date).getTime()+1e3*i};window.localStorage.setItem(t,s()(a))}},this.get=function(t){if(window.localStorage){var e=window.localStorage.getItem(t);if(null!=e){var i=JSON.parse(e);return(new Date).getTime()>i.expires?(window.localStorage.removeItem(t),null):i.name}}return null},this.remove=function(t){window.localStorage&&window.localStorage.removeItem(t)}}function n(t){var e=requestBaseUrl+"iot/companies/workshops/"+t+"/groups",i=V.get(e);if(null!=i)return void l(i,t);A.$message({message:"正在获取车间分组信息...",duration:0}),$.ajax({type:"GET",url:e,async:!1,headers:{Authorization:"Bearer "+getToken()},success:function(i){V.set(e,i,P),l(i,t),A.$message.closeAll()},error:function(t){A.$message.closeAll(),console.log("获取车间的分组失败: "+t.status)}})}function l(t,e){if(null!=t&&10001==t.status){var i=t.data.list;null!=i&&i.length>0?r(e,i):o(e)}else o(e)}function r(t,e){if(null!=e&&e.length>0){var i="";q?($("#popup-title").text("车间列表"),i="id-"+t):($("#popup-title").text("保养报警"),i="alert-"+t),G.popid=i,G.saveIds(),c(e)}else o(t)}function o(t){V.remove("popid");var e;e=q?$("#machine-list-"+t):$("#alert-machine-list-"+t),e.hasClass("loaded")?e.attr("hidden")?(e.removeAttr("hidden"),e.show(),_()):(e.attr("hidden","hidden"),e.hide()):(layer.open({type:2}),m(t))}function c(t){var e=t.length,i="";i+='<div class="tab-header-block"><div class="buttons-row">';for(var a=0;a<e;a++)i+=0==a?'<a href="#tab'+a+'" class="tab-link active button">'+t[a].name+'<span style="display: none;">'+t[a].id+"</span></a>":'<a href="#tab'+a+'" class="tab-link button">'+t[a].name+'<span style="display: none;">'+t[a].id+"</span></a>";i+='</div></div><div class="tabs"> ';for(var s=0;s<e;s++)i+=0==s?'<div id="tab'+s+'" class="tab"> <p class="tips">长按可选择是否关注该机器</p>                                  <div class="content-block row" id="content-block-'+t[s].id+'" >                                  </div>                                </div>':'<div id="tab'+s+'" class="tab"> <p class="tips">长按可选择是否关注该机器</p>                                  <div class="content-block row" id="content-block-'+t[s].id+'">                                  </div>                                </div>';i+="</div>",$("#group-content").html(i),$("#dialog").animate({top:"64px"},500),d(t[0].id),$("#tab0").addClass("active"),$(".tab-link").click(function(){$(".tab-link").removeClass("active"),$(this).addClass("active"),d($(this).children("span").html())})}function d(t){var e=requestBaseUrl+"iot/companies/workshops/"+j+"/machines?group_id="+t,i=V.get(e);if(null!=i)return void u(i,t);layer.open({type:2}),$.ajax({type:"GET",url:e,headers:{Authorization:"Bearer "+getToken()},success:function(i){layer.closeAll(),V.set(e,i,P),u(i,t)},error:function(t){A.$message.closeAll(),A.$message("加载机床数据出错")}})}function u(t,e){if(null!=t&&10001==t.status){var i=t.data.list;null!=i&&i.length>0?(N.put(e,i),v(e,i)):A.$message("没有机床数据")}else A.$message("加载机床数据出错")}function v(t,e){var i="";if(q){for(var a=0;a<e.length;a++)i+='<div class="col-50 longTouch"><div class="card"  id="'+e[a].workshop_id+"-"+e[a].id+'"><div class="card-content"><div class="card-content-inner"><div class="list-block"><li class="item-content"><div class="item-media"><img src="static/images/ic_operated_punch.png" class="icon-operated"></div><div class="item-inner"><div class="item-title machine-name">'+e[a].name+"</div></div></li></div></div></div></div></div>";$("#content-block-"+t).html(i),_(),k()}else{i="";for(var a=0;a<e.length;a++)i+='<div class="col-50"><div class="card"  id="maintenance-item-'+e[a].workshop_id+"-"+e[a].id+'"><div class="card-content"><div class="card-content-inner"><div class="list-block"><li class="item-content"><div class="item-media"><img src="static/images/ic_operated_punch.png" class="icon-operated"></div><div class="item-inner"><div class="item-title alert-machine-name">'+e[a].name+"</div></div></li></div></div></div></div></div>";$("#content-block-"+t).html(i),$(".tips").css("display","none"),T(t)}}function m(t){var e=requestBaseUrl+"iot/companies/workshops/"+t+"/machines",i=V.get(e);if(null!=i)return void p(i,t);A.$message({showClose:!0,message:"正在加载机床信息...",type:"warning",duration:0}),$.ajax({type:"GET",url:e,headers:{Authorization:"Bearer "+getToken()},success:function(i){layer.closeAll(),A.$message.closeAll(),V.set(e,i,P),p(i,t)},error:function(t){A.$message.closeAll(),A.$message("获取车间机器出错")}})}function p(t,e){null!=t&&10001==t.status&&(O.put(e,t.data.list),h(e,t.data.list))}function h(t,e){var i,a;if(q){i="";for(var s=0;s<e.length;s++)i+='<div class="col-50"><div class="card"  id="'+e[s].workshop_id+"-"+e[s].id+'"><div class="card-content"><div class="card-content-inner"><div class="list-block"><li class="item-content"><div class="item-media"><img src="static/images/ic_operated_punch.png" class="icon-operated"></div><div class="item-inner"><div class="item-title machine-name">'+e[s].name+"</div></div></li></div></div></div></div></div>";a=$("#machine-list-"+t)}else{i="";for(var s=0;s<e.length;s++)i+='<div class="col-50"><div class="card"  id="maintenance-item-'+e[s].workshop_id+"-"+e[s].id+'"><div class="card-content"><div class="card-content-inner"><div class="list-block"><li class="item-content"><div class="item-media"><img src="static/images/ic_operated_punch.png" class="icon-operated"></div><div class="item-inner"><div class="item-title alert-machine-name">'+e[s].name+"</div></div></li></div></div></div></div></div>";a=$("#alert-machine-list-"+t)}a.addClass("loaded"),a.removeAttr("hidden"),a.show(),a.html(i),layer.closeAll(),q?(_(),k()):x(t)}function f(){R||(R=!0,console.log("get status..."),$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/status",data:{workshop_id:0},headers:{Authorization:"Bearer "+getToken()},success:function(t){R=!1,console.log("get status: "+formatJSON(s()(t))),null!=t&&10001==t.status&&(M=t.data,console.log("get status success"),_())},error:function(t){R=!1,console.log("get machine status error: "+t.status)}}))}function _(){if(null!=U){if(null==M)return void f();for(var t,e,i,a,s,n=0;n<U.length;n++)if(t=U[n].id,void 0!=(e=M[""+t])&&null!=e){i=e.status,1==i?$('img[id="'+t+'"]').attr("src","static/images/ic_light_green.png"):$('img[id="'+t+'"]').attr("src","static/images/ic_light_red.png"),a=e.machine;for(var l=a.length,r=0;r<l;r++){s=a[r];var o=$('div[id="'+s.workshop_id+"-"+s.machine_id+'"]');o.removeClass("status-red"),o.removeClass("status-green"),o.removeClass("status-yellow"),o.removeClass("status-purple"),o.removeClass(".module-status-power-off"),-1!=s.power?2==s.red?o.addClass("status-red"):2==s.yellow?o.addClass("status-yellow"):2==s.purple?o.addClass("status-purple"):2==s.green&&o.addClass("status-green"):o.addClass("module-status-power-off")}}}}function g(){if(void 0===window.js_interface)null!=window.localStorage.getItem(F+"-getID")&&(L=window.localStorage.getItem(F+"-getID").split(","));else try{L=window.js_interface.getMachineId().split(","),window.localStorage.setItem(F+"-getArr",L.join(""))}catch(t){console.log(t)}null!=L&&L.forEach(function(t){$("#"+t).parent(".longTouch").append("<p class='cardCover'></p>"),$("#"+t).parent(".longTouch").addClass("toggle")})}function b(t){void 0===window.js_interface?console.log("window.js_interface is undefined"):(window.js_interface.saveMachineId(t),L=window.js_interface.getMachineId(),window.localStorage.setItem(F+"-getArr",L))}function C(t){void 0===window.js_interface?console.log("window.js_interface is undefined"):(window.js_interface.deleteMachineId(t),L=window.js_interface.getMachineId(),window.localStorage.setItem(F+"-getArr",L))}function k(){var t="",e="";g(),$(".card").on("touchstart",function(){$(this).css("opacity","0.6")}),$(".card").parent().on("touchstart",function(){var i=$(this).find(".card").attr("id"),a=$(this);$(this).index();a.hasClass("toggle")?e=setTimeout(function(){layer.open({content:"是否关注该机器",btn:["确认","取消"],no:function(){clearTimeout(e)},yes:function(t){layer.close(t),a.find(".cardCover").remove(),clearTimeout(e),a.removeClass("toggle"),C(i)}})},800):t=setTimeout(function(){layer.open({content:"是否取消关注该机器",btn:["确认","取消"],no:function(){clearTimeout(t)},yes:function(e){layer.close(e),a.append("<p class='cardCover'></p>"),clearTimeout(t),a.addClass("toggle"),b(i)}})},800)}),$(".card").parent().on("touchend",function(){clearTimeout(t),clearTimeout(e)}),$(".card").on("touchend",function(){$(this).css("opacity",""),clearTimeout(t)}),$(".card").click(function(){var t=$(this).attr("id").split("-"),e=$(this).find("div.machine-name").text();window.location="#/machine_detail?workshopId="+t[0]+"&machineId="+t[1]+"&machineName="+encodeURIComponent(e)})}function y(t){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/workshops/"+t+"/maintenance/status",headers:{Authorization:"Bearer "+getToken()},success:function(e){if(console.log("get workshop alert status: "+formatJSON(s()(e))),null!=e&&10001==e.status){var i=$("#alert-machine-img-"+t);-1==e.data.status?i.attr("src","static/images/ic_light_red.png"):i.attr("src","static/images/ic_light_green.png")}},error:function(t){console.log("get workshop alert status error: "+t.status)}})}function w(t){if(null!=t&&t.length>0&&(A.fn=function(t){$(".popup-group").css("display","block"),q=!1;var e=$("li.alert-workshop-item").eq(t).attr("id");G.addOrRemoveId(e,"alert"),j=e,n(e)},null!=U))for(var e=0;e<U.length;e++)y(U[e].id)}function x(t){var e=O.get(t),i=z.get(t);if(null!=i)return void E(t,i,e);if(null!=e)for(var a=e.length,s=0,i=[],n=0;n<a;n++)I(e[n].id,t,i,function(){++s==a&&(z.put(t,i),E(t,i,e))},function(){++s==a&&(z.put(t,i),E(t,i,e))})}function T(t){var e=N.get(t),i=D.get(t);if(null!=i)return void B(t,i,e);if(null!=e)for(var a=e.length,s=0,i=[],n=0;n<a;n++)I(e[n].id,j,i,function(){++s==a&&(D.put(t,i),B(t,i,e))},function(){++s==a&&(D.put(t,i),B(t,i,e))})}function E(t,e,i){if(null!=i)for(var a=(i.length,0);a<i.length;a++){var s=i[a],n=$("div#maintenance-item-"+t+"-"+s.id);n.removeClass("status-red"),n.removeClass("status-yellow");var l=S(e,s.id);"red"==l?n.addClass("status-red"):"yellow"==l&&n.addClass("status-yellow"),n.click(function(){var t=$(this).find("div.alert-machine-name").text(),e=$(this).attr("id");if(void 0!=e&&null!=e){var i=e.split("-");if(void 0!=i&&null!=i){var a=i.pop();window.location.href="#/single_machine_maintenance_detail?machineId="+a+"&machineName="+encodeURIComponent(t)}}})}}function B(t,e,i){if(null!=i)for(var a=(i.length,0);a<i.length;a++){var s=i[a],n=$("div#maintenance-item-"+j+"-"+s.id);n.removeClass("status-red"),n.removeClass("status-yellow");var l=S(e,s.id);"red"==l?n.addClass("status-red"):"yellow"==l&&n.addClass("status-yellow"),n.click(function(){var t=$(this).find("div.alert-machine-name").text(),e=$(this).attr("id");if(void 0!=e&&null!=e){var i=e.split("-");if(void 0!=i&&null!=i){var a=i.pop();window.location.href="#/single_machine_maintenance_detail?machineId="+a+"&machineName="+encodeURIComponent(t)}}})}}function S(t,e){for(var i,a="",s=0;s<t.length;s++)if(i=t[s],i.machine_id==e){if("red"==a)return"red";"yellow"==i.light&&""==a&&(a="yellow"),"red"==i.light&&(a="red")}return a}function I(t,e,i,a,s){$.ajax({type:"GET",url:requestBaseUrl+"iot/companies/machines/"+t+"/maintenances",headers:{Authorization:"Bearer "+getToken()},success:function(s){if(null!=s&&10001==s.status){var n=s.data.total;if(n>0)for(var l=s.data.list,r=0;r<n;r++){var o=l[r].last_date,c=l[r].cycle,d=parseInt((new Date).getTime()/1e3,10),u=o+c,v=l[r].name;d>=u?i.push({machine_id:t,workshop_id:e,machine_name:"test",maintenance_name:v,maintenance_state:"需要立即保养",light:"red"}):604800+d>=u&&i.push({machine_id:t,workshop_id:e,machine_name:"test",maintenance_name:v,maintenance_state:"接近保养日期",light:"yellow"})}}void 0!=a&&"function"==typeof a&&a()},error:function(t){console.log("获取已绑定的保养项出错："+t.status),void 0!=s&&"function"==typeof s&&s()}})}$("#titleName").text("设备管理");var A=this;$("#close-pop-btn").click(function(){$("#dialog").animate({top:"-100%"},500)});var A=this;setTimeout(function(){$("#dialog").animate({top:"-100%"},500)},10);var j,P=10,U=null,M=null,N=new e,O=new e,q=!0,z=new e,D=new e,V=new t,G={ids:[],alertIds:[],popid:null,addOrRemoveId:function(t,e){var i=G.idExists(t,e);-1==i?"id"==e?G.ids.push(t):"alert"==e&&G.alertIds.push(t):"id"==e?G.ids.splice(i,1):"alert"==e&&G.alertIds.splice(i,1),G.saveIds()},removeId:function(t,e){var i=idExists(t,e);i>=0&&("id"==e?G.ids.splice(i,1):"alert"==e&&G.alertIds.splice(i,1))},idExists:function(t,e){var i;"id"==e?i=G.ids:"alert"==e&&(i=G.alertIds);for(var a=0;a<i.length;a++)if(i[a]==t)return a;return-1},saveIds:function(){V.set("ids",G.ids,60),V.set("alertIds",G.alertIds,60),V.set("popid",G.popid,60)},recoverPageState:function(){if(G.popid=V.get("popid"),null!=G.popid){var t=G.popid.split("-");return"id"==t[0]?q=!0:"alert"==t[0]&&(q=!1),j=t[1],void n(t[1])}G.ids=V.get("ids"),null==G.ids&&(G.ids=[]);for(var e=0;e<G.ids.length;e++){var i=G.ids[e];""!=i&&null!=i&&void 0!=i&&(console.log("id = "+i),q=!0,j=i,n(i))}G.alertIds=V.get("alertIds"),null==G.alertIds&&(G.alertIds=[]);for(var e=0;e<G.alertIds.length;e++)""!=(i=G.alertIds[e])&&null!=i&&void 0!=i&&(console.log("alert id = "+i),q=!1,j=i,n(i))}};!function(){var t=requestBaseUrl+"iot/companies/workshops",e=V.get(t);if(null!=e)return void i(e);$.ajax({type:"GET",url:t,async:!1,headers:{Authorization:"Bearer "+getToken()},success:function(e){layer.closeAll(),V.set(t,e,P),i(e)},error:function(t,e,i){A.$message("加载车间列表出错")}})}();var R=!1,F=null;window.onload=function(){void 0===window.js_interface?F=window.localStorage.getItem("phone"):(F=window.js_interface.getPhoneNumber(),window.localStorage.setItem("phone",F))},window.localStorage.setItem(F+"-getID","5-20");var L=[]}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(23),s=i(250),n=i.n(s),l=i(244),r=(i.n(l),i(248)),o=(i.n(r),i(294)),c=i(245),d=i.n(c),u=i(246),v=(i.n(u),i(249)),m=i.n(v),p=i(30),h=(i.n(p),i(247)),f=(i.n(h),i(251)),_=i.n(f),g=i(252),b=i.n(g),C=i(253),k=i.n(C),$=i(271),y=i.n($),w=i(272),x=i.n(w),T=i(273),E=i.n(T),B=i(274),S=i.n(B),I=i(275),A=i.n(I),j=i(276),P=i.n(j),U=i(292),M=i.n(U),N=i(293),O=i.n(N),q=i(254),z=i.n(q),D=i(255),V=i.n(D),G=i(256),R=i.n(G),F=i(257),L=i.n(F),H=i(258),J=i.n(H),W=i(259),Y=i.n(W),K=i(260),Z=i.n(K),Q=i(261),X=i.n(Q),tt=i(262),et=i.n(tt),it=i(263),at=i.n(it),st=i(264),nt=i.n(st),lt=i(265),rt=i.n(lt),ot=i(266),ct=i.n(ot),dt=i(267),ut=i.n(dt),vt=i(268),mt=i.n(vt),pt=i(269),ht=i.n(pt),ft=i(270),_t=i.n(ft),gt=i(277),bt=i.n(gt),Ct=i(278),kt=i.n(Ct),$t=i(279),yt=i.n($t),wt=i(280),xt=i.n(wt),Tt=i(281),Et=i.n(Tt),Bt=i(282),St=i.n(Bt),It=i(283),At=i.n(It),jt=i(284),Pt=i.n(jt),Ut=i(285),Mt=i.n(Ut),Nt=i(286),Ot=i.n(Nt),qt=i(287),zt=i.n(qt),Dt=i(288),Vt=i.n(Dt),Gt=i(289),Rt=i.n(Gt),Ft=i(290),Lt=i.n(Ft),Ht=i(291),Jt=i.n(Ht);a.default.component(p.Button.name,p.Button),a.default.component(p.Header.name,p.Header),a.default.component(p.DatetimePicker.name,p.DatetimePicker),a.default.component(p.Switch.name,p.Switch),a.default.use(m.a),a.default.use(o.a),a.default.use(d.a);var Wt=[{path:"/",component:_.a},{path:"/leave",component:b.a},{path:"/machine",component:k.a},{path:"/notice",component:y.a},{path:"/order",component:x.a},{path:"/overtime",component:E.a},{path:"/records",component:S.a},{path:"/shifubao_agreement",component:A.a},{path:"/statistics",component:P.a},{path:"/userAgrement",component:M.a},{path:"/workshop",component:O.a},{path:"/all_machines_statistics",component:z.a},{path:"/calculate",component:V.a},{path:"/machine_alert_detail",component:R.a},{path:"/machine_alert_records",component:L.a},{path:"/machine_detail",component:J.a},{path:"/machine_task",component:Y.a},{path:"/single_machine_statistics",component:Z.a},{path:"/single_machine_statistics_month",component:X.a},{path:"/single_machine_timeline_statistics",component:et.a},{path:"/login",component:at.a},{path:"/machine_maintenance_add",component:nt.a},{path:"/machine_maintenance_list",component:rt.a},{path:"/machine_maintenance_records",component:ct.a},{path:"/main",component:ut.a},{path:"/main2",component:mt.a},{path:"/single_machine_maintenance_detail",component:ht.a},{path:"/single_machine_maintenance_detail_admin",component:_t.a},{path:"/statistics_boss_attendance",component:bt.a},{path:"/statistics_boss_late_top",component:kt.a},{path:"/statistics_boss_leave",component:yt.a},{path:"/statistics_boss_machine",component:xt.a},{path:"/statistics_boss_overtime",component:Et.a},{path:"/statistics_boss_overtime_top",component:St.a},{path:"/statistics_boss_salary",component:At.a},{path:"/statistics_employee_attendance",component:Pt.a},{path:"/statistics_employee_leave",component:Mt.a},{path:"/statistics_employee_overtime",component:Ot.a},{path:"/statistics_workshop_detail",component:zt.a},{path:"/statistics_workshop_list",component:Vt.a},{path:"/machine_running_status",component:Rt.a},{path:"/machine_working_history",component:Lt.a},{path:"/machine_working_status",component:Jt.a}],Yt=new o.a({routes:Wt});new a.default({el:"#app",router:Yt,template:"<App/>",components:{App:n.a}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var a=i(4)(i(318),i(732),null,null);t.exports=a.exports},function(t,e,i){var a=i(4)(i(319),i(745),null,null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-top":"-60px"},attrs:{id:"app"}},[i("div",{staticClass:"container-fluid",staticStyle:{padding:"0",margin:"0"}},[i("div",{staticClass:"row row-header",staticStyle:{"margin-left":"0","margin-right":"0"}},[i("div",{staticClass:"col-md-1 width1"},[t._v("车间名称")]),t._v(" "),i("div",{staticClass:"col-md-1 width1"},[t._v("机器编号")]),t._v(" "),i("div",{staticClass:"col-md-1 width15"},[t._v("当前运行状态")]),t._v(" "),i("div",{staticClass:"col-md-1 width15 red"},[t._v("机器故障时间")]),t._v(" "),i("div",{staticClass:"col-md-1 width15 yellow"},[t._v("机器待机时间")]),t._v(" "),i("div",{staticClass:"col-md-1 width15 green"},[t._v("正常工作时间")]),t._v(" "),i("div",{staticClass:"col-md-1 width15"},[t._v("其他时间")]),t._v(" "),i("div",{staticClass:"col-md-1 width1"},[t._v("加工个数")]),t._v(" "),i("div",{staticClass:"col-md-1 width1 module-status"},[t._v("模块状态")])]),t._v(" "),i("div",{attrs:{id:"data-div"}},[i("div",{attrs:{id:"inner-div"}},[i("table",{staticClass:"table table-hover",attrs:{id:"table-content"}}),t._v(" "),i("div",{attrs:{id:"footer-div"}})])]),t._v(" "),i("div",{attrs:{id:"footer-bar"}},[i("label",{staticStyle:{"line-height":"50px","margin-left":"50px",float:"left"}},[t._v("设置统计起始时间：")]),t._v(" "),i("div",{staticClass:"dropdown",staticStyle:{float:"left","line-height":"50px"}},[i("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button",id:"select-start-time-btn","data-toggle":"modal","data-target":"#myModal"}},[t._v("\n                    00:00\n                    "),i("span",{staticClass:"caret"})])])])]),t._v(" "),i("div",{attrs:{id:"myModal2"}},[i("div",{staticClass:"modal-header2"},[i("button",{staticClass:"close",attrs:{type:"button"}},[i("span",{attrs:{id:"closeTime"}},[t._v("×")]),i("span",{staticClass:"sr-only"},[t._v("Close")])]),t._v(" "),i("h4",[t._v("设置统计起始时间")])]),t._v(" "),i("div",{staticClass:"modal-body2",attrs:{id:"modal-body2"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticStyle:{padding:"0 25px","margin-top":"-35px"},attrs:{id:"master"}},[i("h3",[t._v("一、总则")]),t._v(" "),i("p",[t._v("\n\t\t\t1.1 师傅宝系统（"),i("a",{attrs:{href:"https://www.listome.com/"}},[t._v("https://www.listome.com/")]),t._v("）的所有权和运营权归深圳市利市通信息技术有限公司。\n\t\t")]),t._v(" "),i("p",[t._v("1.2\n\t\t\t用户在使用本系统的服务之前，应当仔细阅读本协议，并同意遵守本协议及所有系统规则后方可成为师傅宝系统用户；用户决定接受本协议并注册成功，即表明用户对本协议已仔细阅读并充分理解，用户与本系统之间已达成协议，愿意接受和遵守本协议及所有系统规则的规定，遵守相应的法律法规，承担相应的法律后果；用户在使用特殊的服务或产品时，应当同意接受相关协议后方能使用。\n\t\t")]),t._v(" "),i("p",[t._v("1.3\n\t\t\t本协议、系统规则可由本系统为优化发展需要适时更新，用户在使用师傅宝系统产品时应当及时关注，用户同意本系统不承担通知义务。本系统的通知、公告、声明或其它类似内容是本协议及系统规则的一部分。\n\t\t")]),t._v(" "),i("h3",[t._v("二、服务内容")]),t._v(" "),i("p",[t._v("2.1 本系统网络服务的具体内容由本系统根据实际情况提供，例如考勤规则、位置管理等。")]),t._v(" "),i("p",[t._v("2.2\n\t\t\t本系统提供的部分网络服务为收费的网络服务，用户使用收费网络服务需要向本系统支付一定的费用。对于收费的网络服务，本系统会在用户使用之前给予用户明确的提示，只有用户根据提示确认其愿意支付相关费用，用户才能使用该等收费网络服务。如用户拒绝支付相关费用，则本系统有权不向用户提供该等收费网络服务。\n\t\t")]),t._v(" "),i("p",[t._v("2.3\n\t\t\t本系统仅提供相关的网络服务，除此之外与相关网络服务有关的设备(如个人电脑、手机、及其他与接入互联网或移动网有关的装置)及所需的费用(如为接入互联网而支付的电话费及上网费、为使用移动网而支付的手机费)均应由用户自行负担。\n\t\t")]),t._v(" "),i("h3",[t._v("三、用户帐号")]),t._v(" "),i("p",[t._v("3.1\n\t\t\t经本系统注册系统完成注册程序并通过身份认证的用户即为本系统的正式用户，认证后即获得本系统规定用户所应享有的相应权限。师傅宝系统有权对会员的权限设计进行变更。\n\t\t")]),t._v(" "),i("p",[t._v("3.2\n\t\t\t用户只能使用汉字、英文字母、数字及它们的组合，且最多不超过16个字符(8个汉字)注册，禁止使用空格、各种符号和特殊字符，否则本系统将不予注册并有权删除。\n\t\t")]),t._v(" "),i("p",[t._v("3.3 如发现用户帐号中含有以下不雅文字或不恰当名称的，本系统保留取消其用户资格的权利：")]),t._v(" "),i("ul",[i("li",[t._v("(1)以党和国家领导人或其他社会名人的真实姓名、字号、艺名、笔名注册；")]),t._v(" "),i("li",[t._v("(2)以国家机构或其他机构的名称注册；")]),t._v(" "),i("li",[t._v("(3)注册不文明、不健康名字，或包含歧视、侮辱、猥亵类词语的帐号；")]),t._v(" "),i("li",[t._v("(4)注册易产生歧义、引起他人误解或其它不符合法律规定的帐号。")])]),t._v(" "),i("p",[t._v("3.4 用户帐号的所有权归本系统，用户仅享有使用权。")]),t._v(" "),i("p",[t._v("3.5\n\t\t\t用户有义务保证帐号和密码的安全，用户利用该帐号和密码所进行的一切活动引起的任何损失或损害，由用户自行承担全部责任，本系统不承担任何责任。如用户发现帐号遭到未授权的使用或发生其他任何安全问题，应立即修改帐号密码并妥善保管，如有必要，请通知本系统。因黑客行为或用户的保管疏忽导致帐号被非法使用，本系统不承担任何责任。\n\t\t")]),t._v(" "),i("h3",[t._v("四、使用规则")]),t._v(" "),i("p",[t._v("4.1\n\t\t\t用户在本系统进行的所有行为应遵守中华人民共和国相关法律法规，包括但不限于《中华人民共和国计算机信息系统安全保护条例》、《计算机软件保护条例》、《最高人民法院关于审理涉及计算机网络著作权纠纷案件适用法律若干问题的解释(法释[2004]1号)》、《全国人大常委会关于维护互联网安全的决定》、《互联网电子公告服务管理规定》、《互联网新闻信息服务管理规定》、《互联网著作权行政保护办法》和《信息网络传播权保护条例》等有关计算机互联网和知识产权的法律法规、实施办法。\n\t\t")]),t._v(" "),i("p",[t._v("4.2\n\t\t\t用户对其自行发表、上传或传送的内容负全部责任，所有用户不得在本系统任何页面发布、转载、传送含有下列内容之一的信息，否则本系统有权自行处理并不通知用户：\n\t\t")]),t._v(" "),i("ul",[i("li",[t._v("(1)违反宪法规定及其基本原则的；")]),t._v(" "),i("li",[t._v("(2)危害国家安全，泄漏国家机密，颠覆国家政权，破坏国家统一的；")]),t._v(" "),i("li",[t._v("(3)损害国家荣誉和利益的；")]),t._v(" "),i("li",[t._v("(4)煽动民族仇恨、民族歧视，破坏民族团结的；")]),t._v(" "),i("li",[t._v("(5)破坏国家宗教政策，宣扬邪教和封建迷信的；")]),t._v(" "),i("li",[t._v("(6)散布谣言，扰乱社会秩序，破坏社会稳定的；")]),t._v(" "),i("li",[t._v("(7)散布淫秽、色情、赌博、暴力、恐怖或者教唆犯罪的；")]),t._v(" "),i("li",[t._v("(8)侮辱或者诽谤他人，侵害他人合法权益的；")]),t._v(" "),i("li",[t._v("(9)煽动非法集会、结社、游行、示威的；")]),t._v(" "),i("li",[t._v("(10)以非法民间组织名义活动的；")]),t._v(" "),i("li",[t._v("(11)含有法律、行政法规禁止的其他内容的。")])]),t._v(" "),i("p",[t._v("4.3\n\t\t\t用户承诺对其发表或者上传于本系统的所有信息(即属于《中华人民共和国著作权法》规定的作品，包括但不限于文字、图片、音乐、电影、表演和录音录像制品和电脑程序等)均享有完整的知识产权，或者已经得到相关权利人的合法授权；如用户违反本条规定造成本系统被第三人索赔的，用户应承担因此所致本系统所发生的一切损失及费用(包括但不限于各种补偿费、诉讼代理费及为此支出的其它合理费用)；\n\t\t")]),t._v(" "),i("p",[t._v("4.4\n\t\t\t当第三方认为用户发表或者上传于本系统的信息侵犯其权利，并根据《信息网络传播权保护条例》或者相关法律规定向本系统发送权利通知书时，用户同意本系统可以自行判断决定删除涉嫌侵权信息，除非用户提交书面证据材料排除侵权的可能性，本系统将不会自动恢复上述删除的信息；\n\t\t")]),t._v(" "),i("ul",[i("li",[t._v("(1)不得为任何非法目的而使用网络服务系统；")]),t._v(" "),i("li",[t._v("(2)遵守所有与网络服务有关的网络协议、规定和程序；")]),t._v(" "),i("li",[t._v("(3)不得利用本系统服务进行任何可能对互联网的正常运转造成不利影响的行为；")]),t._v(" "),i("li",[t._v("(4)不得利用本系统服务进行任何不利于本系统的行为。")])]),t._v(" "),i("p",[t._v("4.5\n\t\t\t如用户在使用网络服务时违反上述任何规定，本系统有权要求用户改正或直接采取一切必要的措施(包括但不限于删除用户张贴的内容、暂停或终止用户使用网络服务的权利)以减轻用户不当行为而造成的影响。\n\t\t")]),t._v(" "),i("h3",[t._v("五、隐私保护")]),t._v(" "),i("p",[t._v("5.1 本系统不对外公开或向第三方提供单个用户的注册资料及用户在使用网络服务时存储在本系统的非公开内容，但下列情况除外：")]),t._v(" "),i("ul",[i("li",[t._v("(1)事先获得用户的明确授权；")]),t._v(" "),i("li",[t._v("(2)根据有关的法律法规要求；")]),t._v(" "),i("li",[t._v("(3)按照相关政府主管部门的要求；")]),t._v(" "),i("li",[t._v("(4)为维护社会公众的利益。")])]),t._v(" "),i("p",[t._v("5.2\n\t\t\t本系统可能会与第三方合作向用户提供相关的网络服务，在此情况下，如该第三方同意承担与本系统同等的保护用户隐私的责任，则本系统有权将用户的注册资料等提供给该第三方。\n\t\t\t在不透露单个用户隐私资料的前提下，本系统有权对整个用户数据库进行分析并对用户数据库进行商业上的利用。")]),t._v(" "),i("h3",[t._v("六、版权声明")]),t._v(" "),i("p",[t._v("6.1 本系统的文字、图片、音频、视频等版权均归本系统享有或本系统与作者共同享有，未经本系统许可，不得任意转载。")]),t._v(" "),i("p",[t._v("6.2 本系统特有的标识、版面设计、编排方式等版权均属本系统享有，未经本系统许可，不得任意复制或转载。")]),t._v(" "),i("p",[t._v("\n\t\t\t6.3 使用本系统的任何内容均应注明“来源于师傅宝系统（ "),i("a",{attrs:{href:"https://www.listome.com/"}},[t._v("https://www.listome.com/")]),t._v("\n\t\t\t）”及署上作者姓名，按法律规定需要支付稿酬的，应当通知本系统及作者并支付稿酬，并独立承担一切法律责任。\n\t\t")]),t._v(" "),i("p",[t._v("6.4\n\t\t\t本系统享有所有作品用于其它用途的优先权，包括但不限于网站、电子杂志、平面出版等，但在使用前会通知作者，并按同行业的标准支付稿酬。")]),t._v(" "),i("p",[t._v("6.5 本系统所有内容仅代表作者自己的立场和观点，与本系统无关，由作者本人承担一切法律责任。")]),t._v(" "),i("p",[t._v("6.6 恶意转载本系统内容的，本系统保留将其诉诸法律的权利。")]),t._v(" "),i("h3",[t._v("七、责任声明")]),t._v(" "),i("p",[t._v("7.1 用户明确同意其使用本系统网络服务所存在的风险及一切后果将完全由用户本人承担，本系统对此不承担任何责任。")]),t._v(" "),i("p",[t._v("7.2\n\t\t\t本系统无法保证网络服务一定能满足用户的要求，也不保证网络服务的及时性、安全性、准确性，用户对此应予以充分理解、认知和接受。")]),t._v(" "),i("p",[t._v("7.3\n\t\t\t本系统无法保证为方便用户而设置的外部链接的准确性和完整性，同时，对于该等外部链接指向的不由本系统实际控制的任何网页上的内容，本系统不承担任何责任。\n\t\t")]),t._v(" "),i("p",[t._v("7.4\n\t\t\t对于因不可抗力或本系统不能控制的原因造成的网络服务中断或其它缺陷，本系统不承担任何责任，但将尽力减少因此而给用户造成的损失和影响。")]),t._v(" "),i("p",[t._v("7.5 对于本系统向用户提供的下列产品或者服务的质量缺陷本身及其引发的任何损失，本系统无需承担任何责任：")]),t._v(" "),i("ul",[i("li",[t._v("(1)本系统向用户免费提供的各项网络服务；")]),t._v(" "),i("li",[t._v("(2)本系统向用户赠送的任何产品或者服务；")]),t._v(" "),i("li",[t._v("(3)本系统向收费网络服务用户附赠的各种产品或者服务。")])]),t._v(" "),i("p",[t._v("7.6\n\t\t\t本系统有权于任何时间暂时或永久修改或终止本服务(或其任何部分)，而无论通知与否，本系统对用户和任何第三人均无需承担任何责任。")]),t._v(" "),i("h3",[t._v("八、附则")]),t._v(" "),i("p",[t._v("8.1 本协议的订立、执行和解释及争议的解决均应适用中华人民共和国法律。\n\t\t\t如双方就本协议内容或其执行发生任何争议，双方应尽量友好协商解决；协商不成时，任何一方均可向师傅宝系统运营方所在地的人民法院提起诉讼。")]),t._v(" "),i("p",[t._v("8.2 无论何种原因导致本协议的部分条款无效的，本协议的其余条款仍应有效并且有约束力。")]),t._v(" "),i("p",[t._v("8.3 本协议解释权及修订权归师傅宝系统运营方。")]),t._v(" "),i("p")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),i("el-dialog",{attrs:{title:"提示",size:"large"},model:{value:t.dialogVisible1,callback:function(e){t.dialogVisible1=e},expression:"dialogVisible1"}},[i("span",[t._v("确定要开始任务吗？")]),t._v(" "),i("span",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible1=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible1=!1}}},[t._v("确 定")])],1)]),t._v(" "),i("el-dialog",{attrs:{title:"提示",size:"large"},model:{value:t.dialogVisible2,callback:function(e){t.dialogVisible2=e},expression:"dialogVisible2"}},[i("span",[t._v("确定要结束任务吗？")]),t._v(" "),i("span",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible2=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible2=!1}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[i("div",{staticClass:"content-block-title"},[t._v("新建机床任务")]),t._v(" "),i("div",{staticClass:"list-block"},[i("ul",[i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("任务名称")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",placeholder:"填写任务名称"}})])])])]),t._v(" "),i("li",{staticClass:"item-content item-link",attrs:{id:"menu-get-current-time"}},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("开始时间")]),t._v(" "),i("div",{staticClass:"item-after",attrs:{id:"current-time-label"}},[t._v("点击获取当前时间")])])]),t._v(" "),i("li",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("操作人")]),t._v(" "),i("div",{staticClass:"item-after"},[t._v("张三")])])]),t._v(" "),i("li",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("备注")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",placeholder:"填写备注信息"}})]),t._v(" "),i("div",{staticClass:"item-after"},[i("a",{staticClass:"button",attrs:{href:"javascript:;",id:"btn-submit-remark"}},[t._v("提交")])])])])]),t._v(" "),i("div",{staticClass:"content-block"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-danger",attrs:{href:"javascript:;",id:"btn-stop-task"}},[t._v("结束")])]),t._v(" "),i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-success",attrs:{href:"javascript:;",id:"btn-start-task"}},[t._v("开始")])])])])]),t._v(" "),i("div",{staticClass:"content-block-title"},[t._v("历史任务记录（最近10条）")]),t._v(" "),i("div",{staticClass:"list-block"},[i("ul",{attrs:{id:"history-task-list"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[t._m(0),t._v(" "),i("div",{staticClass:"tabs"},[i("div",{staticClass:"tab active",attrs:{id:"tab1"}},[i("div",{staticClass:"content-block tab-page-block",attrs:{id:"tab-page-list"}},[i("div",{staticClass:"list-block media-list"},t._l(t.list,function(e,a){return i("ul",t._l(t.list,function(e,a){return i("li",{staticClass:"item-content item-link list-item",on:{click:function(e){t.listItem(a)}}},[i("div",{staticClass:"item-media"},[0==e.status?i("img",{staticClass:"item-img",attrs:{src:"static/images/ic_verify.png"}}):i("img",{staticClass:"item-img",attrs:{if:"lis.status == 1",src:"static/images/ic_agree.png"}})]),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title",attrs:{id:"title"}},[t._v("标题："+t._s(e.title))]),t._v(" "),i("div",{staticClass:"item-title",attrs:{id:"type"}},[t._v("类型："+t._s(e.type))]),t._v(" "),i("div",{staticClass:"item-subtitle",attrs:{id:"reason"}},[t._v("理由："+t._s(e.reason))]),t._v(" "),0==e.status?i("div",{staticClass:"item-subtitle",staticStyle:{display:"none"},attrs:{id:"result"}},[t._v("审核结果：审核中")]):i("div",{staticClass:"item-subtitle",staticStyle:{display:"none"},attrs:{id:"result",if:"lis.status==1"}},[t._v("审核结果：审核通过")]),t._v(" "),i("div",{staticClass:"item-subtitle",attrs:{id:"time"}},[t._v("时间："+t._s(e.start_time)+"至"+t._s(e.end_time))])])])}))}))])]),t._v(" "),i("div",{staticClass:"tab",attrs:{id:"tab2"}},[i("mt-datetime-picker",{ref:"picker",attrs:{type:"datetime"},on:{confirm:t.handleConfirm},model:{value:t.pickerVisible,callback:function(e){t.pickerVisible=e},expression:"pickerVisible"}}),t._v(" "),i("mt-datetime-picker",{ref:"picker2",attrs:{type:"datetime"},on:{confirm:t.handleConfirm2},model:{value:t.pickerVisible2,callback:function(e){t.pickerVisible2=e},expression:"pickerVisible2"}}),t._v(" "),i("div",{staticClass:"content-block tab-page-block",attrs:{id:"tab-page-new"}},[i("div",{staticClass:"list-block"},[i("ul",[i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("加班类型")]),t._v(" "),i("div",{staticClass:"item-input"},[i("el-autocomplete",{staticClass:"inline-input",attrs:{readonly:"","fetch-suggestions":t.querySearch,placeholder:"选择加班类型"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})],1)])])]),t._v(" "),t._m(1),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("开始时间")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{staticClass:"date-picker",attrs:{type:"text",placeholder:"请选择开始时间",readonly:"",id:"start-time-picker"},domProps:{value:t.startTime1},on:{click:t.openPicker}})])])])]),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("结束时间")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{staticClass:"date-picker",attrs:{type:"text",placeholder:"请选择结束时间",readonly:"",id:"end-time-picker"},domProps:{value:t.endTime1},on:{click:t.openPicker2}})])])])]),t._v(" "),t._m(2),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("是否带薪")]),t._v(" "),i("mt-switch",{on:{change:t.changeBoolean},model:{value:t.switchValue,callback:function(e){t.switchValue=e},expression:"switchValue"}}),i("span",{attrs:{id:"changePaid"}},[t._v("不带薪")])],1)])]),t._v(" "),t._m(3)])]),t._v(" "),i("div",{staticClass:"content-block"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-danger",attrs:{href:"javascript:;",id:"btn-clear"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("重置")])]),t._v(" "),t._m(4)])])])],1),t._v(" "),i("div",{staticClass:"tab",attrs:{id:"tab3"}},[i("div",{staticClass:"content-block tab-page-block",attrs:{id:"tab-page-check-content"}},t._l(t.list2,function(e,a){return i("div",[i("div",{staticClass:"card",attrs:{id:"card-id-"+e.id}},[i("div",{staticClass:"card-header orange-color"},[t._v(t._s(e.user_name)+"的加班申请")]),t._v(" "),i("div",{staticClass:"card-content"}),t._v(" "),i("div",{staticClass:"card-content-inner"},[i("span",[t._v("原因："+t._s(e.reason))]),i("br"),t._v(" "),i("span",[t._v("时间："+t._s(e.start_time)+"至"+t._s(e.end_time))])]),t._v(" "),i("div",{staticClass:"card-footer"},[i("a",{staticClass:"link agree",attrs:{href:"javascript:;",id:e.id},on:{click:function(e){t.agree(e)}}},[t._v("同意")]),t._v(" "),i("a",{staticClass:"link disagree",attrs:{href:"javascript:;",id:e.id},on:{click:function(e){t.disagree(e)}}},[t._v("拒绝")]),t._v(" "),i("a",{staticClass:"link",staticStyle:{display:"none"},attrs:{href:"javascript:;"}},[t._v("发消息")])])])])}))])])]),t._v(" "),i("el-dialog",{attrs:{title:"提示"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[i("span",[t._v("确认要清空填写的内容吗？")]),t._v(" "),i("span",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.clearForm}},[t._v("确 定")])],1)]),t._v(" "),i("el-dialog",{attrs:{title:"提示"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("span",[t._v("确定要同意该请假申请吗？")]),t._v(" "),i("span",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{on:{click:function(e){t.dialog=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.sureAgree}},[t._v("确 定")])],1)]),t._v(" "),i("el-dialog",{attrs:{title:"提示"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[i("span",[t._v("确定要拒绝该请假申请吗？")]),t._v(" "),i("span",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{on:{click:function(e){t.dialog2=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.sureDisagree}},[t._v("确 定")])],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"buttons-tab fixed-tab buttons-fixed"},[i("a",{staticClass:"tab-link button active",attrs:{href:"#tab1"}},[t._v("加班记录")]),t._v(" "),i("a",{staticClass:"tab-link button",attrs:{href:"#tab2"}},[t._v("加班申请")]),t._v(" "),i("a",{staticClass:"tab-link button",attrs:{id:"tab-check-leaves",href:"#tab3"}},[t._v("加班审核")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("加班原因")]),t._v(" "),i("div",{staticClass:"item-input"},[i("textarea",{attrs:{id:"leave-reason",placeholder:"填写加班原因"}})])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("加班小时")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",placeholder:"填写加班小时",id:"hours"}})])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("div",{staticClass:"item-content item-link"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("我的上级")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",readonly:"true",value:"",id:"my_leader"}})])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-success",attrs:{href:"javascript:;",id:"btn-submit"}},[t._v("提交")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"content-block"},[i("div",{staticClass:"buttons-row"},[i("a",{staticClass:"tab-link active button",attrs:{href:"#tab1",id:"tab-menu1"}},[t._v("饼状图")]),t._v(" "),i("a",{staticClass:"tab-link button",attrs:{href:"#tab2",id:"tab-menu2"}},[t._v("柱状图")])])]),t._v(" "),i("div",{staticClass:"chart-content",attrs:{id:"main"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fontSize",staticStyle:{"margin-top":"-60px"},attrs:{id:"app"}},[i("div",{staticClass:"container-fluid",staticStyle:{padding:"0",margin:"0"}},[i("table",{staticClass:"table table-hover"},[i("caption",{staticStyle:{"text-align":"center"}},[t._v("机床工作历史记录表")]),t._v(" "),i("tr",[i("th",[t._v("序号")]),t._v(" "),i("th",[t._v("任务名称")]),t._v(" "),i("th",[t._v("工件编号")]),t._v(" "),i("th",[t._v("工件名称")]),t._v(" "),i("th",[t._v("操作人")]),t._v(" "),i("th",[t._v("备注")])])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[t._m(0),t._v(" "),i("div",{staticClass:"tabs"},[i("div",{staticClass:"tab active",attrs:{id:"tab1"}},[i("div",{staticClass:"content-block tab-page-block",attrs:{id:"tab-page-list"}},[i("div",{staticClass:"list-block media-list"},t._l(t.list,function(e,a){return i("ul",[i("li",{staticClass:"item-content item-link list-item",on:{click:function(e){t.listItem(a)}}},[i("div",{staticClass:"item-media"},[0==e.status?i("img",{staticClass:"item-img",attrs:{src:"static/images/ic_verify.png"}}):i("img",{staticClass:"item-img",attrs:{if:"lis.status == 1",src:"static/images/ic_agree.png"}})]),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title",attrs:{id:"type"}},[t._v("类型："+t._s(e.leave_type.name))]),t._v(" "),i("div",{staticClass:"item-subtitle",attrs:{id:"reason"}},[t._v("理由："+t._s(e.reason))]),t._v(" "),0==e.status?i("div",{staticClass:"item-subtitle",staticStyle:{display:"none"},attrs:{id:"result"}},[t._v("审核结果：审核中")]):i("div",{staticClass:"item-subtitle",staticStyle:{display:"none"},attrs:{id:"result",if:"lis.status==1"}},[t._v("审核结果：审核通过")]),t._v(" "),i("div",{staticClass:"item-subtitle",attrs:{id:"time"}},[t._v("时间："+t._s(e.start_time)+"至"+t._s(e.end_time))])])])])}))])]),t._v(" "),i("div",{staticClass:"tab",attrs:{id:"tab2"}},[i("mt-datetime-picker",{ref:"picker",attrs:{type:"datetime"},on:{confirm:t.handleConfirm},model:{value:t.pickerVisible,callback:function(e){t.pickerVisible=e},expression:"pickerVisible"}}),t._v(" "),i("mt-datetime-picker",{ref:"picker2",attrs:{type:"datetime"},on:{confirm:t.handleConfirm2},model:{value:t.pickerVisible2,callback:function(e){t.pickerVisible2=e},expression:"pickerVisible2"}}),t._v(" "),i("div",{staticClass:"content-block tab-page-block",attrs:{id:"tab-page-new"}},[i("div",{staticClass:"list-block"},[i("ul",[i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("请假类型")]),t._v(" "),i("div",{staticClass:"item-input"},[i("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":t.querySearch,placeholder:"选择请假类型"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})],1)])])]),t._v(" "),t._m(1),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("开始时间")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{staticClass:"date-picker",attrs:{type:"text",placeholder:"请选择开始时间",readonly:"",id:"start-time-picker"},domProps:{value:t.startTime1},on:{click:t.openPicker}})])])])]),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("结束时间")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{staticClass:"date-picker",attrs:{type:"text",placeholder:"请选择结束时间",readonly:"",id:"end-time-picker"},domProps:{value:t.endTime1},on:{click:t.openPicker2}})])])])]),t._v(" "),t._m(2),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("是否带薪")]),t._v(" "),i("mt-switch",{on:{change:t.changeBoolean},model:{value:t.switchValue,callback:function(e){t.switchValue=e},expression:"switchValue"}}),i("span",{attrs:{id:"changePaid"}},[t._v("不带薪")])],1)])]),t._v(" "),t._m(3)])]),t._v(" "),i("div",{staticClass:"content-block"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-danger",attrs:{href:"javascript:;",id:"btn-clear"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("重置")])]),t._v(" "),t._m(4)])])])],1),t._v(" "),i("div",{staticClass:"tab",attrs:{id:"tab3"}},[i("div",{staticClass:"content-block tab-page-block",attrs:{id:"tab-page-check-content"}},t._l(t.list2,function(e,a){return i("div",[i("div",{staticClass:"card",attrs:{id:"card-id-"+e.id}},[i("div",{staticClass:"card-header orange-color"},[t._v(t._s(e.user_name)+"的请假申请")]),t._v(" "),i("div",{staticClass:"card-content"}),t._v(" "),i("div",{staticClass:"card-content-inner"},[i("span",[t._v("原因："+t._s(e.reason))]),i("br"),t._v(" "),i("span",[t._v("时间："+t._s(e.start_time)+"至"+t._s(e.end_time))])]),t._v(" "),i("div",{staticClass:"card-footer"},[i("a",{staticClass:"link agree",attrs:{href:"javascript:;",id:e.id},on:{click:function(e){t.agree(e)}}},[t._v("同意")]),t._v(" "),i("a",{staticClass:"link disagree",attrs:{href:"javascript:;",id:e.id},on:{click:function(e){t.disagree(e)}}},[t._v("拒绝")]),t._v(" "),i("a",{staticClass:"link",staticStyle:{display:"none"},attrs:{href:"javascript:;"}},[t._v("发消息")])])])])}))])])]),t._v(" "),i("el-dialog",{attrs:{title:"提示",size:"large"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[i("span",[t._v("确认要清空填写的内容吗？")]),t._v(" "),i("span",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.clearForm}},[t._v("确 定")])],1)]),t._v(" "),i("el-dialog",{attrs:{title:"提示"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("span",[t._v("确定要同意该请假申请吗？")]),t._v(" "),i("span",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{on:{click:function(e){t.dialog=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.sureAgree}},[t._v("确 定")])],1)]),t._v(" "),i("el-dialog",{attrs:{title:"提示"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[i("span",[t._v("确定要拒绝该请假申请吗？")]),t._v(" "),i("span",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{on:{click:function(e){t.dialog2=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.sureDisagree}},[t._v("确 定")])],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"buttons-tab fixed-tab buttons-fixed"},[i("a",{staticClass:"tab-link button active",attrs:{href:"#tab1"}},[t._v("请假记录")]),t._v(" "),i("a",{staticClass:"tab-link button",attrs:{href:"#tab2"}},[t._v("请假申请")]),t._v(" "),i("a",{staticClass:"tab-link button",attrs:{id:"tab-check-leaves",href:"#tab3"}},[t._v("请假审核")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("请假原因")]),t._v(" "),i("div",{staticClass:"item-input"},[i("textarea",{attrs:{id:"leave-reason",placeholder:"填写请假原因"}})])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("请假小时")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",placeholder:"填写请假小时",id:"hours"}})])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("div",{staticClass:"item-content item-link"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("我的上级")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",readonly:"true",value:"",id:"my_leader"}})])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-success",attrs:{href:"javascript:;",id:"btn-submit"}},[t._v("提交")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"content-block"},[i("div",{staticClass:"buttons-row"},[i("a",{staticClass:"tab-link active button",attrs:{href:"#tab1",id:"tab-menu1"}},[t._v("折线图")]),t._v(" "),i("a",{staticClass:"tab-link button",attrs:{href:"#tab2",id:"tab-menu2"}},[t._v("饼状图")])])]),t._v(" "),i("div",{staticClass:"chart-content",attrs:{id:"main"}}),t._v(" "),i("div",{staticClass:"content-block"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-danger",attrs:{id:"btn-pre-month"}},[t._v("上个月")])]),t._v(" "),i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-success",attrs:{id:"btn-next-month"}},[t._v("下个月")])])])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content",attrs:{id:"content"}},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-header",attrs:{id:"card-time"}}),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"card-content-inner",attrs:{id:"card-image"}})]),t._v(" "),i("div",{staticClass:"card-footer",attrs:{id:"card-manager"}})]),t._v(" "),i("div",{staticClass:"card",attrs:{id:"take-picture"}},[i("div",{staticClass:"card-content"},[i("div",{staticClass:"list-block"},[i("ul",[i("li",{staticClass:"item-content item-link"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title",staticStyle:{"font-size":"0.85em",color:"red"}},[t._v("故障拍照")])])])])])])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"content-block-title"},[t._v("整体加班数据统计列表")]),t._v(" "),i("div",{staticClass:"list-block",attrs:{id:"list-content"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"statistics"}},[i("div",{staticClass:"page-group",attrs:{id:"groups"}},[i("div",{staticClass:"page",attrs:{id:"router"}},[i("div",{staticClass:"list-block",attrs:{id:"list-boss"}},[i("ul",[i("li",{staticClass:"item-content item-link",attrs:{id:"boss-menu-attendance"}},[i("div",{staticClass:"item-media"},[i("i",{staticClass:"icon icon-f7"})]),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("整体考勤数据统计")])])]),t._v(" "),i("li",{staticClass:"item-content item-link",attrs:{id:"boss-menu-overtime"}},[i("div",{staticClass:"item-media"},[i("i",{staticClass:"icon icon-f7"})]),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("整体加班数据统计")])])]),t._v(" "),i("li",{staticClass:"item-content item-link",attrs:{id:"boss-menu-leave"}},[i("div",{staticClass:"item-media"},[i("i",{staticClass:"icon icon-f7"})]),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("整体请假数据统计")])])]),t._v(" "),i("li",{staticClass:"item-content item-link",attrs:{id:"boss-menu-salary"}},[i("div",{staticClass:"item-media"},[i("i",{staticClass:"icon icon-f7"})]),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("整体工资发放统计")])])]),t._v(" "),i("li",{staticClass:"item-content item-link",attrs:{id:"boss-menu-overtime-top10"}},[i("div",{staticClass:"item-media"},[i("i",{staticClass:"icon icon-f7"})]),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("加班前十名统计")])])]),t._v(" "),i("li",{staticClass:"item-content item-link",attrs:{id:"boss-menu-late-top10"}},[i("div",{staticClass:"item-media"},[i("i",{staticClass:"icon icon-f7"})]),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("迟到前十名统计")])])]),t._v(" "),i("li",{staticClass:"item-content item-link",attrs:{id:"boss-menu-machine"}},[i("div",{staticClass:"item-media"},[i("i",{staticClass:"icon icon-f7"})]),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("机床整体月数据统计")])])]),t._v(" "),i("li",{staticClass:"item-content item-link",attrs:{id:"boss-menu-machine-day"}},[i("div",{staticClass:"item-media"},[i("i",{staticClass:"icon icon-f7"})]),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("机床整体当天数据统计")])])]),t._v(" "),i("li",{staticClass:"item-content item-link",attrs:{id:"boss-menu-workshop-statistic"}},[i("div",{staticClass:"item-media"},[i("i",{staticClass:"icon icon-f7"})]),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("车间数据统计")])])])])]),t._v(" "),i("div",{staticClass:"list-block",attrs:{id:"list-employee"}},[i("ul",[i("li",{staticClass:"item-content item-link",attrs:{id:"employee-menu-attendance"}},[i("div",{staticClass:"item-media"},[i("i",{staticClass:"icon icon-f7"})]),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("个人考勤数据统计")])])]),t._v(" "),i("li",{staticClass:"item-content item-link",attrs:{id:"employee-menu-overtime"}},[i("div",{staticClass:"item-media"},[i("i",{staticClass:"icon icon-f7"})]),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("个人加班数据统计")])])]),t._v(" "),i("li",{staticClass:"item-content item-link",attrs:{id:"employee-menu-leave"}},[i("div",{staticClass:"item-media"},[i("i",{staticClass:"icon icon-f7"})]),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("个人请假数据统计")])])])])])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"content-block-title"},[t._v("迟到前十名列表")]),t._v(" "),i("div",{staticClass:"list-block",attrs:{id:"list-content"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.slideClass},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"content-block"},[i("div",{staticClass:"buttons-row"},[i("a",{staticClass:"tab-link active button",attrs:{href:"#tab1",id:"tab-menu1"}},[t._v("饼状图")]),t._v(" "),i("a",{staticClass:"tab-link button",attrs:{href:"#tab2",id:"tab-menu2"}},[t._v("柱状图")])])]),t._v(" "),i("div",{staticClass:"chart-content",attrs:{id:"main"}}),t._v(" "),i("div",{attrs:{id:"last-time"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"page page-current",attrs:{id:"router"}},[t._m(0),t._v(" "),i("div",{staticClass:"content"},[t._m(1),t._v(" "),i("div",{staticClass:"content-block"},[i("div",{staticClass:"tabs"},[i("div",{staticClass:"tab active tab-page",attrs:{id:"tab1"}},[i("div",{staticClass:"content-block",attrs:{id:"tab1-content"}},t._l(t.list,function(e,a){return i("div",{staticClass:"card card-maintenance-item"},[i("div",{staticClass:"card-header"},[i("span",[t._v(t._s(e.name))]),t._v(" "),t._m(2,!0)]),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"card-content-inner"},[i("div",[t._v(t._s(e.list))]),t._v(" "),i("hr",{staticStyle:{"background-color":"#ececec",border:"none",height:"1px"}}),t._v(" 备注：\n                                        "),i("br"),t._v(t._s(e.remark)+"\n                                    ")])]),t._v(" "),i("div",{staticClass:"card-footer"},[i("span",[t._v("保养周期："+t._s(e.cycle))]),t._v(" "),t._m(3,!0)])])}))]),t._v(" "),t._m(4)])])])]),t._v(" "),i("el-dialog",{attrs:{title:"提示",id:"bar-nav"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[i("div",{staticClass:"popup3 popup-about"},[i("header",{staticClass:"bar bar-nav"},[i("a",{staticClass:"button button-link button-nav pull-left popup-back",on:{click:function(e){t.dialogVisible=!1}}},[i("span",{staticClass:"icon icon-left"}),t._v(" 返回\n                    ")]),t._v(" "),i("h1",{staticClass:"title"},[t._v("选择机床")])]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"content-block-title"},[t._v("车间列表")]),t._v(" "),i("div",{staticClass:"list-block"},[i("ul",{attrs:{id:"workshop-list"}},t._l(t.list2,function(e,a){return i("li",{staticClass:"item-content item-link workshop-item",attrs:{id:e.id},on:{click:function(e){t.workshopItem(a)}}},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"item-after"},[t._v("\n                                        "+t._s(e.machine_count+"台机床")+"\n                                    ")])]),t._v(" "),i("div",{staticClass:"row",attrs:{id:"machine-list-"+e.id,hidden:"hidden"}})])}))])])])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"bar bar-nav"},[i("a",{staticClass:"icon icon-edit pull-left",staticStyle:{display:"none"},attrs:{id:"edit-left-btn",href:"single_machine_maintenance_detail.html?machineId=1&machineName=CNC-25"}}),t._v(" "),i("a",{staticClass:"icon icon-edit pull-right",attrs:{id:"edit-right-btn",href:"http://localhost:8080/#machine_maintenance_add"}}),t._v(" "),i("h1",{staticClass:"title"},[t._v("工厂宝-机床保养")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"buttons-tab fixed-tab buttons-fixed",attrs:{id:"tab-header"}},[i("a",{staticClass:"tab-link active button",attrs:{href:"#tab1"}},[t._v("保养项目列表")]),t._v(" "),i("a",{staticClass:"tab-link button",attrs:{href:"#tab2"}},[t._v("保养历史记录")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("img",{staticClass:"light-img",staticStyle:{display:"none"},attrs:{src:"static/images/ic_light_red.png"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("button",{staticClass:"button button-success button-fill",staticStyle:{display:"none"}},[t._v("确认已保养")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tab tab-page",attrs:{id:"tab2"}},[i("div",{staticClass:"content-block"},[i("div",{staticClass:"list-block"},[i("ul",[i("li",{staticClass:"item-content item-link",attrs:{id:"select-machine"}},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("选择机床")]),t._v(" "),i("div",{staticClass:"item-after",attrs:{id:"selected-machine-name"}})])])])]),t._v(" "),i("div",{attrs:{id:"records-content"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"chart-content",attrs:{id:"main"}}),t._v(" "),i("div",{staticClass:"content-block"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-danger",attrs:{id:"btn-pre-month"}},[t._v("上个月")])]),t._v(" "),i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-success",attrs:{id:"btn-next-month"}},[t._v("下个月")])])])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content",attrs:{id:"content"}},[i("div",{staticClass:"content-block-title"},[t._v(" 车间列表 ")]),t._v(" "),i("div",{staticClass:"list-block"},[i("ul",{attrs:{id:"workshop-list"}},t._l(t.list,function(e,a){return i("li",{staticClass:"item-content item-link workshop-item",attrs:{id:e.id},on:{click:function(e){t.workshopItem(a)}}},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"item-after machine-count-hint"},[t._v("\n                            "+t._s(e.machine_count+"台机床")+"\n                            "),i("img",{staticClass:"icon",attrs:{id:e.id,src:"static/images/ic_light_green.png"}})])])])})),t._v(" "),t._l(t.list,function(t,e){return i("div",{staticClass:"row",attrs:{id:"machine-list-"+t.id,hidden:"hidden"}})})],2),t._v(" "),i("div",{staticClass:"content-block-title"},[t._v("保养报警")]),t._v(" "),i("div",{staticClass:"list-block"},[i("ul",{attrs:{id:"maintenance-alert-list"}},t._l(t.list2,function(e,a){return i("li",{staticClass:"item-content item-link alert-workshop-item",attrs:{id:e.id},on:{click:function(e){t.alertWorkshopItem(a)}}},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"item-after"},[t._v("\n                           "+t._s(e.machine_count+"台机床")+"\n                           "),i("img",{staticClass:"icon",attrs:{id:"alert-machine-img-"+e.id,src:"static/images/ic_light_green.png"}})])])])})),t._v(" "),t._l(t.list2,function(t,e){return i("div",{staticClass:"row",attrs:{id:"alert-machine-list-"+t.id,hidden:"hidden"}})})],2)]),t._v(" "),i("div",{staticClass:"popup-group popup-group-workshop ",staticStyle:{display:"none",position:"fixed",left:"0",height:"100%",width:"100%",background:"#fff","z-index":"100000"},attrs:{id:"dialog"}},[i("header",{staticClass:"bar bar-nav"},[i("button",{staticClass:"button button-link button-nav pull-left close-popup",attrs:{id:"close-pop-btn"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("\n            关闭\n          ")]),t._v(" "),i("h1",{staticClass:"title",attrs:{id:"popup-title"}})]),t._v(" "),i("div",{attrs:{id:"group-content"}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),i("div",{staticClass:"popup popup-about"},[t._m(1),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"content-padded"},[t._v("\n                绑定保养项目前，需要填写机床的保养周期、保养类型和上次保养时间，请填写下面的表格然后提交。\n            ")]),t._v(" "),i("div",{staticClass:"content-block-title",attrs:{id:"pop-list-title"}}),t._v(" "),i("div",{staticClass:"list-block"},[i("ul",[t._m(2),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("保养类型")]),t._v(" "),i("div",{staticClass:"item-input"},[i("el-select",{attrs:{id:"pop-type",placeholder:"选择保养类型"},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.options,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)])])]),t._v(" "),t._m(3)])]),t._v(" "),t._m(4)])]),t._v(" "),i("el-dialog",{attrs:{title:"提示"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[i("span",[t._v("确定要解除绑定该保养项吗？")]),t._v(" "),i("span",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handle}},[t._v("确 定")])],1)]),t._v(" "),i("el-dialog",{staticClass:"popup-group",attrs:{title:"提示",size:"large"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("header",{staticClass:"bar bar-nav"},[i("button",{staticClass:"button button-link button-nav pull-left close-popup",attrs:{id:"close-pop-btn"},on:{click:function(e){t.dialog=!1}}},[t._v("\n            关闭\n          ")]),t._v(" "),i("h1",{staticClass:"title",attrs:{id:"popup-title"}})]),t._v(" "),i("div",{staticClass:"block"},[i("span",{staticClass:"demonstration"},[t._v("查看图片")]),t._v(" "),i("el-carousel",{attrs:{height:"150px"}},t._l(t.value,function(t){return i("el-carousel-item",{key:t},[i("h3",[i("img",{staticClass:"showPhoto",attrs:{src:t}})])])}))],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page page-current",attrs:{id:"router"}},[i("header",{staticClass:"bar bar-nav"},[i("a",{staticClass:"button button-link button-nav pull-left back"},[i("span",{staticClass:"icon icon-left"}),t._v(" 返回\n            ")]),t._v(" "),i("h1",{staticClass:"title title-main"},[t._v("机床保养详情")])]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"buttons-tab fixed-tab buttons-fixed"},[i("a",{staticClass:"tab-link button active",attrs:{href:"#tab1",id:"tab-header1"}},[t._v("已绑定保养项")]),t._v(" "),i("a",{staticClass:"tab-link button",attrs:{href:"#tab2",id:"tab-header2"}},[t._v("未绑定保养项")]),t._v(" "),i("a",{staticClass:"tab-link button",attrs:{href:"#tab3",id:"tab-header3"}},[t._v("历史保养记录")])]),t._v(" "),i("div",{staticClass:"tabs"},[i("div",{staticClass:"tab active",attrs:{id:"tab1"}},[i("div",{staticClass:"content-block tab-page-block tab-page",attrs:{id:"tab-page-binded-list"}})]),t._v(" "),i("div",{staticClass:"tab",attrs:{id:"tab2"}},[i("div",{staticClass:"content-block tab-page-block tab-page",attrs:{id:"tab-page-unbinded-list"}})]),t._v(" "),i("div",{staticClass:"tab",attrs:{id:"tab3"}},[i("div",{staticClass:"content-block tab-page-block tab-page",attrs:{id:"tab-page-history-list"}})])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"bar bar-nav"},[i("a",{staticClass:"button button-link button-nav pull-left close-popup"},[i("span",{staticClass:"icon icon-left"}),t._v(" 返回\n            ")]),t._v(" "),i("h1",{staticClass:"title"},[t._v("绑定保养项")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("保养周期")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",id:"pop-cycle",placeholder:"输入保养周期，单位：天"}})])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("上次保养时间")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",id:"pop-last-time",placeholder:"上次保养时间"}})])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-block"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-50"},[i("a",{staticClass:"close-popup button button-big button-fill button-danger"},[t._v("取消")])]),t._v(" "),i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-success",attrs:{id:"pop-commit-btn"}},[t._v("提交")])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"page page-current",attrs:{id:"router"}},[i("header",{staticClass:"bar bar-nav"},[i("a",{staticClass:"button button-link button-nav pull-left back",on:{click:t.back}},[i("span",{staticClass:"icon icon-left"}),t._v(" 返回\n            ")]),t._v(" "),i("h1",{staticClass:"title"},[t._v("机床保养记录列表")])]),t._v(" "),t._m(0)]),t._v(" "),i("div",{staticClass:"page",attrs:{id:"router-select-machine"}},[i("header",{staticClass:"bar bar-nav"},[i("a",{staticClass:"button button-link button-nav pull-left back",on:{click:t.hidden}},[i("span",{staticClass:"icon icon-left"}),t._v(" 返回\n            ")]),t._v(" "),i("h1",{staticClass:"title"},[t._v("选择机床")])]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"content-block-title"},[t._v("车间列表")]),t._v(" "),i("div",{staticClass:"list-block"},[i("ul",{attrs:{id:"workshop-list"}},t._l(t.list,function(e,a){return i("li",{staticClass:"item-content item-link workshop-item",attrs:{id:e.id},on:{click:function(e){t.workshopItem(a)}}},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"item-after"},[t._v("\n                                "+t._s(e.machine_count+"台机床")+"\n                            ")])]),t._v(" "),i("div",{staticClass:"row",attrs:{id:"machine-list-"+e.id,hidden:"hidden"}})])}))])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[i("div",{staticClass:"list-block"},[i("ul",[i("li",{staticClass:"item-content item-link",attrs:{id:"select-machine"}},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("选择机床")]),t._v(" "),i("div",{staticClass:"item-after",attrs:{id:"selected-machine-name"}})])])])]),t._v(" "),i("div",{attrs:{id:"records-content"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"chart-content",attrs:{id:"main"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"list-block"},[i("mt-datetime-picker",{ref:"picker1",attrs:{type:"datetime"},on:{confirm:t.handleConfirm1},model:{value:t.pickerValue1,callback:function(e){t.pickerValue1=e},expression:"pickerValue1"}}),t._v(" "),i("mt-datetime-picker",{ref:"picker2",attrs:{type:"datetime"},on:{confirm:t.handleConfirm2},model:{value:t.pickerValue2,callback:function(e){t.pickerValue2=e},expression:"pickerValue2"}}),t._v(" "),i("mt-datetime-picker",{ref:"picker3",attrs:{type:"time"},on:{confirm:t.handleConfirm3},model:{value:t.pickerValue3,callback:function(e){t.pickerValue3=e},expression:"pickerValue3"}}),t._v(" "),i("ul",[t._m(0),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[t._m(1),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("开始时间")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{staticClass:"time-picker",attrs:{id:"input-start-time",type:"text",placeholder:"选择开始时间",readonly:""},domProps:{value:t.startTime1},on:{click:t.openPicker1}})])])])]),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[t._m(2),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("结束时间")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{staticClass:"time-picker",attrs:{id:"input-end-time",type:"text",placeholder:"选择结束时间",readonly:""},domProps:{value:t.endTime1},on:{click:t.openPicker2}})])])])]),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[t._m(3),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("加工时间")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{id:"input-per-time",type:"text",placeholder:"加工单个工件所用时间",readonly:""},domProps:{value:t.perTime1},on:{click:t.openPicker3}})])])])])])],1),t._v(" "),t._m(4),t._v(" "),t._m(5)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-media"},[i("i",{staticClass:"icon icon-app"})]),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("工件名称")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{id:"input-piece-name",type:"text",placeholder:"工件名称，可不填"}})])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-media"},[i("i",{staticClass:"icon icon-clock"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-media"},[i("i",{staticClass:"icon icon-clock"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-media"},[i("i",{staticClass:"icon icon-clock"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-block"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-danger",attrs:{href:"javascript:;",id:"btn-clear"}},[t._v("重置")])]),t._v(" "),i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-success",attrs:{href:"javascript:;",id:"btn-submit"}},[t._v("计算")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"result"},[i("div",{staticClass:"content-block-title"},[t._v("计算结果")]),t._v(" "),i("div",{staticClass:"list-block"},[i("ul",[i("li",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("总加工时间")]),t._v(" "),i("div",{staticClass:"item-after",attrs:{id:"total-time"}})])]),t._v(" "),i("li",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("加工工件个数")]),t._v(" "),i("div",{staticClass:"item-after",attrs:{id:"operate-count"}})])])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[i("div",{staticClass:"content-block"},[i("div",{staticClass:"buttons-row"},[i("a",{staticClass:"tab-link active button",attrs:{href:"#tab1",id:"tab-menu1"}},[t._v("饼状图")]),t._v(" "),i("a",{staticClass:"tab-link button",attrs:{href:"#tab2",id:"tab-menu2"}},[t._v("柱状图")])])]),t._v(" "),i("div",{staticClass:"chart-content",attrs:{id:"main"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"content-block-title"},[t._v("个人请假数据统计列表")]),t._v(" "),i("div",{staticClass:"list-block",attrs:{id:"list-content"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"page page-current",attrs:{id:"router"}},[i("header",{staticClass:"bar bar-nav"},[i("h1",{staticClass:"title"},[t._v("工厂宝-机床保养")])]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"list-block"},[i("ul",[i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("手机号")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{id:"input-phone",type:"text",placeholder:"请输入手机号",value:""}})])])])]),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("密码")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{id:"input-pwd",type:"password",placeholder:"请输入密码",value:""}})])])])])])]),t._v(" "),i("div",{staticClass:"content-block"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-100"},[i("a",{staticClass:"button button-big button-fill button-success",attrs:{id:"login-btn"}},[t._v("登录")])])])])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"content-block"},[i("div",{staticClass:"buttons-row"},[i("a",{staticClass:"tab-link active button",attrs:{href:"#tab1",id:"tab-menu1"}},[t._v("饼状图")]),t._v(" "),i("a",{staticClass:"tab-link button",attrs:{href:"#tab2",id:"tab-menu2"}},[t._v("柱状图")])])]),t._v(" "),i("div",{staticClass:"chart-content",attrs:{id:"main"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"swiper-container"},[t._t("parallax-bg"),t._v(" "),i("div",{class:t.defaultSwiperClasses.wrapperClass},[t._t("default")],2),t._v(" "),t._t("pagination"),t._v(" "),t._t("button-prev"),t._v(" "),t._t("button-next"),t._v(" "),t._t("scrollbar")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"allPage",attrs:{id:"app"}},[t._m(0),t._v(" "),i("transition",{attrs:{name:"component-fade",mode:"out-in"}},[i("router-view",{staticStyle:{"margin-top":"0"}})],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"backTitle"}},[i("img",{attrs:{id:"image",src:"static/images/titleBg.png"}}),t._v(" "),i("div",{attrs:{id:"titleContent"}},[i("a",{attrs:{href:"JavaScript:history.back(-1)",id:"historyBack"}}),i("span",{attrs:{id:"titleName"}},[t._v("办公")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"content-block"},[i("div",{staticClass:"buttons-row"},[i("a",{staticClass:"tab-link active button",attrs:{href:"#tab1",id:"tab-menu1"}},[t._v("折线图")]),t._v(" "),i("a",{staticClass:"tab-link button",attrs:{href:"#tab2",id:"tab-menu2"}},[t._v("饼状图")])])]),t._v(" "),i("div",{staticClass:"chart-content",attrs:{id:"main"}}),t._v(" "),i("div",{staticClass:"content-block"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-danger",attrs:{id:"btn-pre-month"}},[t._v("上个月")])]),t._v(" "),i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-success",attrs:{id:"btn-next-month"}},[t._v("下个月")])])])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"content-block-title"},[t._v("一号车间")]),t._v(" "),i("div",{staticClass:"list-block"},[i("ul",[i("li",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-33"},[i("div",{staticClass:"card running"},[i("div",{staticClass:"card-header"},[t._v("机器1-1")]),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"card-content-inner"},[t._v("机床信息")])]),t._v(" "),i("div",{staticClass:"card-footer"},[t._v("运行正常")])])]),t._v(" "),i("div",{staticClass:"col-33"},[i("div",{staticClass:"card running"},[i("div",{staticClass:"card-header"},[t._v("机床1-2")]),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"card-content-inner"},[t._v("机床信息")])]),t._v(" "),i("div",{staticClass:"card-footer"},[t._v("运行正常")])])]),t._v(" "),i("div",{staticClass:"col-33"},[i("div",{staticClass:"card warning"},[i("div",{staticClass:"card-header"},[t._v("机器1-3")]),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"card-content-inner"},[t._v("机床信息")])]),t._v(" "),i("div",{staticClass:"card-footer"},[t._v("出现故障")])])])])]),t._v(" "),i("li",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-33"},[i("div",{staticClass:"card running"},[i("div",{staticClass:"card-header"},[t._v("机器1-4")]),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"card-content-inner"},[t._v("机床信息")])]),t._v(" "),i("div",{staticClass:"card-footer"},[t._v("运行正常")])])]),t._v(" "),i("div",{staticClass:"col-33"},[i("div",{staticClass:"card running"},[i("div",{staticClass:"card-header"},[t._v("机器1-5")]),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"card-content-inner"},[t._v("机床信息")])]),t._v(" "),i("div",{staticClass:"card-footer"},[t._v("运行正常")])])]),t._v(" "),i("div",{staticClass:"col-33"},[i("div",{staticClass:"card running"},[i("div",{staticClass:"card-header"},[t._v("机器1-6")]),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"card-content-inner"},[t._v("机床信息")])]),t._v(" "),i("div",{staticClass:"card-footer"},[t._v("运行正常")])])])])])])]),t._v(" "),i("div",{staticClass:"content-block-title"},[t._v("二号车间")]),t._v(" "),i("div",{staticClass:"list-block"},[i("ul",[i("li",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-33"},[i("div",{staticClass:"card running"},[i("div",{staticClass:"card-header"},[t._v("机器2-1")]),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"card-content-inner"},[t._v("机床信息")])]),t._v(" "),i("div",{staticClass:"card-footer"},[t._v("运行正常")])])]),t._v(" "),i("div",{staticClass:"col-33"},[i("div",{staticClass:"card await"},[i("div",{staticClass:"card-header"},[t._v("机器2-2")]),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"card-content-inner"},[t._v("机床信息")])]),t._v(" "),i("div",{staticClass:"card-footer"},[t._v("待机中")])])]),t._v(" "),i("div",{staticClass:"col-33"},[i("div",{staticClass:"card running"},[i("div",{staticClass:"card-header"},[t._v("机器2-3")]),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"card-content-inner"},[t._v("机床信息")])]),t._v(" "),i("div",{staticClass:"card-footer"},[t._v("运行正常")])])])])]),t._v(" "),i("li",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-33"},[i("div",{staticClass:"card stop"},[i("div",{staticClass:"card-header"},[t._v("机器2-4")]),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"card-content-inner"},[t._v("机床信息")])]),t._v(" "),i("div",{staticClass:"card-footer"},[t._v("已停机")])])]),t._v(" "),i("div",{staticClass:"col-33"},[i("div",{staticClass:"card running"},[i("div",{staticClass:"card-header"},[t._v("机器2-5")]),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"card-content-inner"},[t._v("机床信息")])]),t._v(" "),i("div",{staticClass:"card-footer"},[t._v("运行正常")])])])])])])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fontSize",staticStyle:{"margin-top":"-60px"},attrs:{id:"app"}},[i("div",{staticClass:"container-fluid",staticStyle:{padding:"0",margin:"0"}},[i("div",{staticClass:"row row-header"},[i("div",{staticClass:"col-md-1 item-width"},[t._v("车间名称")]),t._v(" "),i("div",{staticClass:"col-md-1 item-width"},[t._v("机器编号")]),t._v(" "),i("div",{staticClass:"col-md-1 item-width"},[t._v("当前任务名称")]),t._v(" "),i("div",{staticClass:"col-md-1 item-width"},[t._v("加工工件名称")]),t._v(" "),i("div",{staticClass:"col-md-1 item-width"},[t._v("持续时间")]),t._v(" "),i("div",{staticClass:"col-md-1 item-width"},[t._v("操作人")]),t._v(" "),i("div",{staticClass:"col-md-1 item-width"},[t._v("历史记录")])]),t._v(" "),i("div",{attrs:{id:"data-div-work"}},[i("div",{attrs:{id:"inner-div-work"}},[i("table",{staticClass:"table table-hover",attrs:{id:"table-content-work"}}),t._v(" "),i("div",{attrs:{id:"footer-div-work"}})])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"page page-current",attrs:{id:"router-add-maintenance"}},[i("header",{staticClass:"bar bar-nav addProject"},[i("a",{staticClass:"button button-link button-nav pull-left back",on:{click:t.back}},[i("span",{staticClass:"icon icon-left"}),t._v(" 返回\n            ")]),t._v(" "),i("h1",{staticClass:"title"},[t._v("添加保养项目")])]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"content-block-title"},[t._v("添加保养项目")]),t._v(" "),i("div",{staticClass:"list-block"},[i("ul",[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),i("li",{attrs:{id:"last-maintenace-time"}},[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("上次保养时间")]),t._v(" "),i("div",{staticClass:"item-input"},[i("div",{staticClass:"block"},[i("el-date-picker",{attrs:{type:"date",placeholder:"选择日期范围"},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1)])])])]),t._v(" "),t._m(3),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("保养类型")]),t._v(" "),i("div",{staticClass:"item-input"},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)])])]),t._v(" "),t._m(4)])]),t._v(" "),i("div",{staticClass:"content-padded"},[t._v("注意：带红色*的为必填项目，未带红色*的可填可不填，若选择绑定机床，则需要填写该机床上次保养时间。")]),t._v(" "),i("div",{staticClass:"content-block"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-100"},[i("a",{staticClass:"button button-big button-fill button-success",on:{click:t.submitMaintenance}},[t._v("提交")])])])])])]),t._v(" "),i("div",{staticClass:"page",staticStyle:{display:"none"},attrs:{id:"router-add-maintenance-list"}},[i("header",{staticClass:"bar bar-nav"},[i("a",{staticClass:"button button-link button-nav pull-left back",on:{click:t.back}},[i("span",{staticClass:"icon icon-left"}),t._v(" 返回\n            ")]),t._v(" "),i("a",{staticClass:"button button-link button-nav pull-right",on:{click:t.newMaintenanceListItem}},[i("span",{staticClass:"icon icon-edit"}),t._v(" 新建\n            ")]),t._v(" "),i("h1",{staticClass:"title"},[t._v("添加保养清单")])]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"content-block-title"},[t._v("保养清单")]),t._v(" "),t._m(5),t._v(" "),i("div",{staticClass:"content-block"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-100"},[i("a",{staticClass:"button button-big button-fill button-success",on:{click:t.submitList}},[t._v("提交")])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[i("span",{staticClass:"required"},[t._v("*")]),t._v("保养项目名称")]),t._v(" "),i("div",{staticClass:"item-input"},[i("textarea",{attrs:{id:"maintenance-name",placeholder:"请填写保养项目名称"}})])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{attrs:{id:"add-maintenance-list"}},[i("div",{staticClass:"item-content item-link"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[i("span",{staticClass:"required"},[t._v("*")]),t._v("添加保养清单")]),t._v(" "),i("div",{staticClass:"item-after",attrs:{id:"maintenance-list-hint"}})])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{attrs:{id:"select-machine"}},[i("div",{staticClass:"item-content item-link"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("绑定机床")]),t._v(" "),i("div",{staticClass:"item-after",attrs:{id:"selected-machine-name"}})])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("保养周期")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",placeholder:"请填写保养周期，单位为天",id:"input-maintenance-cycle"}})])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("备注")]),t._v(" "),i("div",{staticClass:"item-input"},[i("textarea",{attrs:{id:"remark",placeholder:"请填写备注信息"}})])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-block"},[i("ul",{attrs:{id:"maintenance-list"}},[i("li",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"label"},[t._v("1、")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",placeholder:"输入保养内容"}})]),t._v(" "),i("div",{staticClass:"item-after"},[i("div",{staticClass:"item-media remove-item-btn"},[i("i",{staticClass:"icon icon-remove"})])])])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"content-block-title"},[t._v("加班前十名列表")]),t._v(" "),i("div",{staticClass:"list-block",attrs:{id:"list-content"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"content-block-title"},[t._v("车间列表")]),t._v(" "),i("div",{staticClass:"list-block",attrs:{id:"list-content"}},[i("ul",{attrs:{id:"workshop-list"}},t._l(t.list,function(e,a){return i("li",{staticClass:"item-content item-link workshop-item",attrs:{id:e.id},on:{click:function(e){t.workshopItem(a)}}},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"item-after"},[t._v("\n                            "+t._s(e.machine_count+"台机床")+"\n                        ")])]),t._v(" "),i("div",{staticClass:"row",attrs:{id:"machine-list-"+e.id,hidden:"hidden"}})])}))])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"fixed-tab buttons-fixed",attrs:{id:"calendar-container"}},[i("div",[i("div",{staticClass:"divider"}),t._v(" "),i("div",{attrs:{id:"calendar"}}),t._v(" "),i("div",{staticClass:"divider"})])]),t._v(" "),i("div",{attrs:{id:"list"}}),t._v(" "),i("div",{attrs:{id:"list"}},[i("div",{staticClass:"list-block"},[i("ul",[i("li",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("余勃")]),t._v(" "),i("div",{staticClass:"item-after"},[t._v("2016-3-3 12:50")]),t._v(" "),i("div",{staticClass:"item-after"},[t._v("打卡正常")])])])])])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content",attrs:{id:"timeLineContent"}},[i("p",{staticClass:"center-text",attrs:{id:"title"}}),t._v(" "),i("p",{staticClass:"center-text",attrs:{id:"subtitle"}}),t._v(" "),i("canvas",{attrs:{id:"canvas"}}),t._v(" "),i("div",{attrs:{id:"slider"}}),t._v(" "),i("mt-datetime-picker",{ref:"picker1",attrs:{type:"time"},on:{confirm:t.handleConfirm1},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}}),t._v(" "),i("mt-datetime-picker",{ref:"picker2",attrs:{type:"time"},on:{confirm:t.handleConfirm2},model:{value:t.value3,callback:function(e){t.value3=e},expression:"value3"}}),t._v(" "),i("mt-datetime-picker",{ref:"picker3",attrs:{type:"time"},on:{confirm:t.handleConfirm3},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}}),t._v(" "),i("mt-datetime-picker",{ref:"picker4",attrs:{type:"time"},on:{confirm:t.handleConfirm4},model:{value:t.value5,callback:function(e){t.value5=e},expression:"value5"}}),t._v(" "),i("div",{staticClass:"look",staticStyle:{"margin-top":"1rem"}},[t._v(" \n\t\t\t查看 "),i("input",{staticClass:"lookTime start",attrs:{placeholder:"选择开始时间",readonly:""},domProps:{value:t.value2},on:{click:t.openPicker1}}),t._v("-"),i("input",{staticClass:"lookTime end",attrs:{placeholder:"选择结束时间",readonly:""},domProps:{value:t.value3},on:{click:t.openPicker2}}),t._v(" "),t._m(0)]),t._v(" "),i("div",{staticClass:"look2",staticStyle:{"margin-top":"1rem",display:"none"}},[t._v(" \n\t\t\t查看 "),i("input",{staticClass:"lookTime start2",attrs:{placeholder:"选择开始时间",readonly:""},domProps:{value:t.value4},on:{click:t.openPicker3}}),t._v("-"),i("input",{staticClass:"lookTime end2",attrs:{placeholder:"选择结束时间",readonly:""},domProps:{value:t.value5},on:{click:t.openPicker4}}),t._v(" "),t._m(1)]),t._v(" "),t._m(2)],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"pBtn"},[i("a",{staticClass:"button button-round",attrs:{href:"javascript:;",id:"lookBtn"}},[t._v("查看")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"pBtn"},[i("a",{staticClass:"button button-round",attrs:{href:"javascript:;",id:"lookBtn2"}},[t._v("查看")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-block"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-danger",attrs:{id:"btn-pre-day"}},[t._v("前一天")])]),t._v(" "),i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-success",attrs:{id:"btn-next-day"}},[t._v("后一天")])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"page page-current",attrs:{id:"router-maintenance-list"}},[t._m(0),t._v(" "),i("div",{staticClass:"content infinite-scroll",attrs:{id:"infinite-scroll-bottom","data-distance":"50"}},[i("div",{staticClass:"cards",attrs:{id:"card-content"}},t._l(t.list,function(e,a){return i("div",{staticClass:"card",attrs:{id:"card-"+e.id}},[i("div",{staticClass:"card-header"},[i("span",[t._v(t._s(e.name))]),t._v(" "),t._m(1,!0)]),t._v(" "),i("div",{staticClass:"card-content"},[i("div",{staticClass:"card-content-inner"},[i("div",[t._v(t._s(e.list))]),t._v(" "),i("hr",{staticStyle:{"background-color":"#ececec",border:"none",height:"1px"}}),t._v(" 备注：\n                            "),i("br"),t._v(t._s(e.remark)+"\n                        ")])]),t._v(" "),i("div",{staticClass:"card-footer"},[i("span",[t._v("保养周期："+t._s(e.cycle))]),t._v(" "),i("span",{attrs:{id:e.id}},[i("button",{staticClass:"button button-success button-fill menu-btn menu-btn-edit",on:{click:function(e){t.editBtnClick(a)}}},[t._v("编辑")]),t._v(" "),i("button",{staticClass:"button button-danger button-fill menu-btn menu-btn-delete",on:{click:function(e){t.deleteBtnClick(a)}}},[t._v("删除")])])])])})),t._v(" "),t._m(2)])]),t._v(" "),i("el-dialog",{attrs:{title:"提示",id:"bar-nav"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[i("div",{staticClass:"popup",attrs:{id:"popup-edit"}},[i("header",{staticClass:"bar bar-nav"},[i("a",{staticClass:"button button-link button-nav pull-left",attrs:{id:"popup-back-edit"},on:{click:function(e){t.dialogVisible=!1}}},[i("span",{staticClass:"icon icon-left"}),t._v(" 返回\n                ")]),t._v(" "),i("h1",{staticClass:"title"},[t._v("编辑保养项目")])]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"list-block"},[i("ul",[i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("保养项目名称")]),t._v(" "),i("div",{staticClass:"item-input"},[i("textarea",{attrs:{id:"maintenance-name",placeholder:"请填写保养项目名称"}})])])])]),t._v(" "),i("li",{attrs:{id:"add-maintenance-list"},on:{click:function(e){t.dialog=!0}}},[i("div",{staticClass:"item-content item-link"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("添加保养清单")]),t._v(" "),i("div",{staticClass:"item-after",attrs:{id:"maintenance-list-hint"}})])])]),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("保养周期")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",placeholder:"请填写保养周期，单位为天",id:"input-maintenance-cycle"}})])])])]),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("备注")]),t._v(" "),i("div",{staticClass:"item-input"},[i("textarea",{attrs:{id:"remark",placeholder:"请填写备注信息"}})])])])])])]),t._v(" "),i("div",{staticClass:"content-padded",staticStyle:{"font-size":"15px",color:"red"}},[t._v("注意：保养周期的单位是天。")]),t._v(" "),i("div",{staticClass:"content-block"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-100"},[i("a",{staticClass:"button button-big button-fill button-success",on:{click:t.submitMaintenance}},[t._v("提交")])])])])])])]),t._v(" "),i("el-dialog",{attrs:{title:"提示",id:"bar-nav"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("div",{staticClass:"popup",attrs:{id:"popup-add-manifest"}},[i("header",{staticClass:"bar bar-nav"},[i("a",{staticClass:"button button-link button-nav pull-left",attrs:{id:"popup-back-manifest"},on:{click:function(e){t.dialog=!1}}},[i("span",{staticClass:"icon icon-left"}),t._v(" 返回\n            ")]),t._v(" "),i("a",{staticClass:"button button-link button-nav pull-right",on:{click:t.newMaintenanceListItem}},[i("span",{staticClass:"icon icon-edit"}),t._v(" 新建\n            ")]),t._v(" "),i("h1",{staticClass:"title"},[t._v("添加保养清单")])]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"content-block-title"},[t._v("保养清单")]),t._v(" "),i("div",{staticClass:"list-block"},[i("ul",{attrs:{id:"maintenance-list"}},[i("li",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"label"},[t._v("1、")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",placeholder:"输入保养内容"}})]),t._v(" "),i("div",{staticClass:"item-after"},[i("div",{staticClass:"item-media remove-item-btn"},[i("i",{staticClass:"icon icon-remove"})])])])])])]),t._v(" "),i("div",{staticClass:"content-block"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-100"},[i("a",{staticClass:"button button-big button-fill button-success",on:{click:t.submitList}},[t._v("提交")])])])])])])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"bar bar-nav"},[i("a",{staticClass:"button button-link button-nav pull-left back"},[i("span",{staticClass:"icon icon-left"}),t._v(" 返回\n            ")]),t._v(" "),i("a",{staticClass:"button button-link button-nav pull-right",attrs:{id:"header-add-btn"}},[i("span",{staticClass:"icon icon-edit"}),t._v(" 添加\n            ")]),t._v(" "),i("h1",{staticClass:"title"},[t._v("机床保养项目列表")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("img",{staticClass:"light-img",staticStyle:{display:"none"},attrs:{src:"static/images/ic_light_red.png"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"infinite-scroll-preloader",attrs:{hidden:"hidden"}},[i("div",{staticClass:"preloader"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"content-block-title"},[t._v("个人加班数据统计列表")]),t._v(" "),i("div",{staticClass:"list-block",attrs:{id:"list-content"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),i("div",{staticClass:"popup popup-about",attrs:{id:"popupType"}},[i("div",{staticClass:"content-padded"},[t._v("\n            绑定保养项目前，需要填写机床的保养周期、保养类型和上次保养时间，请填写下面的表格然后提交。\n        ")]),t._v(" "),i("div",{staticClass:"content-block-title",attrs:{id:"pop-list-title"}}),t._v(" "),i("div",{staticClass:"list-block"},[i("ul",[t._m(1),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("保养类型")]),t._v(" "),i("div",{staticClass:"item-input"},[i("el-select",{attrs:{placeholder:"请选择保养类型"},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}},t._l(t.options,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)])])]),t._v(" "),t._m(2)])]),t._v(" "),t._m(3)]),t._v(" "),i("el-dialog",{staticClass:"popup-group",attrs:{id:"changeSize",size:"large"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[i("div",{staticClass:"block"},[i("span",{staticClass:"demonstration"},[t._v("查看图片")]),t._v(" "),i("el-carousel",{attrs:{height:"150px"}},t._l(t.value3,function(t){return i("el-carousel-item",{key:t},[i("h3",[i("img",{staticClass:"showPhoto",attrs:{src:t}})])])}))],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page page-current",attrs:{id:"router"}},[i("div",{staticClass:"content",staticStyle:{top:"0!important"}},[i("div",{staticClass:"buttons-tab fixed-tab buttons-fixed"},[i("a",{staticClass:"tab-link button active",attrs:{href:"#tab1",id:"tab-header1"}},[t._v("保养项目")]),t._v(" "),i("a",{staticClass:"tab-link button",staticStyle:{display:"none"},attrs:{href:"#tab2",id:"tab-header2"}},[t._v("未绑定保养项")]),t._v(" "),i("a",{staticClass:"tab-link button",attrs:{href:"#tab3",id:"tab-header3"}},[t._v("保养记录")])]),t._v(" "),i("div",{staticClass:"tabs"},[i("div",{staticClass:"tab active",attrs:{id:"tab1"}},[i("div",{staticClass:"content-block tab-page-block tab-page",attrs:{id:"tab-page-binded-list"}})]),t._v(" "),i("div",{staticClass:"tab",staticStyle:{display:"none"},attrs:{id:"tab2"}},[i("div",{staticClass:"content-block tab-page-block tab-page",attrs:{id:"tab-page-unbinded-list"}})]),t._v(" "),i("div",{staticClass:"tab",attrs:{id:"tab3"}},[i("div",{staticClass:"content-block tab-page-block tab-page",attrs:{id:"tab-page-history-list"}})])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("保养周期")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",id:"pop-cycle",placeholder:"输入保养周期，单位：天"}})])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("上次保养时间")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",id:"pop-last-time",placeholder:"上次保养时间"}})])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-block"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-50"},[i("a",{staticClass:"close-popup button button-big button-fill button-danger"},[t._v("取消")])]),t._v(" "),i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-success",attrs:{id:"pop-commit-btn"}},[t._v("提交")])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),i("el-dialog",{attrs:{title:"提示",id:"bar-nav"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[i("div",{staticClass:"popup2"},[i("header",{staticClass:"bar bar-nav"},[i("a",{staticClass:"button button-link button-nav pull-left popup-back",on:{click:function(e){t.dialogVisible=!1}}},[i("span",{staticClass:"icon icon-left"}),t._v(" 返回\n                ")]),t._v(" "),i("h1",{staticClass:"title"},[t._v("选择机床")])]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"content-block-title"},[t._v("车间列表")]),t._v(" "),i("div",{staticClass:"list-block"},[i("ul",{attrs:{id:"workshop-list"}},t._l(t.list,function(e,a){return i("li",{staticClass:"item-content item-link workshop-item",attrs:{id:e.id},on:{click:function(e){t.workshopItem(a)}}},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"item-after"},[t._v("\n                                    "+t._s(e.machine_count+"台机床")+"\n                                ")])]),t._v(" "),i("div",{staticClass:"row",attrs:{id:"machine-list-"+e.id,hidden:"hidden"}})])}))])])])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page page-current",attrs:{id:"router-main"}},[i("header",{staticClass:"bar bar-nav"},[i("h1",{staticClass:"title"},[t._v("工厂宝-机床保养")])]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"list-block"},[i("ul",[i("li",{staticClass:"item-content item-link",attrs:{id:"menu-maintenance-list"}},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("查看所有保养项目")])])])])]),t._v(" "),i("div",{staticClass:"list-block"},[i("ul",[i("li",{staticClass:"item-content item-link",attrs:{id:"menu-maintenance-detail"}},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("查看单台机器保养详情")])])])])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"content-block-title"},[t._v("整体请假数据统计列表")]),t._v(" "),i("div",{staticClass:"list-block",attrs:{id:"list-content"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content"},[i("h3",{staticClass:"col-xs-12 text-center"}),t._v(" "),i("p",{staticClass:"col-xs-12",staticStyle:{"text-indent":"2em"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"page"},[i("header",{staticClass:"bar bar-nav"},[i("h1",{staticClass:"title"},[t._v("机床故障报修")])]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"list-block"},[i("ul",[i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("机床类型")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",placeholder:"选择或填写机床类型"}})]),t._v(" "),i("div",{staticClass:"item-after"},[i("span",{staticClass:"icon icon-menu"})])])])]),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("机床产地")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",placeholder:"选择或填写机床产地"}})]),t._v(" "),i("div",{staticClass:"item-after"},[i("span",{staticClass:"icon icon-menu"})])])])]),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("机床品牌")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",placeholder:"选择或填写机床品牌"}})]),t._v(" "),i("div",{staticClass:"item-after"},[i("span",{staticClass:"icon icon-menu"})])])])]),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("机床系统")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",placeholder:"选择或填写机床系统"}})]),t._v(" "),i("div",{staticClass:"item-after"},[i("span",{staticClass:"icon icon-menu"})])])])]),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("设备故障代码")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",placeholder:"填写设备故障代码或拍照"}})]),t._v(" "),i("div",{staticClass:"item-after"},[i("span",{staticClass:"icon icon-menu"})])])])]),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("设备故障描述")]),t._v(" "),i("div",{staticClass:"item-input"},[i("input",{attrs:{type:"text",placeholder:"填写设备故障描述"}})])])])]),t._v(" "),i("li",[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("服务电话")]),t._v(" "),i("a",{attrs:{href:"tel:0755-32997069"}},[i("div",{staticClass:"item-after"},[t._v("\n                                        0755-32997069（点击拨打）\n                                    ")])])])])])])]),t._v(" "),i("div",{staticClass:"content-block"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-danger"},[t._v("清空")])]),t._v(" "),i("div",{staticClass:"col-50"},[i("a",{staticClass:"button button-big button-fill button-success"},[t._v("提交")])])])])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticStyle:{padding:"0 25px","margin-top":"-35px"},attrs:{id:"master"}},[i("h3",[t._v("一、总则")]),t._v(" "),i("p",[t._v("\n\t\t\t1.1 工厂宝系统（"),i("a",{attrs:{href:"https://www.listome.com/"}},[t._v("https://www.listome.com/")]),t._v("）的所有权和运营权归深圳市利市通信息技术有限公司。\n\t\t")]),t._v(" "),i("p",[t._v("1.2\n\t\t\t用户在使用本系统的服务之前，应当仔细阅读本协议，并同意遵守本协议及所有系统规则后方可成为工厂宝系统用户；用户决定接受本协议并注册成功，即表明用户对本协议已仔细阅读并充分理解，用户与本系统之间已达成协议，愿意接受和遵守本协议及所有系统规则的规定，遵守相应的法律法规，承担相应的法律后果；用户在使用特殊的服务或产品时，应当同意接受相关协议后方能使用。\n\t\t")]),t._v(" "),i("p",[t._v("1.3\n\t\t\t本协议、系统规则可由本系统为优化发展需要适时更新，用户在使用工厂宝系统产品时应当及时关注，用户同意本系统不承担通知义务。本系统的通知、公告、声明或其它类似内容是本协议及系统规则的一部分。\n\t\t")]),t._v(" "),i("h3",[t._v("二、服务内容")]),t._v(" "),i("p",[t._v("2.1 本系统网络服务的具体内容由本系统根据实际情况提供，例如考勤规则、位置管理等。")]),t._v(" "),i("p",[t._v("2.2\n\t\t\t本系统提供的部分网络服务为收费的网络服务，用户使用收费网络服务需要向本系统支付一定的费用。对于收费的网络服务，本系统会在用户使用之前给予用户明确的提示，只有用户根据提示确认其愿意支付相关费用，用户才能使用该等收费网络服务。如用户拒绝支付相关费用，则本系统有权不向用户提供该等收费网络服务。\n\t\t")]),t._v(" "),i("p",[t._v("2.3\n\t\t\t本系统仅提供相关的网络服务，除此之外与相关网络服务有关的设备(如个人电脑、手机、及其他与接入互联网或移动网有关的装置)及所需的费用(如为接入互联网而支付的电话费及上网费、为使用移动网而支付的手机费)均应由用户自行负担。\n\t\t")]),t._v(" "),i("h3",[t._v("三、用户帐号")]),t._v(" "),i("p",[t._v("3.1\n\t\t\t经本系统注册系统完成注册程序并通过身份认证的用户即为本系统的正式用户，认证后即获得本系统规定用户所应享有的相应权限。工厂宝系统有权对会员的权限设计进行变更。\n\t\t")]),t._v(" "),i("p",[t._v("3.2\n\t\t\t用户只能使用汉字、英文字母、数字及它们的组合，且最多不超过16个字符(8个汉字)注册，禁止使用空格、各种符号和特殊字符，否则本系统将不予注册并有权删除。\n\t\t")]),t._v(" "),i("p",[t._v("3.3 如发现用户帐号中含有以下不雅文字或不恰当名称的，本系统保留取消其用户资格的权利：")]),t._v(" "),i("ul",[i("li",[t._v("(1)以党和国家领导人或其他社会名人的真实姓名、字号、艺名、笔名注册；")]),t._v(" "),i("li",[t._v("(2)以国家机构或其他机构的名称注册；")]),t._v(" "),i("li",[t._v("(3)注册不文明、不健康名字，或包含歧视、侮辱、猥亵类词语的帐号；")]),t._v(" "),i("li",[t._v("(4)注册易产生歧义、引起他人误解或其它不符合法律规定的帐号。")])]),t._v(" "),i("p",[t._v("3.4 用户帐号的所有权归本系统，用户仅享有使用权。")]),t._v(" "),i("p",[t._v("3.5\n\t\t\t用户有义务保证帐号和密码的安全，用户利用该帐号和密码所进行的一切活动引起的任何损失或损害，由用户自行承担全部责任，本系统不承担任何责任。如用户发现帐号遭到未授权的使用或发生其他任何安全问题，应立即修改帐号密码并妥善保管，如有必要，请通知本系统。因黑客行为或用户的保管疏忽导致帐号被非法使用，本系统不承担任何责任。\n\t\t")]),t._v(" "),i("h3",[t._v("四、使用规则")]),t._v(" "),i("p",[t._v("4.1\n\t\t\t用户在本系统进行的所有行为应遵守中华人民共和国相关法律法规，包括但不限于《中华人民共和国计算机信息系统安全保护条例》、《计算机软件保护条例》、《最高人民法院关于审理涉及计算机网络著作权纠纷案件适用法律若干问题的解释(法释[2004]1号)》、《全国人大常委会关于维护互联网安全的决定》、《互联网电子公告服务管理规定》、《互联网新闻信息服务管理规定》、《互联网著作权行政保护办法》和《信息网络传播权保护条例》等有关计算机互联网和知识产权的法律法规、实施办法。\n\t\t")]),t._v(" "),i("p",[t._v("4.2\n\t\t\t用户对其自行发表、上传或传送的内容负全部责任，所有用户不得在本系统任何页面发布、转载、传送含有下列内容之一的信息，否则本系统有权自行处理并不通知用户：\n\t\t")]),t._v(" "),i("ul",[i("li",[t._v("(1)违反宪法规定及其基本原则的；")]),t._v(" "),i("li",[t._v("(2)危害国家安全，泄漏国家机密，颠覆国家政权，破坏国家统一的；")]),t._v(" "),i("li",[t._v("(3)损害国家荣誉和利益的；")]),t._v(" "),i("li",[t._v("(4)煽动民族仇恨、民族歧视，破坏民族团结的；")]),t._v(" "),i("li",[t._v("(5)破坏国家宗教政策，宣扬邪教和封建迷信的；")]),t._v(" "),i("li",[t._v("(6)散布谣言，扰乱社会秩序，破坏社会稳定的；")]),t._v(" "),i("li",[t._v("(7)散布淫秽、色情、赌博、暴力、恐怖或者教唆犯罪的；")]),t._v(" "),i("li",[t._v("(8)侮辱或者诽谤他人，侵害他人合法权益的；")]),t._v(" "),i("li",[t._v("(9)煽动非法集会、结社、游行、示威的；")]),t._v(" "),i("li",[t._v("(10)以非法民间组织名义活动的；")]),t._v(" "),i("li",[t._v("(11)含有法律、行政法规禁止的其他内容的。")])]),t._v(" "),i("p",[t._v("4.3\n\t\t\t用户承诺对其发表或者上传于本系统的所有信息(即属于《中华人民共和国著作权法》规定的作品，包括但不限于文字、图片、音乐、电影、表演和录音录像制品和电脑程序等)均享有完整的知识产权，或者已经得到相关权利人的合法授权；如用户违反本条规定造成本系统被第三人索赔的，用户应承担因此所致本系统所发生的一切损失及费用(包括但不限于各种补偿费、诉讼代理费及为此支出的其它合理费用)；\n\t\t")]),t._v(" "),i("p",[t._v("4.4\n\t\t\t当第三方认为用户发表或者上传于本系统的信息侵犯其权利，并根据《信息网络传播权保护条例》或者相关法律规定向本系统发送权利通知书时，用户同意本系统可以自行判断决定删除涉嫌侵权信息，除非用户提交书面证据材料排除侵权的可能性，本系统将不会自动恢复上述删除的信息；\n\t\t")]),t._v(" "),i("ul",[i("li",[t._v("(1)不得为任何非法目的而使用网络服务系统；")]),t._v(" "),i("li",[t._v("(2)遵守所有与网络服务有关的网络协议、规定和程序；")]),t._v(" "),i("li",[t._v("(3)不得利用本系统服务进行任何可能对互联网的正常运转造成不利影响的行为；")]),t._v(" "),i("li",[t._v("(4)不得利用本系统服务进行任何不利于本系统的行为。")])]),t._v(" "),i("p",[t._v("4.5\n\t\t\t如用户在使用网络服务时违反上述任何规定，本系统有权要求用户改正或直接采取一切必要的措施(包括但不限于删除用户张贴的内容、暂停或终止用户使用网络服务的权利)以减轻用户不当行为而造成的影响。\n\t\t")]),t._v(" "),i("h3",[t._v("五、隐私保护")]),t._v(" "),i("p",[t._v("5.1 本系统不对外公开或向第三方提供单个用户的注册资料及用户在使用网络服务时存储在本系统的非公开内容，但下列情况除外：")]),t._v(" "),i("ul",[i("li",[t._v("(1)事先获得用户的明确授权；")]),t._v(" "),i("li",[t._v("(2)根据有关的法律法规要求；")]),t._v(" "),i("li",[t._v("(3)按照相关政府主管部门的要求；")]),t._v(" "),i("li",[t._v("(4)为维护社会公众的利益。")])]),t._v(" "),i("p",[t._v("5.2\n\t\t\t本系统可能会与第三方合作向用户提供相关的网络服务，在此情况下，如该第三方同意承担与本系统同等的保护用户隐私的责任，则本系统有权将用户的注册资料等提供给该第三方。\n\t\t\t在不透露单个用户隐私资料的前提下，本系统有权对整个用户数据库进行分析并对用户数据库进行商业上的利用。")]),t._v(" "),i("h3",[t._v("六、版权声明")]),t._v(" "),i("p",[t._v("6.1 本系统的文字、图片、音频、视频等版权均归本系统享有或本系统与作者共同享有，未经本系统许可，不得任意转载。")]),t._v(" "),i("p",[t._v("6.2 本系统特有的标识、版面设计、编排方式等版权均属本系统享有，未经本系统许可，不得任意复制或转载。")]),t._v(" "),i("p",[t._v("\n\t\t\t6.3 使用本系统的任何内容均应注明“来源于工厂宝系统（ "),i("a",{attrs:{href:"https://www.listome.com/"}},[t._v("https://www.listome.com/")]),t._v("\n\t\t\t）”及署上作者姓名，按法律规定需要支付稿酬的，应当通知本系统及作者并支付稿酬，并独立承担一切法律责任。\n\t\t")]),t._v(" "),i("p",[t._v("6.4\n\t\t\t本系统享有所有作品用于其它用途的优先权，包括但不限于网站、电子杂志、平面出版等，但在使用前会通知作者，并按同行业的标准支付稿酬。")]),t._v(" "),i("p",[t._v("6.5 本系统所有内容仅代表作者自己的立场和观点，与本系统无关，由作者本人承担一切法律责任。")]),t._v(" "),i("p",[t._v("6.6 恶意转载本系统内容的，本系统保留将其诉诸法律的权利。")]),t._v(" "),i("h3",[t._v("七、责任声明")]),t._v(" "),i("p",[t._v("7.1 用户明确同意其使用本系统网络服务所存在的风险及一切后果将完全由用户本人承担，本系统对此不承担任何责任。")]),t._v(" "),i("p",[t._v("7.2\n\t\t\t本系统无法保证网络服务一定能满足用户的要求，也不保证网络服务的及时性、安全性、准确性，用户对此应予以充分理解、认知和接受。")]),t._v(" "),i("p",[t._v("7.3\n\t\t\t本系统无法保证为方便用户而设置的外部链接的准确性和完整性，同时，对于该等外部链接指向的不由本系统实际控制的任何网页上的内容，本系统不承担任何责任。\n\t\t")]),t._v(" "),i("p",[t._v("7.4\n\t\t\t对于因不可抗力或本系统不能控制的原因造成的网络服务中断或其它缺陷，本系统不承担任何责任，但将尽力减少因此而给用户造成的损失和影响。")]),t._v(" "),i("p",[t._v("7.5 对于本系统向用户提供的下列产品或者服务的质量缺陷本身及其引发的任何损失，本系统无需承担任何责任：")]),t._v(" "),i("ul",[i("li",[t._v("(1)本系统向用户免费提供的各项网络服务；")]),t._v(" "),i("li",[t._v("(2)本系统向用户赠送的任何产品或者服务；")]),t._v(" "),i("li",[t._v("(3)本系统向收费网络服务用户附赠的各种产品或者服务。")])]),t._v(" "),i("p",[t._v("7.6\n\t\t\t本系统有权于任何时间暂时或永久修改或终止本服务(或其任何部分)，而无论通知与否，本系统对用户和任何第三人均无需承担任何责任。")]),t._v(" "),i("h3",[t._v("八、附则")]),t._v(" "),i("p",[t._v("8.1 本协议的订立、执行和解释及争议的解决均应适用中华人民共和国法律。\n\t\t\t如双方就本协议内容或其执行发生任何争议，双方应尽量友好协商解决；协商不成时，任何一方均可向工厂宝系统运营方所在地的人民法院提起诉讼。")]),t._v(" "),i("p",[t._v("8.2 无论何种原因导致本协议的部分条款无效的，本协议的其余条款仍应有效并且有约束力。")]),t._v(" "),i("p",[t._v("8.3 本协议解释权及修订权归工厂宝系统运营方。")]),t._v(" "),i("p")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pageGroup"},[i("div",{staticClass:"pageCurrent"},[i("audio",{staticStyle:{display:"none"},attrs:{src:"static/sound/alarm.wav",id:"alarm-audio"}}),t._v(" "),i("div",{staticClass:"contents",attrs:{id:"content"},domProps:{innerHTML:t._s(t.content)}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content",attrs:{id:"content"}},[i("div",[""==t.data.pic?i("img",{staticClass:"machine-img",attrs:{src:"static/images/machine_default.jpg"}}):i("img",{staticClass:"machine-img",attrs:{src:"https://img.listome.com"+t.data.pic}}),t._v(" "),i("span",{staticClass:"image-text"},[t._v("点击图片可修改")])]),t._v(" "),i("div",{staticClass:"content-block-title"},[t._v("机床详细信息")]),t._v(" "),i("div",{staticClass:"list-block"},[i("ul",[i("li",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("机床编号")]),t._v(" "),i("div",{staticClass:"item-after"},[t._v(t._s(t.data.sn))])])]),t._v(" "),i("li",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("机床类型")]),t._v(" "),i("div",{staticClass:"item-after"},[t._v(t._s(t.data.type))])])]),t._v(" "),i("li",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("机床型号")]),t._v(" "),i("div",{staticClass:"item-after"},[t._v(t._s(t.data.model))])])]),t._v(" "),i("li",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("机床品牌")]),t._v(" "),i("div",{staticClass:"item-after"},[t._v(t._s(t.data.brand))])])]),t._v(" "),i("li",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("购入日期")]),t._v(" "),t.data.buy_date<=0?i("div",{staticClass:"item-after"},[t._v("无")]):i("div",{staticClass:"item-after"},[t._v(t._s(t.data.buy_date))])])]),t._v(" "),i("li",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("保养周期")]),t._v(" "),t.data.maintenance_cycle<=0?i("div",{staticClass:"item-after"},[t._v("无")]):i("div",{staticClass:"item-after"},[t._v("每"+t._s(t.data.maintenance_cycle/86400)+"天一次")])])]),t._v(" "),i("li",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("上次保养日期")]),t._v(" "),t.data.last_maintenance_date<=0?i("div",{staticClass:"item-after"},[t._v("无")]):i("div",{staticClass:"item-after"},[t._v(t._s(t.data.last_maintenance_date))])])]),t._v(" "),t._m(0),t._v(" "),i("li",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title label"},[t._v("备注")]),t._v(" "),""==t.data.remark?i("div",{staticClass:"item-after no-permission"},[t._v("\n                            无\n                        ")]):i("div",{staticClass:"item-after no-permission"},[t._v("\n                            "+t._s(t.data.remark)+"\n                         ")]),t._v(" "),i("div",{staticClass:"item-input has-permission",staticStyle:{display:"none"}},[i("input",{attrs:{type:"text",id:"remark-input",placeholder:"填写备注信息"},domProps:{value:t.data.remark}})]),t._v(" "),t._m(1)])])])]),t._v(" "),i("div",{staticClass:"content-block-title"},[t._v("机床数据统计")]),t._v(" "),t._m(2),t._v(" "),i("div",{staticClass:"content-block-title"},[t._v("机床故障")]),t._v(" "),t._m(3),t._v(" "),i("div",{staticClass:"content-block-title"},[t._v("工具")]),t._v(" "),t._m(4)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"item-content item-link",attrs:{id:"menu-maintenance-detail"}},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("保养详情")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-after has-permission",staticStyle:{display:"none"}},[i("a",{staticClass:"button",attrs:{href:"#",id:"btn-submit-remark"}},[t._v("提交")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-block"},[i("ul",[i("li",{staticClass:"item-content item-link",attrs:{id:"menu-single-machine-statistics-day"}},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("查看该机床今日统计数据")])])]),t._v(" "),i("li",{staticClass:"item-content item-link",attrs:{id:"menu-single-machine-timeline-statistics-day"}},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("查看该机床时间轴数据")])])]),t._v(" "),i("li",{staticClass:"item-content item-link",attrs:{id:"menu-single-machine-statistics-month"}},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("查看该机床月统计数据")])])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-block"},[i("ul",[i("li",{staticClass:"item-content item-link",attrs:{id:"menu-machine-alert"}},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("查看机床故障")])])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-block"},[i("ul",[i("li",{staticClass:"item-content item-link",attrs:{id:"menu-machine-calculate"}},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v("加工计算器")])])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"content",attrs:{id:"content"}},[i("div",{staticClass:"content-block-title"},[t._v("机床报警列表")]),t._v(" "),i("div",{staticClass:"list-block"},[i("ul",{attrs:{id:"list"}},t._l(t.list,function(e,a){return i("li",{staticClass:"item-content item-link",attrs:{id:e.id},on:{click:function(e){t.machineAlertDetail(a)}}},[t._m(0,!0),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v(t._s(e.time))])])])}))])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-media"},[i("i",{staticClass:"icon icon-f7"})])}]}}]),[362]);
//# sourceMappingURL=app.c320f4235bc05011a48c.js.map